<!DOCTYPE html><html lang="en" class="h-full bg-slate-1 text-slate-12 transition-colors ease-in-out"> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><!-- icon generator guy recommendation https://stackoverflow.com/a/48969053/2123547 --><link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png"><link rel="shortcut icon" href="/icons/favicon.ico"><!-- / icon generator guy recommendation --><meta name="generator" content="Astro v4.8.2"><!-- Canonical URL --><link rel="canonical" href="https://www.loskutoff.com/blog/50-shades-of-rust/"><!-- /Canonical URL --><!-- Primary Meta Tags --><title>50 Shades of Rust, or emerging Rust GUIs in a WASM world</title><meta name="title" content="50 Shades of Rust, or emerging Rust GUIs in a WASM world"><meta name="description" content="Igor's programming blog"><link rel="sitemap" href="/sitemap-index.xml"><!-- /Primary Meta Tags --><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://www.loskutoff.com/blog/50-shades-of-rust/"><meta property="og:title" content="50 Shades of Rust, or emerging Rust GUIs in a WASM world"><meta property="og:description" content="Igor's programming blog"><meta property="og:image" content="https://www.loskutoff.com/static/blog/50-shades-of-rust/splashcrab.jpg"><!-- /Open Graph / Facebook --><!-- X --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://www.loskutoff.com/blog/50-shades-of-rust/"><meta property="twitter:site" content="@ohdearlordylord"><meta property="twitter:title" content="50 Shades of Rust, or emerging Rust GUIs in a WASM world"><meta property="twitter:description" content="Igor's programming blog"><meta property="twitter:image" content="https://www.loskutoff.com/static/blog/50-shades-of-rust/splashcrab.jpg?1736430633049"><meta property="twitter:image:alt"><!-- /X --><!-- RSS Feed --><link rel="alternate" type="application/rss+xml" title="oh dear lordy lord" href="https://www.loskutoff.com/rss.xml"><!-- /RSS Feed --><!-- Third-party scripts --><link rel="stylesheet" href="/_astro/_slug_.C5DjtHDR.css"><script>window.va = window.va || function () { (window.vaq = window.vaq || []).push(arguments); };
		var script = document.createElement('script');
		script.defer = true;
		script.src = '/_vercel/insights/script.js';
		var head = document.querySelector('head');
		head.appendChild(script);
	</script></head> <body class="h-full"> <main class="flex h-full flex-col gap-6 p-6 md:flex-row"> <header class="flex flex-col border-b border-slate-3 print:hidden md:h-full md:border-b-0 md:border-r"> <h2 class="flex w-full justify-left font-mono text-slate-12"> <a href="/" class="md:w-min p-3 rounded-lg animate transition-all duration-200 hover:bg-slate-4" rel="prefetch"> 
oh dear lordy lord
 </a> <span id="astro-color-scheme-switch" data-astro-cid-zzomblhz>  <button> <span class="sr-only">Toggle Theme</span> <span class="dark:hidden"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256"><path d="M120,40V16a8,8,0,0,1,16,0V40a8,8,0,0,1-16,0Zm72,88a64,64,0,1,1-64-64A64.07,64.07,0,0,1,192,128Zm-16,0a48,48,0,1,0-48,48A48.05,48.05,0,0,0,176,128ZM58.34,69.66A8,8,0,0,0,69.66,58.34l-16-16A8,8,0,0,0,42.34,53.66Zm0,116.68-16,16a8,8,0,0,0,11.32,11.32l16-16a8,8,0,0,0-11.32-11.32ZM192,72a8,8,0,0,0,5.66-2.34l16-16a8,8,0,0,0-11.32-11.32l-16,16A8,8,0,0,0,192,72Zm5.66,114.34a8,8,0,0,0-11.32,11.32l16,16a8,8,0,0,0,11.32-11.32ZM48,128a8,8,0,0,0-8-8H16a8,8,0,0,0,0,16H40A8,8,0,0,0,48,128Zm80,80a8,8,0,0,0-8,8v24a8,8,0,0,0,16,0V216A8,8,0,0,0,128,208Zm112-88H216a8,8,0,0,0,0,16h24a8,8,0,0,0,0-16Z"></path></svg></span> <span class="hidden dark:block"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256"><path d="M233.54,142.23a8,8,0,0,0-8-2,88.08,88.08,0,0,1-109.8-109.8,8,8,0,0,0-10-10,104.84,104.84,0,0,0-52.91,37A104,104,0,0,0,136,224a103.09,103.09,0,0,0,62.52-20.88,104.84,104.84,0,0,0,37-52.91A8,8,0,0,0,233.54,142.23ZM188.9,190.34A88,88,0,0,1,65.66,67.11a89,89,0,0,1,31.4-26A106,106,0,0,0,96,56,104.11,104.11,0,0,0,200,160a106,106,0,0,0,14.92-1.06A89,89,0,0,1,188.9,190.34Z"></path></svg></span> </button>  </span>  <script>(function(){const strategy = "button";
const defaultTheme = undefined;

  const themeSwitch = document.getElementById("astro-color-scheme-switch");
  const theme = localStorage.getItem("theme");
  const themeMatcher = window.matchMedia("(prefers-color-scheme: dark)");
  let systemTheme = themeMatcher.matches ? "dark" : "light";

  themeMatcher.addEventListener("change", (event) => {
    const theme = event.matches ? "dark" : "light";
    systemTheme = theme;
    if (localStorage.getItem("theme") === "system") {
      updateAppliedTheme(theme);
    }
  });

  function updateAppliedTheme(value) {
    document.documentElement.classList.remove("light", "dark");
    document.documentElement.classList.add(value);
    document.documentElement.setAttribute("data-theme", value);
  }

  function updateTheme(value) {
    const theme = value === "system" ? systemTheme : value;
    updateAppliedTheme(theme);
    localStorage.setItem("theme", value);
  }

  function setupThemeSwitch(selector, eventType, themeUpdater) {
    const element = themeSwitch.querySelector(selector);
    if (!element) {
      throw new Error(
        `plugin-astro-color-scheme: <${selector}> element must be present inside 'themeSwitch' or change the 'strategy' attribute`
      );
    }

    if (selector === "form") {
      element.value = theme || defaultTheme || systemTheme;
      Array.from(element.querySelectorAll("input")).forEach((input) => {
        input.checked = (theme || defaultTheme || systemTheme) === input.value;
      });
    } else {
      element.value = theme || defaultTheme || systemTheme;
    }

    if (selector === "input") {
      element.checked = defaultTheme !== element.value;
    }

    updateTheme(element.value);
    element.addEventListener(eventType, themeUpdater);
  }

  switch (strategy) {
    case "button":
      setupThemeSwitch("button", "click", (event) => {
        const button = event.currentTarget;
        const settheme = button.value === "dark" ? "light" : "dark";
        button.value = settheme;
        updateTheme(settheme);
      });
      break;
    case "select":
      setupThemeSwitch("select", "change", (event) => {
        const select = event.currentTarget;
        updateTheme(select.value);
      });
      break;
    case "checkbox":
      setupThemeSwitch("input", "change", (event) => {
        const checkbox = event.currentTarget;
        const settheme = checkbox.value === "dark" ? "light" : "dark";
        checkbox.value = settheme;
        updateTheme(settheme);
      });
      break;
    case "radio":
      setupThemeSwitch("form", "click", (event) => {
        updateTheme(event.currentTarget.value);
      });
      break;
    default:
      updateTheme(theme || defaultTheme || systemTheme);
  }
})();</script> </h2> <nav class="flex h-full justify-center gap-4 font-black md:flex-col md:justify-start"> <a href="/blog" class="md:w-min p-3 rounded-lg animate transition-all duration-200 hover:bg-slate-4" rel="prefetch"> Blog </a> </nav> <div class="mr-8 mb-4 flex w-full justify-center gap-4"> <a href="https://github.com/dearlordylord" class="md:w-min p-3 rounded-lg animate transition-all duration-200 hover:bg-slate-4" rel="prefetch" target="_blank">  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 256 256"><path d="M208.31,75.68A59.78,59.78,0,0,0,202.93,28,8,8,0,0,0,196,24a59.75,59.75,0,0,0-48,24H124A59.75,59.75,0,0,0,76,24a8,8,0,0,0-6.93,4,59.78,59.78,0,0,0-5.38,47.68A58.14,58.14,0,0,0,56,104v8a56.06,56.06,0,0,0,48.44,55.47A39.8,39.8,0,0,0,96,192v8H72a24,24,0,0,1-24-24A40,40,0,0,0,8,136a8,8,0,0,0,0,16,24,24,0,0,1,24,24,40,40,0,0,0,40,40H96v16a8,8,0,0,0,16,0V192a24,24,0,0,1,48,0v40a8,8,0,0,0,16,0V192a39.8,39.8,0,0,0-8.44-24.53A56.06,56.06,0,0,0,216,112v-8A58.14,58.14,0,0,0,208.31,75.68ZM200,112a40,40,0,0,1-40,40H112a40,40,0,0,1-40-40v-8a41.74,41.74,0,0,1,6.9-22.48A8,8,0,0,0,80,73.83a43.81,43.81,0,0,1,.79-33.58,43.88,43.88,0,0,1,32.32,20.06A8,8,0,0,0,119.82,64h32.35a8,8,0,0,0,6.74-3.69,43.87,43.87,0,0,1,32.32-20.06A43.81,43.81,0,0,1,192,73.83a8.09,8.09,0,0,0,1,7.65A41.72,41.72,0,0,1,200,104Z"></path></svg>  </a> <!-- TODO TIL --> <!-- TODO presentations --> <!-- TODO apps --> <!-- TODO resume --> <!-- TODO dnd --> <a href="https://linkedin.com/in/igor-loskutov/" class="md:w-min p-3 rounded-lg animate transition-all duration-200 hover:bg-slate-4" rel="prefetch" target="_blank">  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 256 256"><path d="M216,24H40A16,16,0,0,0,24,40V216a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V40A16,16,0,0,0,216,24Zm0,192H40V40H216V216ZM96,112v64a8,8,0,0,1-16,0V112a8,8,0,0,1,16,0Zm88,28v36a8,8,0,0,1-16,0V140a20,20,0,0,0-40,0v36a8,8,0,0,1-16,0V112a8,8,0,0,1,15.79-1.78A36,36,0,0,1,184,140ZM100,84A12,12,0,1,1,88,72,12,12,0,0,1,100,84Z"></path></svg>  </a> <a href="https://twitter.com/ohdearlordylord" class="md:w-min p-3 rounded-lg animate transition-all duration-200 hover:bg-slate-4" rel="prefetch" target="_blank">  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 256 256"><path d="M247.39,68.94A8,8,0,0,0,240,64H209.57A48.66,48.66,0,0,0,168.1,40a46.91,46.91,0,0,0-33.75,13.7A47.9,47.9,0,0,0,120,88v6.09C79.74,83.47,46.81,50.72,46.46,50.37a8,8,0,0,0-13.65,4.92c-4.31,47.79,9.57,79.77,22,98.18a110.93,110.93,0,0,0,21.88,24.2c-15.23,17.53-39.21,26.74-39.47,26.84a8,8,0,0,0-3.85,11.93c.75,1.12,3.75,5.05,11.08,8.72C53.51,229.7,65.48,232,80,232c70.67,0,129.72-54.42,135.75-124.44l29.91-29.9A8,8,0,0,0,247.39,68.94Zm-45,29.41a8,8,0,0,0-2.32,5.14C196,166.58,143.28,216,80,216c-10.56,0-18-1.4-23.22-3.08,11.51-6.25,27.56-17,37.88-32.48A8,8,0,0,0,92,169.08c-.47-.27-43.91-26.34-44-96,16,13,45.25,33.17,78.67,38.79A8,8,0,0,0,136,104V88a32,32,0,0,1,9.6-22.92A30.94,30.94,0,0,1,167.9,56c12.66.16,24.49,7.88,29.44,19.21A8,8,0,0,0,204.67,80h16Z"></path></svg>  </a> </div> </header> <div class="w-full">  <article class="flex w-full flex-col items-center gap-6"> <h1 class="text-center text-4xl font-bold">50 Shades of Rust, or emerging Rust GUIs in a WASM world</h1> <img src="/static/blog/50-shades-of-rust/splashcrab.jpg" class="mb-6 w-full rounded-xl border border-slate-3 shadow-lg md:max-w-4xl"> <time datetime="2024-04-26T13:44:27.000Z" class="whitespace-nowrap italic text-slate-11"> Apr 26, 2024 </time> <hr> <div class="prose prose-slate dark:prose-invert flex w-full flex-col md:max-w-4xl">  <center><h1 id="50-shades-of-rust">50 Shades of Rust</h1><big><p><strong>Or emerging Rust GUIs in a WASM world</strong></p></big><p><em>Written by Igor Loskutov. Originally published 2023-04-26 on the <a href="https://monadical.com/blog.html">Monadical blog</a>.</em></p></center>
<p>GUI in Rust progresses with unprecedented speed – 3 months in Rust GUI-land is like 3 years in the mortal world. To put things in perspective, GUI moves so fast for the web that it’s even ahead of browsers. There are many possible reasons for this, from the cross-platform nature of Rust to the WebAssembly support, which provides easier distribution of software.</p>
<p>In this post, I’ll review the current toolkit for GUI in Rust, and share some tips for building WebAssembly bundles. Due to the speed at which GUI in Rust moves, some tools I’ve outlined below may deprecate in the near future. So, at the risk of this post becoming obsolete before you’ve finished reading it, let’s dive into the most current GUI architecture for Rust that I’ve discovered thus far.</p>
<h2 id="the-current-toolkit">The current toolkit</h2>
<p>Before we get into the toolkit, please note that I mention Elm Architecture and Immediate Mode many times here, although their definitions are beyond the scope of this post. However, you can think of <a href="https://guide.elm-lang.org/architecture/">Elm Architecture</a> as roughly similar to Redux (if you have experience with it), and you can consider <a href="https://en.wikipedia.org/wiki/Immediate_mode_GUI">Immediate Mode</a> more imperative than Elm.
It’s also worth mentioning that many libraries have now started  using “signal” reactive semantics, where you mutate your state variables directly; this is then reflected in the UI automatically, just like we had in the times of Angular 1.</p>
<p>Now, onto the toolkit.</p>
<h3 id="1-dioxus">1. <a href="https://github.com/DioxusLabs/dioxus">Dioxus</a></h3>
<p><strong>Dioxus</strong> has a react-like interface architecture, but on Rust. For Desktop builds, it uses Tauri, focuses on the Web, has experimental Terminal support, and has an SSR feature for generating server-side markup. Dioxus also implements React-like interior mutability for data handling with, for example, <code>use_state</code>. Because of its global state management through useContext-like API, potential Redux-like tools <a href="https://dioxuslabs.com/docs/0.3/guide/en/roadmap.html">can be integrated through it</a> (“redux/recoil/mobx on top of context”). Below is an example widget built with Dioxus:</p>
<iframe src="https://shades-dioxus.apps.loskutoff.com" width="150px" height="150px"></iframe>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="rust"><code><span class="line"><span style="color:#6A737D">// main.rs</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">fn</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#6A737D">   // launch the web app</span></span>
<span class="line"><span style="color:#B392F0">   dioxus_web</span><span style="color:#F97583">::</span><span style="color:#B392F0">launch</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">App</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">fn</span><span style="color:#B392F0"> echo_to_angle</span><span style="color:#E1E4E8">(s</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;</span><span style="color:#B392F0">str</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-&gt;</span><span style="color:#B392F0"> u32</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">   let</span><span style="color:#F97583"> mut</span><span style="color:#E1E4E8"> angle </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">   for</span><span style="color:#E1E4E8"> c </span><span style="color:#F97583">in</span><span style="color:#E1E4E8"> s</span><span style="color:#F97583">.</span><span style="color:#B392F0">chars</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">       angle </span><span style="color:#F97583">+=</span><span style="color:#E1E4E8"> c </span><span style="color:#F97583">as</span><span style="color:#B392F0"> u32</span><span style="color:#F97583"> %</span><span style="color:#79B8FF"> 360</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"><span style="color:#E1E4E8">   angle</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">fn</span><span style="color:#B392F0"> App</span><span style="color:#E1E4E8">(cx</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Scope</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-&gt;</span><span style="color:#B392F0"> Element</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">   let</span><span style="color:#E1E4E8"> echo </span><span style="color:#F97583">=</span><span style="color:#B392F0"> use_state</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#E1E4E8">cx, </span><span style="color:#F97583">||</span><span style="color:#9ECBFF"> &quot;Echo&quot;</span><span style="color:#F97583">.</span><span style="color:#B392F0">to_string</span><span style="color:#E1E4E8">());</span></span>
<span class="line"><span style="color:#F97583">   let</span><span style="color:#E1E4E8"> angle </span><span style="color:#F97583">=</span><span style="color:#B392F0"> use_state</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#E1E4E8">cx, </span><span style="color:#F97583">||</span><span style="color:#B392F0"> echo_to_angle</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#E1E4E8">echo</span><span style="color:#F97583">.</span><span style="color:#B392F0">get</span><span style="color:#E1E4E8">()));</span></span>
<span class="line"><span style="color:#E1E4E8">   cx</span><span style="color:#F97583">.</span><span style="color:#B392F0">spawn</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#F97583">       let</span><span style="color:#F97583"> mut</span><span style="color:#E1E4E8"> angle </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> angle</span><span style="color:#F97583">.</span><span style="color:#B392F0">to_owned</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">       async</span><span style="color:#F97583"> move</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">           TimeoutFuture</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">50</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">.await</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">           angle</span><span style="color:#F97583">.</span><span style="color:#B392F0">with_mut</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">|</span><span style="color:#E1E4E8">a</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">               *</span><span style="color:#E1E4E8">a </span><span style="color:#F97583">+=</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">               *</span><span style="color:#E1E4E8">a </span><span style="color:#F97583">=</span><span style="color:#F97583"> *</span><span style="color:#E1E4E8">a </span><span style="color:#F97583">%</span><span style="color:#79B8FF"> 360</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">           });</span></span>
<span class="line"><span style="color:#E1E4E8">       }</span></span>
<span class="line"><span style="color:#E1E4E8">   });</span></span>
<span class="line"><span style="color:#E1E4E8">   cx</span><span style="color:#F97583">.</span><span style="color:#B392F0">render</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">rsx!</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">       div {</span></span>
<span class="line"><span style="color:#E1E4E8">           div {</span></span>
<span class="line"><span style="color:#9ECBFF">               &quot;Angle: {angle}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8">           }</span></span>
<span class="line"><span style="color:#E1E4E8">           div {</span></span>
<span class="line"><span style="color:#E1E4E8">               transform</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;rotateX({angle}deg) rotateY({angle}deg)&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">               width</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;100px&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">               height</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;100px&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">               transform_style</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;preserve-3d&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">               position</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;relative&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">               div {</span></span>
<span class="line"><span style="color:#E1E4E8">                   position</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;absolute&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">                   width</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;100%&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">                   height</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;100%&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">                   background</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;red&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">                   transform</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;translateZ(50px)&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">               }</span></span>
<span class="line"><span style="color:#6A737D">               // more cube sides CSS definitions omitted</span></span>
<span class="line"><span style="color:#E1E4E8">               div {</span></span>
<span class="line"><span style="color:#E1E4E8">                   position</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;absolute&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">                   width</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;100%&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">                   height</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;100%&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">                   background</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;orange&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">                   transform</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;rotateY(90deg) translateZ(50px)&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">               }</span></span>
<span class="line"><span style="color:#E1E4E8">           }</span></span>
<span class="line"><span style="color:#E1E4E8">       }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">   })</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<h3 id="2-tauri">2. <a href="https://github.com/tauri-apps/tauri">Tauri</a></h3>
<p><strong>Tauri</strong> is a framework to create desktop apps (with mobile platforms coming soon), like <a href="https://github.com/electron/electron">Electron</a>, written in Rust. Tauri gives its own window interface to the app and lets you run TS code that talks with Rust through a custom promise-based protocol. It’s not Tauri’s purpose to be buildable for the web, although it leverages web technologies for desktop apps. You can use many frontend libraries, like React (provided in their init scripts), or just go vanilla.</p>
<p><img src="https://docs.monadical.com/uploads/8cd8d82a-1cbc-4b3b-917b-cac9b4a26fcf.png" alt="Tauri example UI screenshot"/></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="plaintext"><code><span class="line"><span>&lt;!-- index.html --&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;div class=&quot;row&quot;&gt;</span></span>
<span class="line"><span>   &lt;div&gt;</span></span>
<span class="line"><span>       &lt;input id=&quot;greet-input&quot; placeholder=&quot;Enter a name...&quot;/&gt;</span></span>
<span class="line"><span>       &lt;button id=&quot;greet-button&quot; type=&quot;button&quot;&gt;Greet&lt;/button&gt;</span></span>
<span class="line"><span>   &lt;/div&gt;</span></span>
<span class="line"><span>&lt;/div&gt;</span></span>
<span class="line"><span></span></span></code></pre>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#6A737D">// main.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> { invoke } </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> &quot;@tauri-apps/api/tauri&quot;</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">let</span><span style="color:#E1E4E8"> greetInputEl</span><span style="color:#F97583">:</span><span style="color:#B392F0"> HTMLInputElement</span><span style="color:#F97583"> |</span><span style="color:#79B8FF"> null</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">let</span><span style="color:#E1E4E8"> greetMsgEl</span><span style="color:#F97583">:</span><span style="color:#B392F0"> HTMLElement</span><span style="color:#F97583"> |</span><span style="color:#79B8FF"> null</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">async</span><span style="color:#F97583"> function</span><span style="color:#B392F0"> greet</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583"> if</span><span style="color:#E1E4E8"> (greetMsgEl </span><span style="color:#F97583">&amp;&amp;</span><span style="color:#E1E4E8"> greetInputEl) {</span></span>
<span class="line"><span style="color:#6A737D">   // Learn more about Tauri commands at https://tauri.app/v1/guides/features/command</span></span>
<span class="line"><span style="color:#E1E4E8">   greetMsgEl.textContent </span><span style="color:#F97583">=</span><span style="color:#F97583"> await</span><span style="color:#B392F0"> invoke</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;greet&quot;</span><span style="color:#E1E4E8">, {</span></span>
<span class="line"><span style="color:#E1E4E8">     name: greetInputEl.value,</span></span>
<span class="line"><span style="color:#E1E4E8">   });</span></span>
<span class="line"><span style="color:#E1E4E8"> }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">window.</span><span style="color:#B392F0">addEventListener</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;DOMContentLoaded&quot;</span><span style="color:#E1E4E8">, () </span><span style="color:#F97583">=&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8"> greetInputEl </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> document.</span><span style="color:#B392F0">querySelector</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;#greet-input&quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8"> greetMsgEl </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> document.</span><span style="color:#B392F0">querySelector</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;#greet-msg&quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8"> document</span></span>
<span class="line"><span style="color:#E1E4E8">   .</span><span style="color:#B392F0">querySelector</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;#greet-button&quot;</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">   ?.</span><span style="color:#B392F0">addEventListener</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;click&quot;</span><span style="color:#E1E4E8">, () </span><span style="color:#F97583">=&gt;</span><span style="color:#B392F0"> greet</span><span style="color:#E1E4E8">());</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span>
<span class="line"></span></code></pre>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="rust"><code><span class="line"><span style="color:#6A737D">//main.rs</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">#[tauri</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">command]</span></span>
<span class="line"><span style="color:#F97583">fn</span><span style="color:#B392F0"> greet</span><span style="color:#E1E4E8">(name</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;</span><span style="color:#B392F0">str</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-&gt;</span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">   format!</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;Hello, {}! You&#39;ve been greeted from Rust!&quot;</span><span style="color:#E1E4E8">, name)</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">fn</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">   tauri</span><span style="color:#F97583">::</span><span style="color:#B392F0">Builder</span><span style="color:#F97583">::</span><span style="color:#B392F0">default</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#F97583">       .</span><span style="color:#B392F0">invoke_handler</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">tauri</span><span style="color:#F97583">::</span><span style="color:#B392F0">generate_handler!</span><span style="color:#E1E4E8">[greet])</span></span>
<span class="line"><span style="color:#F97583">       .</span><span style="color:#B392F0">run</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">tauri</span><span style="color:#F97583">::</span><span style="color:#B392F0">generate_context!</span><span style="color:#E1E4E8">())</span></span>
<span class="line"><span style="color:#F97583">       .</span><span style="color:#B392F0">expect</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;error while running tauri application&quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<h3 id="3-xilem">3. <a href="https://github.com/linebender/xilem">Xilem</a></h3>
<p><strong>Xilem</strong> is an experimental but very promising attempt at the data-first architecture that aligns well with Rust’s language architecture^[Notably, it means avoiding a shared mutable state and using Rust type inference at its fullest.]. It’s the successor of <a href="https://github.com/linebender/druid">Druid</a>.
The library’s author Raph Levien stated that “Xilem aims to be the premier UI library for Rust, drawing considerable inspiration from SwiftUI, with a serious focus on performance.” Please check out his entire article on Rust UI architecture: <a href="https://raphlinus.github.io/rust/gui/2022/05/07/ui-architecture.html">https://raphlinus.github.io/rust/gui/2022/05/07/ui-architecture.html</a>. It’s the best article on this topic to date, in my opinion.</p>
<p>Based on this article, the natural decision is to choose a centralized state like in Elm architecture. The library uses its own renderer and is about to start heavily utilizing GPU features for even faster rendering. The project is at a very early experimental stage at the moment. It currently targets WebGPU, which is problematic to run in the browser at this point, but it has a lot of promise.</p>
<h3 id="4-iced">4. <a href="https://github.com/iced-rs/iced">Iced</a></h3>
<p><strong>Iced</strong> is <a href="https://github.com/iced-rs/iced">“a cross-platform GUI library for Rust focused on simplicity and type-safety.”</a>. It uses Elm architecture and a reactive programming model. By default, web builds use DOM to render, but Iced can be used with other backends, too, like wgpu or glow. The web part seems a bit overlooked right now (<a href="https://github.com/iced-rs/iced_web">https://github.com/iced-rs/iced_web</a>), and it <a href="https://www.reddit.com/r/rust/comments/12zjysp/comment/jht57yc/">hasn’t been updated in a while</a>. Here, their built Bezier tool employs Canvas:</p>
<iframe src="https://shades-iced.apps.loskutoff.com" width="100%" height="250px"></iframe>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="rust"><code><span class="line"></span>
<span class="line"><span style="color:#6A737D">// main.rs</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">//! This example showcases an interactive `Canvas` for drawing Bézier curves.</span></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> iced</span><span style="color:#F97583">::</span><span style="color:#B392F0">widget</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">{button, column, text};</span></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> iced</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">{</span><span style="color:#B392F0">Alignment</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Element</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Length</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Sandbox</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Settings</span><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">pub</span><span style="color:#F97583"> fn</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">-&gt;</span><span style="color:#B392F0"> iced</span><span style="color:#F97583">::</span><span style="color:#B392F0">Result</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">   Example</span><span style="color:#F97583">::</span><span style="color:#B392F0">run</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Settings</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">       antialiasing</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> true</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#F97583">       ..</span><span style="color:#B392F0">Settings</span><span style="color:#F97583">::</span><span style="color:#B392F0">default</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#E1E4E8">   })</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">#[derive(</span><span style="color:#B392F0">Default</span><span style="color:#E1E4E8">)]</span></span>
<span class="line"><span style="color:#F97583">struct</span><span style="color:#B392F0"> Example</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">   bezier</span><span style="color:#F97583">:</span><span style="color:#B392F0"> bezier</span><span style="color:#F97583">::</span><span style="color:#B392F0">State</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">   curves</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Vec</span><span style="color:#E1E4E8">&lt;bezier</span><span style="color:#F97583">::</span><span style="color:#B392F0">Curve</span><span style="color:#E1E4E8">&gt;,</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">#[derive(</span><span style="color:#B392F0">Debug</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Clone</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Copy</span><span style="color:#E1E4E8">)]</span></span>
<span class="line"><span style="color:#F97583">enum</span><span style="color:#B392F0"> Message</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">   AddCurve</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">bezier</span><span style="color:#F97583">::</span><span style="color:#B392F0">Curve</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#B392F0">   Clear</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">impl</span><span style="color:#B392F0"> Sandbox</span><span style="color:#F97583"> for</span><span style="color:#B392F0"> Example</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">   type</span><span style="color:#B392F0"> Message</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> Message</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   fn</span><span style="color:#B392F0"> new</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">-&gt;</span><span style="color:#79B8FF"> Self</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">       Example</span><span style="color:#F97583">::</span><span style="color:#B392F0">default</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   fn</span><span style="color:#B392F0"> title</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#79B8FF">self</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-&gt;</span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">       String</span><span style="color:#F97583">::</span><span style="color:#B392F0">from</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;Bezier tool - Iced&quot;</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   fn</span><span style="color:#B392F0"> update</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;mut</span><span style="color:#79B8FF"> self</span><span style="color:#E1E4E8">, message</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Message</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">       match</span><span style="color:#E1E4E8"> message {</span></span>
<span class="line"><span style="color:#B392F0">           Message</span><span style="color:#F97583">::</span><span style="color:#B392F0">AddCurve</span><span style="color:#E1E4E8">(curve) </span><span style="color:#F97583">=&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">               self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">curves</span><span style="color:#F97583">.</span><span style="color:#B392F0">push</span><span style="color:#E1E4E8">(curve);</span></span>
<span class="line"><span style="color:#79B8FF">               self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">bezier</span><span style="color:#F97583">.</span><span style="color:#B392F0">request_redraw</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">           }</span></span>
<span class="line"><span style="color:#B392F0">           Message</span><span style="color:#F97583">::</span><span style="color:#B392F0">Clear</span><span style="color:#F97583"> =&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">               self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">bezier </span><span style="color:#F97583">=</span><span style="color:#B392F0"> bezier</span><span style="color:#F97583">::</span><span style="color:#B392F0">State</span><span style="color:#F97583">::</span><span style="color:#B392F0">default</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#79B8FF">               self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">curves</span><span style="color:#F97583">.</span><span style="color:#B392F0">clear</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">           }</span></span>
<span class="line"><span style="color:#E1E4E8">       }</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   fn</span><span style="color:#B392F0"> view</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#79B8FF">self</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-&gt;</span><span style="color:#B392F0"> Element</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">Message</span><span style="color:#E1E4E8">&gt; {</span></span>
<span class="line"><span style="color:#B392F0">       column!</span><span style="color:#E1E4E8">[</span></span>
<span class="line"><span style="color:#B392F0">           text</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;Bezier tool example&quot;</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">.</span><span style="color:#B392F0">width</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Length</span><span style="color:#F97583">::</span><span style="color:#B392F0">Shrink</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">.</span><span style="color:#B392F0">size</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">50</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#79B8FF">           self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">bezier</span><span style="color:#F97583">.</span><span style="color:#B392F0">view</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#79B8FF">self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">curves)</span><span style="color:#F97583">.</span><span style="color:#B392F0">map</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Message</span><span style="color:#F97583">::</span><span style="color:#B392F0">AddCurve</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#B392F0">           button</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;Clear&quot;</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">.</span><span style="color:#B392F0">padding</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">8</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">.</span><span style="color:#B392F0">on_press</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Message</span><span style="color:#F97583">::</span><span style="color:#B392F0">Clear</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#E1E4E8">       ]</span></span>
<span class="line"><span style="color:#F97583">           .</span><span style="color:#B392F0">padding</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">20</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">           .</span><span style="color:#B392F0">spacing</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">20</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">           .</span><span style="color:#B392F0">align_items</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Alignment</span><span style="color:#F97583">::</span><span style="color:#B392F0">Center</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">           .</span><span style="color:#B392F0">into</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">mod</span><span style="color:#B392F0"> bezier</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">   use</span><span style="color:#B392F0"> iced</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">mouse;</span></span>
<span class="line"><span style="color:#F97583">   use</span><span style="color:#B392F0"> iced</span><span style="color:#F97583">::</span><span style="color:#B392F0">widget</span><span style="color:#F97583">::</span><span style="color:#B392F0">canvas</span><span style="color:#F97583">::</span><span style="color:#B392F0">event</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">{</span><span style="color:#79B8FF">self</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Event</span><span style="color:#E1E4E8">};</span></span>
<span class="line"><span style="color:#F97583">   use</span><span style="color:#B392F0"> iced</span><span style="color:#F97583">::</span><span style="color:#B392F0">widget</span><span style="color:#F97583">::</span><span style="color:#B392F0">canvas</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#79B8FF">       self</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Canvas</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Cursor</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Frame</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Geometry</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Path</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Stroke</span><span style="color:#E1E4E8">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">       };</span></span>
<span class="line"><span style="color:#F97583">   use</span><span style="color:#B392F0"> iced</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">{</span><span style="color:#B392F0">Element</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Length</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Point</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Rectangle</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Theme</span><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">   #[derive(</span><span style="color:#B392F0">Default</span><span style="color:#E1E4E8">)]</span></span>
<span class="line"><span style="color:#F97583">   pub</span><span style="color:#F97583"> struct</span><span style="color:#B392F0"> State</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">       cache</span><span style="color:#F97583">:</span><span style="color:#B392F0"> canvas</span><span style="color:#F97583">::</span><span style="color:#B392F0">Cache</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   impl</span><span style="color:#B392F0"> State</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">       pub</span><span style="color:#F97583"> fn</span><span style="color:#B392F0"> view</span><span style="color:#E1E4E8">&lt;&#39;</span><span style="color:#B392F0">a</span><span style="color:#E1E4E8">&gt;(</span><span style="color:#F97583">&amp;</span><span style="color:#E1E4E8">&#39;</span><span style="color:#B392F0">a</span><span style="color:#79B8FF"> self</span><span style="color:#E1E4E8">, curves</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;</span><span style="color:#E1E4E8">&#39;</span><span style="color:#B392F0">a</span><span style="color:#E1E4E8"> [</span><span style="color:#B392F0">Curve</span><span style="color:#E1E4E8">]) </span><span style="color:#F97583">-&gt;</span><span style="color:#B392F0"> Element</span><span style="color:#E1E4E8">&lt;&#39;</span><span style="color:#B392F0">a</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Curve</span><span style="color:#E1E4E8">&gt; {</span></span>
<span class="line"><span style="color:#B392F0">           Canvas</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Bezier</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">               state</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> self</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">               curves,</span></span>
<span class="line"><span style="color:#E1E4E8">           })</span></span>
<span class="line"><span style="color:#F97583">               .</span><span style="color:#B392F0">width</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Length</span><span style="color:#F97583">::</span><span style="color:#B392F0">Fill</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">               .</span><span style="color:#B392F0">height</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Length</span><span style="color:#F97583">::</span><span style="color:#B392F0">Fill</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">               .</span><span style="color:#B392F0">into</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#E1E4E8">       }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">       pub</span><span style="color:#F97583"> fn</span><span style="color:#B392F0"> request_redraw</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;mut</span><span style="color:#79B8FF"> self</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#79B8FF">           self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">cache</span><span style="color:#F97583">.</span><span style="color:#B392F0">clear</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#E1E4E8">       }</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   struct</span><span style="color:#B392F0"> Bezier</span><span style="color:#E1E4E8">&lt;&#39;</span><span style="color:#B392F0">a</span><span style="color:#E1E4E8">&gt; {</span></span>
<span class="line"><span style="color:#E1E4E8">       state</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;</span><span style="color:#E1E4E8">&#39;</span><span style="color:#B392F0">a</span><span style="color:#B392F0"> State</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">       curves</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;</span><span style="color:#E1E4E8">&#39;</span><span style="color:#B392F0">a</span><span style="color:#E1E4E8"> [</span><span style="color:#B392F0">Curve</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   impl</span><span style="color:#E1E4E8">&lt;&#39;</span><span style="color:#B392F0">a</span><span style="color:#E1E4E8">&gt; </span><span style="color:#B392F0">canvas</span><span style="color:#F97583">::</span><span style="color:#B392F0">Program</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">Curve</span><span style="color:#E1E4E8">&gt; </span><span style="color:#F97583">for</span><span style="color:#B392F0"> Bezier</span><span style="color:#E1E4E8">&lt;&#39;</span><span style="color:#B392F0">a</span><span style="color:#E1E4E8">&gt; {</span></span>
<span class="line"><span style="color:#F97583">       type</span><span style="color:#B392F0"> State</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> Option</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">Pending</span><span style="color:#E1E4E8">&gt;;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">       fn</span><span style="color:#B392F0"> update</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#F97583">           &amp;</span><span style="color:#79B8FF">self</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">           state</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;mut</span><span style="color:#79B8FF"> Self</span><span style="color:#F97583">::</span><span style="color:#B392F0">State</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">           event</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Event</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">           bounds</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Rectangle</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">           cursor</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Cursor</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">       ) </span><span style="color:#F97583">-&gt;</span><span style="color:#E1E4E8"> (</span><span style="color:#B392F0">event</span><span style="color:#F97583">::</span><span style="color:#B392F0">Status</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Option</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">Curve</span><span style="color:#E1E4E8">&gt;) {</span></span>
<span class="line"><span style="color:#F97583">           let</span><span style="color:#E1E4E8"> cursor_position </span><span style="color:#F97583">=</span></span>
<span class="line"><span style="color:#F97583">               if</span><span style="color:#F97583"> let</span><span style="color:#B392F0"> Some</span><span style="color:#E1E4E8">(position) </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> cursor</span><span style="color:#F97583">.</span><span style="color:#B392F0">position_in</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#E1E4E8">bounds) {</span></span>
<span class="line"><span style="color:#E1E4E8">                   position</span></span>
<span class="line"><span style="color:#E1E4E8">               } </span><span style="color:#F97583">else</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">                   return</span><span style="color:#E1E4E8"> (</span><span style="color:#B392F0">event</span><span style="color:#F97583">::</span><span style="color:#B392F0">Status</span><span style="color:#F97583">::</span><span style="color:#B392F0">Ignored</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">None</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">               };</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">           match</span><span style="color:#E1E4E8"> event {</span></span>
<span class="line"><span style="color:#B392F0">               Event</span><span style="color:#F97583">::</span><span style="color:#B392F0">Mouse</span><span style="color:#E1E4E8">(mouse_event) </span><span style="color:#F97583">=&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">                   let</span><span style="color:#E1E4E8"> message </span><span style="color:#F97583">=</span><span style="color:#F97583"> match</span><span style="color:#E1E4E8"> mouse_event {</span></span>
<span class="line"><span style="color:#B392F0"> mouse</span><span style="color:#F97583">::</span><span style="color:#B392F0">Event</span><span style="color:#F97583">::</span><span style="color:#B392F0">ButtonPressed</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">mouse</span><span style="color:#F97583">::</span><span style="color:#B392F0">Button</span><span style="color:#F97583">::</span><span style="color:#B392F0">Left</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">                           match</span><span style="color:#F97583"> *</span><span style="color:#E1E4E8">state {</span></span>
<span class="line"><span style="color:#B392F0">                               None</span><span style="color:#F97583"> =&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">                                   *</span><span style="color:#E1E4E8">state </span><span style="color:#F97583">=</span><span style="color:#B392F0"> Some</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Pending</span><span style="color:#F97583">::</span><span style="color:#B392F0">One</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">                                       from</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> cursor_position,</span></span>
<span class="line"><span style="color:#E1E4E8">                                   });</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">                                   None</span></span>
<span class="line"><span style="color:#E1E4E8">                               }</span></span>
<span class="line"><span style="color:#B392F0">                               Some</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Pending</span><span style="color:#F97583">::</span><span style="color:#B392F0">One</span><span style="color:#E1E4E8"> { from }) </span><span style="color:#F97583">=&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">                                   *</span><span style="color:#E1E4E8">state </span><span style="color:#F97583">=</span><span style="color:#B392F0"> Some</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Pending</span><span style="color:#F97583">::</span><span style="color:#B392F0">Two</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">                                       from,</span></span>
<span class="line"><span style="color:#E1E4E8">                                       to</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> cursor_position,</span></span>
<span class="line"><span style="color:#E1E4E8">                                   });</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">                                   None</span></span>
<span class="line"><span style="color:#E1E4E8">                               }</span></span>
<span class="line"><span style="color:#B392F0">                               Some</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Pending</span><span style="color:#F97583">::</span><span style="color:#B392F0">Two</span><span style="color:#E1E4E8"> { from, to }) </span><span style="color:#F97583">=&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">                                   *</span><span style="color:#E1E4E8">state </span><span style="color:#F97583">=</span><span style="color:#B392F0"> None</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">                                   Some</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Curve</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">                                       from,</span></span>
<span class="line"><span style="color:#E1E4E8">                                       to,</span></span>
<span class="line"><span style="color:#E1E4E8">                                       control</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> cursor_position,</span></span>
<span class="line"><span style="color:#E1E4E8">                                   })</span></span>
<span class="line"><span style="color:#E1E4E8">                               }</span></span>
<span class="line"><span style="color:#E1E4E8">                           }</span></span>
<span class="line"><span style="color:#E1E4E8">                       }</span></span>
<span class="line"><span style="color:#E1E4E8">                       _ </span><span style="color:#F97583">=&gt;</span><span style="color:#B392F0"> None</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">                   };</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">                   (</span><span style="color:#B392F0">event</span><span style="color:#F97583">::</span><span style="color:#B392F0">Status</span><span style="color:#F97583">::</span><span style="color:#B392F0">Captured</span><span style="color:#E1E4E8">, message)</span></span>
<span class="line"><span style="color:#E1E4E8">               }</span></span>
<span class="line"><span style="color:#E1E4E8">               _ </span><span style="color:#F97583">=&gt;</span><span style="color:#E1E4E8"> (</span><span style="color:#B392F0">event</span><span style="color:#F97583">::</span><span style="color:#B392F0">Status</span><span style="color:#F97583">::</span><span style="color:#B392F0">Ignored</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">None</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#E1E4E8">           }</span></span>
<span class="line"><span style="color:#E1E4E8">       }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">       fn</span><span style="color:#B392F0"> draw</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#F97583">           &amp;</span><span style="color:#79B8FF">self</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">           state</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;</span><span style="color:#79B8FF">Self</span><span style="color:#F97583">::</span><span style="color:#B392F0">State</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">           _theme</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;</span><span style="color:#B392F0">Theme</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">           bounds</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Rectangle</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">           cursor</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Cursor</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">       ) </span><span style="color:#F97583">-&gt;</span><span style="color:#B392F0"> Vec</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">Geometry</span><span style="color:#E1E4E8">&gt; {</span></span>
<span class="line"><span style="color:#F97583">           let</span><span style="color:#E1E4E8"> content </span><span style="color:#F97583">=</span></span>
<span class="line"><span style="color:#79B8FF">               self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">state</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">cache</span><span style="color:#F97583">.</span><span style="color:#B392F0">draw</span><span style="color:#E1E4E8">(bounds</span><span style="color:#F97583">.</span><span style="color:#B392F0">size</span><span style="color:#E1E4E8">(), </span><span style="color:#F97583">|</span><span style="color:#E1E4E8">frame</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;mut</span><span style="color:#B392F0"> Frame</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">                   Curve</span><span style="color:#F97583">::</span><span style="color:#B392F0">draw_all</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">curves, frame);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">                   frame</span><span style="color:#F97583">.</span><span style="color:#B392F0">stroke</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#F97583">&amp;</span><span style="color:#B392F0">Path</span><span style="color:#F97583">::</span><span style="color:#B392F0">rectangle</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Point</span><span style="color:#F97583">::</span><span style="color:#79B8FF">ORIGIN</span><span style="color:#E1E4E8">, frame</span><span style="color:#F97583">.</span><span style="color:#B392F0">size</span><span style="color:#E1E4E8">()),</span></span>
<span class="line"><span style="color:#B392F0">                       Stroke</span><span style="color:#F97583">::</span><span style="color:#B392F0">default</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">with_width</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">2.0</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#E1E4E8">                   );</span></span>
<span class="line"><span style="color:#E1E4E8">               });</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">           if</span><span style="color:#F97583"> let</span><span style="color:#B392F0"> Some</span><span style="color:#E1E4E8">(pending) </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> state {</span></span>
<span class="line"><span style="color:#F97583">               let</span><span style="color:#E1E4E8"> pending_curve </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> pending</span><span style="color:#F97583">.</span><span style="color:#B392F0">draw</span><span style="color:#E1E4E8">(bounds, cursor);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">               vec!</span><span style="color:#E1E4E8">[content, pending_curve]</span></span>
<span class="line"><span style="color:#E1E4E8">           } </span><span style="color:#F97583">else</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">               vec!</span><span style="color:#E1E4E8">[content]</span></span>
<span class="line"><span style="color:#E1E4E8">           }</span></span>
<span class="line"><span style="color:#E1E4E8">       }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">       fn</span><span style="color:#B392F0"> mouse_interaction</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#F97583">           &amp;</span><span style="color:#79B8FF">self</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">           _state</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;</span><span style="color:#79B8FF">Self</span><span style="color:#F97583">::</span><span style="color:#B392F0">State</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">           bounds</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Rectangle</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">           cursor</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Cursor</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">       ) </span><span style="color:#F97583">-&gt;</span><span style="color:#B392F0"> mouse</span><span style="color:#F97583">::</span><span style="color:#B392F0">Interaction</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">           if</span><span style="color:#E1E4E8"> cursor</span><span style="color:#F97583">.</span><span style="color:#B392F0">is_over</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#E1E4E8">bounds) {</span></span>
<span class="line"><span style="color:#B392F0">               mouse</span><span style="color:#F97583">::</span><span style="color:#B392F0">Interaction</span><span style="color:#F97583">::</span><span style="color:#B392F0">Crosshair</span></span>
<span class="line"><span style="color:#E1E4E8">           } </span><span style="color:#F97583">else</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">               mouse</span><span style="color:#F97583">::</span><span style="color:#B392F0">Interaction</span><span style="color:#F97583">::</span><span style="color:#B392F0">default</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#E1E4E8">           }</span></span>
<span class="line"><span style="color:#E1E4E8">       }</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">   #[derive(</span><span style="color:#B392F0">Debug</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Clone</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Copy</span><span style="color:#E1E4E8">)]</span></span>
<span class="line"><span style="color:#F97583">   pub</span><span style="color:#F97583"> struct</span><span style="color:#B392F0"> Curve</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">       from</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Point</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">       to</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Point</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">       control</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Point</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   impl</span><span style="color:#B392F0"> Curve</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">       fn</span><span style="color:#B392F0"> draw_all</span><span style="color:#E1E4E8">(curves</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;</span><span style="color:#E1E4E8">[</span><span style="color:#B392F0">Curve</span><span style="color:#E1E4E8">], frame</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;mut</span><span style="color:#B392F0"> Frame</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">           let</span><span style="color:#E1E4E8"> curves </span><span style="color:#F97583">=</span><span style="color:#B392F0"> Path</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">|</span><span style="color:#E1E4E8">p</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">               for</span><span style="color:#E1E4E8"> curve </span><span style="color:#F97583">in</span><span style="color:#E1E4E8"> curves {</span></span>
<span class="line"><span style="color:#E1E4E8">                   p</span><span style="color:#F97583">.</span><span style="color:#B392F0">move_to</span><span style="color:#E1E4E8">(curve</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">from);</span></span>
<span class="line"><span style="color:#E1E4E8">                   p</span><span style="color:#F97583">.</span><span style="color:#B392F0">quadratic_curve_to</span><span style="color:#E1E4E8">(curve</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">control, curve</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">to);</span></span>
<span class="line"><span style="color:#E1E4E8">               }</span></span>
<span class="line"><span style="color:#E1E4E8">           });</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">           frame</span><span style="color:#F97583">.</span><span style="color:#B392F0">stroke</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#E1E4E8">curves, </span><span style="color:#B392F0">Stroke</span><span style="color:#F97583">::</span><span style="color:#B392F0">default</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">with_width</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">2.0</span><span style="color:#E1E4E8">));</span></span>
<span class="line"><span style="color:#E1E4E8">       }</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">   #[derive(</span><span style="color:#B392F0">Debug</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Clone</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Copy</span><span style="color:#E1E4E8">)]</span></span>
<span class="line"><span style="color:#F97583">   enum</span><span style="color:#B392F0"> Pending</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">       One</span><span style="color:#E1E4E8"> { from</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Point</span><span style="color:#E1E4E8"> },</span></span>
<span class="line"><span style="color:#B392F0">       Two</span><span style="color:#E1E4E8"> { from</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Point</span><span style="color:#E1E4E8">, to</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Point</span><span style="color:#E1E4E8"> },</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   impl</span><span style="color:#B392F0"> Pending</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">       fn</span><span style="color:#B392F0"> draw</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#79B8FF">self</span><span style="color:#E1E4E8">, bounds</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Rectangle</span><span style="color:#E1E4E8">, cursor</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Cursor</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-&gt;</span><span style="color:#B392F0"> Geometry</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">           let</span><span style="color:#F97583"> mut</span><span style="color:#E1E4E8"> frame </span><span style="color:#F97583">=</span><span style="color:#B392F0"> Frame</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(bounds</span><span style="color:#F97583">.</span><span style="color:#B392F0">size</span><span style="color:#E1E4E8">());</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">           if</span><span style="color:#F97583"> let</span><span style="color:#B392F0"> Some</span><span style="color:#E1E4E8">(cursor_position) </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> cursor</span><span style="color:#F97583">.</span><span style="color:#B392F0">position_in</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#E1E4E8">bounds) {</span></span>
<span class="line"><span style="color:#F97583">               match</span><span style="color:#F97583"> *</span><span style="color:#79B8FF">self</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">                   Pending</span><span style="color:#F97583">::</span><span style="color:#B392F0">One</span><span style="color:#E1E4E8"> { from } </span><span style="color:#F97583">=&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">                       let</span><span style="color:#E1E4E8"> line </span><span style="color:#F97583">=</span><span style="color:#B392F0"> Path</span><span style="color:#F97583">::</span><span style="color:#B392F0">line</span><span style="color:#E1E4E8">(from, cursor_position);</span></span>
<span class="line"><span style="color:#E1E4E8">                       frame</span><span style="color:#F97583">.</span><span style="color:#B392F0">stroke</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#E1E4E8">line, </span><span style="color:#B392F0">Stroke</span><span style="color:#F97583">::</span><span style="color:#B392F0">default</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">with_width</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">2.0</span><span style="color:#E1E4E8">));</span></span>
<span class="line"><span style="color:#E1E4E8">                   }</span></span>
<span class="line"><span style="color:#B392F0">                   Pending</span><span style="color:#F97583">::</span><span style="color:#B392F0">Two</span><span style="color:#E1E4E8"> { from, to } </span><span style="color:#F97583">=&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">                       let</span><span style="color:#E1E4E8"> curve </span><span style="color:#F97583">=</span><span style="color:#B392F0"> Curve</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">                           from,</span></span>
<span class="line"><span style="color:#E1E4E8">                           to,</span></span>
<span class="line"><span style="color:#E1E4E8">                           control</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> cursor_position,</span></span>
<span class="line"><span style="color:#E1E4E8">                       };</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">                       Curve</span><span style="color:#F97583">::</span><span style="color:#B392F0">draw_all</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#E1E4E8">[curve], </span><span style="color:#F97583">&amp;mut</span><span style="color:#E1E4E8"> frame);</span></span>
<span class="line"><span style="color:#E1E4E8">                   }</span></span>
<span class="line"><span style="color:#E1E4E8">               };</span></span>
<span class="line"><span style="color:#E1E4E8">           }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">           frame</span><span style="color:#F97583">.</span><span style="color:#B392F0">into_geometry</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#E1E4E8">       }</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<h3 id="5-egui">5. <a href="https://github.com/emilk/egui">Egui</a></h3>
<p><strong>Egui</strong> is “the easiest to use GUI library.” [<a href="https://github.com/emilk/egui">https://github.com/emilk/egui</a>]. It utilizes Immediate Mode GUI architecture [<a href="https://en.wikipedia.org/wiki/Immediate_mode_GUI">https://en.wikipedia.org/wiki/Immediate_mode_GUI</a>].
Some of its goals are to be portable and easy to use. The native look is specifically a non-goal. For example, it fits simple GUIs, games, or other apps that need a quick GUI drop-in library. Check out  their example build for WebAssembly:</p>
<iframe src="https://shades-egui.apps.loskutoff.com" width="100%" height="150px"></iframe>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="rust"><code><span class="line"><span style="color:#6A737D">// app.rs</span></span>
<span class="line"><span style="color:#6A737D">// main.rs / lib.rs boilerplate omitted</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">/// We derive Deserialize/Serialize so we can persist app state on shutdown.</span></span>
<span class="line"><span style="color:#E1E4E8">#[derive(serde</span><span style="color:#F97583">::</span><span style="color:#B392F0">Deserialize</span><span style="color:#E1E4E8">, serde</span><span style="color:#F97583">::</span><span style="color:#B392F0">Serialize</span><span style="color:#E1E4E8">)]</span></span>
<span class="line"><span style="color:#E1E4E8">#[serde(default)] </span><span style="color:#6A737D">// if we add new fields, give them default values when deserializing old state</span></span>
<span class="line"><span style="color:#F97583">pub</span><span style="color:#F97583"> struct</span><span style="color:#B392F0"> TemplateApp</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#6A737D">   // Example stuff:</span></span>
<span class="line"><span style="color:#E1E4E8">   label</span><span style="color:#F97583">:</span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8">,</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">   // this how you opt-out of serialization of a member</span></span>
<span class="line"><span style="color:#E1E4E8">   #[serde(skip)]</span></span>
<span class="line"><span style="color:#E1E4E8">   value</span><span style="color:#F97583">:</span><span style="color:#B392F0"> f32</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">impl</span><span style="color:#B392F0"> Default</span><span style="color:#F97583"> for</span><span style="color:#B392F0"> TemplateApp</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">   fn</span><span style="color:#B392F0"> default</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">-&gt;</span><span style="color:#79B8FF"> Self</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">       Self</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#6A737D">           // Example stuff:</span></span>
<span class="line"><span style="color:#E1E4E8">           label</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;Hello World!&quot;</span><span style="color:#F97583">.</span><span style="color:#B392F0">to_owned</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">           value</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> 2.7</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">       }</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">impl</span><span style="color:#B392F0"> TemplateApp</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#6A737D">   /// Called once before the first frame.</span></span>
<span class="line"><span style="color:#F97583">   pub</span><span style="color:#F97583"> fn</span><span style="color:#B392F0"> new</span><span style="color:#E1E4E8">(cc</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;</span><span style="color:#B392F0">eframe</span><span style="color:#F97583">::</span><span style="color:#B392F0">CreationContext</span><span style="color:#E1E4E8">&lt;&#39;</span><span style="color:#B392F0">_</span><span style="color:#E1E4E8">&gt;) </span><span style="color:#F97583">-&gt;</span><span style="color:#79B8FF"> Self</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#6A737D">       // This is also where you can customize the look and feel of egui using</span></span>
<span class="line"><span style="color:#6A737D">       // `cc.egui_ctx.set_visuals` and `cc.egui_ctx.set_fonts`.</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">       // Load previous app state (if any).</span></span>
<span class="line"><span style="color:#6A737D">       // Note that you must enable the `persistence` feature for this to work.</span></span>
<span class="line"><span style="color:#F97583">       if</span><span style="color:#F97583"> let</span><span style="color:#B392F0"> Some</span><span style="color:#E1E4E8">(storage) </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> cc</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">storage {</span></span>
<span class="line"><span style="color:#F97583">           return</span><span style="color:#B392F0"> eframe</span><span style="color:#F97583">::</span><span style="color:#B392F0">get_value</span><span style="color:#E1E4E8">(storage, </span><span style="color:#B392F0">eframe</span><span style="color:#F97583">::</span><span style="color:#79B8FF">APP_KEY</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">.</span><span style="color:#B392F0">unwrap_or_default</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">       }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">       Default</span><span style="color:#F97583">::</span><span style="color:#B392F0">default</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">impl</span><span style="color:#B392F0"> eframe</span><span style="color:#F97583">::</span><span style="color:#B392F0">App</span><span style="color:#F97583"> for</span><span style="color:#B392F0"> TemplateApp</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#6A737D">   /// Called by the frame work to save state before shutdown.</span></span>
<span class="line"><span style="color:#F97583">   fn</span><span style="color:#B392F0"> save</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;mut</span><span style="color:#79B8FF"> self</span><span style="color:#E1E4E8">, storage</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;mut</span><span style="color:#F97583"> dyn</span><span style="color:#B392F0"> eframe</span><span style="color:#F97583">::</span><span style="color:#B392F0">Storage</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#B392F0">       eframe</span><span style="color:#F97583">::</span><span style="color:#B392F0">set_value</span><span style="color:#E1E4E8">(storage, </span><span style="color:#B392F0">eframe</span><span style="color:#F97583">::</span><span style="color:#79B8FF">APP_KEY</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">self</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">   /// Called each time the UI needs repainting, which may be many times per second.</span></span>
<span class="line"><span style="color:#6A737D">   /// Put your widgets into a `SidePanel`, `TopPanel`, `CentralPanel`, `Window` or `Area`.</span></span>
<span class="line"><span style="color:#F97583">   fn</span><span style="color:#B392F0"> update</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;mut</span><span style="color:#79B8FF"> self</span><span style="color:#E1E4E8">, ctx</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;</span><span style="color:#B392F0">egui</span><span style="color:#F97583">::</span><span style="color:#B392F0">Context</span><span style="color:#E1E4E8">, _frame</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;mut</span><span style="color:#B392F0"> eframe</span><span style="color:#F97583">::</span><span style="color:#B392F0">Frame</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">       let</span><span style="color:#79B8FF"> Self</span><span style="color:#E1E4E8"> { label, value } </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> self</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">       // Examples of how to create different panels and windows.</span></span>
<span class="line"><span style="color:#6A737D">       // Pick whichever suits you.</span></span>
<span class="line"><span style="color:#6A737D">       // Tip: a good default choice is to just keep the `CentralPanel`.</span></span>
<span class="line"><span style="color:#6A737D">       // For inspiration and more examples, go to https://emilk.github.io/egui</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">       #[cfg(not(target_arch </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> &quot;wasm32&quot;</span><span style="color:#E1E4E8">))] </span><span style="color:#6A737D">// no File-&gt;Quit on web pages!</span></span>
<span class="line"><span style="color:#B392F0">       egui</span><span style="color:#F97583">::</span><span style="color:#B392F0">TopBottomPanel</span><span style="color:#F97583">::</span><span style="color:#B392F0">top</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;top_panel&quot;</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">.</span><span style="color:#B392F0">show</span><span style="color:#E1E4E8">(ctx, </span><span style="color:#F97583">|</span><span style="color:#E1E4E8">ui</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#6A737D">           // The top panel is often a good place for a menu bar:</span></span>
<span class="line"><span style="color:#B392F0">           egui</span><span style="color:#F97583">::</span><span style="color:#B392F0">menu</span><span style="color:#F97583">::</span><span style="color:#B392F0">bar</span><span style="color:#E1E4E8">(ui, </span><span style="color:#F97583">|</span><span style="color:#E1E4E8">ui</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">               ui</span><span style="color:#F97583">.</span><span style="color:#B392F0">menu_button</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;File&quot;</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">|</span><span style="color:#E1E4E8">ui</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">                   if</span><span style="color:#E1E4E8"> ui</span><span style="color:#F97583">.</span><span style="color:#B392F0">button</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;Quit&quot;</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">.</span><span style="color:#B392F0">clicked</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">                       _frame</span><span style="color:#F97583">.</span><span style="color:#B392F0">close</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">                   }</span></span>
<span class="line"><span style="color:#E1E4E8">               });</span></span>
<span class="line"><span style="color:#E1E4E8">           });</span></span>
<span class="line"><span style="color:#E1E4E8">       });</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">       egui</span><span style="color:#F97583">::</span><span style="color:#B392F0">SidePanel</span><span style="color:#F97583">::</span><span style="color:#B392F0">left</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;side_panel&quot;</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">.</span><span style="color:#B392F0">show</span><span style="color:#E1E4E8">(ctx, </span><span style="color:#F97583">|</span><span style="color:#E1E4E8">ui</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">           ui</span><span style="color:#F97583">.</span><span style="color:#B392F0">heading</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;Side Panel&quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">           ui</span><span style="color:#F97583">.</span><span style="color:#B392F0">horizontal</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">|</span><span style="color:#E1E4E8">ui</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">               ui</span><span style="color:#F97583">.</span><span style="color:#B392F0">label</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;Write something: &quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">               ui</span><span style="color:#F97583">.</span><span style="color:#B392F0">text_edit_singleline</span><span style="color:#E1E4E8">(label);</span></span>
<span class="line"><span style="color:#E1E4E8">           });</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">           ui</span><span style="color:#F97583">.</span><span style="color:#B392F0">add</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">egui</span><span style="color:#F97583">::</span><span style="color:#B392F0">Slider</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(value, </span><span style="color:#79B8FF">0.0</span><span style="color:#F97583">..=</span><span style="color:#79B8FF">10.0</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">.</span><span style="color:#B392F0">text</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;value&quot;</span><span style="color:#E1E4E8">));</span></span>
<span class="line"><span style="color:#F97583">           if</span><span style="color:#E1E4E8"> ui</span><span style="color:#F97583">.</span><span style="color:#B392F0">button</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;Increment&quot;</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">.</span><span style="color:#B392F0">clicked</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">               *</span><span style="color:#E1E4E8">value </span><span style="color:#F97583">+=</span><span style="color:#79B8FF"> 1.0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">           }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">           ui</span><span style="color:#F97583">.</span><span style="color:#B392F0">with_layout</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">egui</span><span style="color:#F97583">::</span><span style="color:#B392F0">Layout</span><span style="color:#F97583">::</span><span style="color:#B392F0">bottom_up</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">egui</span><span style="color:#F97583">::</span><span style="color:#B392F0">Align</span><span style="color:#F97583">::</span><span style="color:#79B8FF">LEFT</span><span style="color:#E1E4E8">), </span><span style="color:#F97583">|</span><span style="color:#E1E4E8">ui</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">               ui</span><span style="color:#F97583">.</span><span style="color:#B392F0">horizontal</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">|</span><span style="color:#E1E4E8">ui</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">                   ui</span><span style="color:#F97583">.</span><span style="color:#B392F0">spacing_mut</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">item_spacing</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">x </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 0.0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">                   ui</span><span style="color:#F97583">.</span><span style="color:#B392F0">label</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;powered by &quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">                   ui</span><span style="color:#F97583">.</span><span style="color:#B392F0">hyperlink_to</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;egui&quot;</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">&quot;https://github.com/emilk/egui&quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">                   ui</span><span style="color:#F97583">.</span><span style="color:#B392F0">label</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot; and &quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">                   ui</span><span style="color:#F97583">.</span><span style="color:#B392F0">hyperlink_to</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#9ECBFF">                       &quot;eframe&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">                       &quot;https://github.com/emilk/egui/tree/master/crates/eframe&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">                   );</span></span>
<span class="line"><span style="color:#E1E4E8">                   ui</span><span style="color:#F97583">.</span><span style="color:#B392F0">label</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;.&quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">               });</span></span>
<span class="line"><span style="color:#E1E4E8">           });</span></span>
<span class="line"><span style="color:#E1E4E8">       });</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">       egui</span><span style="color:#F97583">::</span><span style="color:#B392F0">CentralPanel</span><span style="color:#F97583">::</span><span style="color:#B392F0">default</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">show</span><span style="color:#E1E4E8">(ctx, </span><span style="color:#F97583">|</span><span style="color:#E1E4E8">ui</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#6A737D">           // The central panel the region left after adding TopPanel&#39;s and SidePanel&#39;s</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">           ui</span><span style="color:#F97583">.</span><span style="color:#B392F0">heading</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;Shades of Rust - egui&quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">           ui</span><span style="color:#F97583">.</span><span style="color:#B392F0">hyperlink</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;https://github.com/Firfi/shades-of-rust/tree/master/shades-egui&quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#B392F0">           egui</span><span style="color:#F97583">::</span><span style="color:#B392F0">warn_if_debug_build</span><span style="color:#E1E4E8">(ui);</span></span>
<span class="line"><span style="color:#E1E4E8">       });</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<p>Note their bigger demo on <a href="https://www.egui.rs/#demo">https://www.egui.rs/#demo</a></p>
<h3 id="6-kas">6. <a href="https://github.com/kas-gui/kas">Kas</a></h3>
<p><strong>Kas</strong> is an <a href="https://kas-gui.github.io/blog/state-of-GUI-2022.html#details">“efficient retained-state toolkit,”</a> and a blend of several GUI data models. For example, it handles messages like Elm but is able to keep state in components. It doesn’t work in the browser environment yet; at least, I haven’t been able to build an example quickly enough. This is because it’s a bit ahead of browsers using WebGPU – <a href="https://github.com/gfx-rs/wgpu/wiki/Running-on-the-Web-with-WebGPU-and-WebGL">not the other way around</a>.</p>
<h3 id="7-slint">7. <a href="https://github.com/slint-ui/slint">Slint</a></h3>
<p>With <strong>Slint</strong>, the web is not the focus; it can be compiled into WebAssembly only for demo purposes. Slint targets native looks, embedded systems, microcontrollers and desktop. It uses its own script language to describe UI, which provides components’ state and look description. Slint does allow some scripting, although it’s possible to run the most heavyweight code in Rust. Overall, it’s an imperative tool.</p>
<p>Here is a built code of their tutorial:</p>
<iframe src="https://shades-slint.apps.loskutoff.com" width="326px" height="326px"></iframe>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="rust"><code><span class="line"></span>
<span class="line"><span style="color:#6A737D">// main.rs</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">#[cfg_attr(target_arch </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> &quot;wasm32&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">wasm_bindgen</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">prelude</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">wasm_bindgen(start))]</span></span>
<span class="line"><span style="color:#F97583">pub</span><span style="color:#F97583"> fn</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">   use</span><span style="color:#B392F0"> slint</span><span style="color:#F97583">::</span><span style="color:#B392F0">Model</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   let</span><span style="color:#E1E4E8"> main_window </span><span style="color:#F97583">=</span><span style="color:#B392F0"> MainWindow</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">unwrap</span><span style="color:#E1E4E8">();;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">   // Fetch the tiles from the model</span></span>
<span class="line"><span style="color:#F97583">   let</span><span style="color:#F97583"> mut</span><span style="color:#E1E4E8"> tiles</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Vec</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">TileData</span><span style="color:#E1E4E8">&gt; </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> main_window</span><span style="color:#F97583">.</span><span style="color:#B392F0">get_memory_tiles</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">iter</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">collect</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#6A737D">   // Duplicate them to ensure that we have pairs</span></span>
<span class="line"><span style="color:#E1E4E8">   tiles</span><span style="color:#F97583">.</span><span style="color:#B392F0">extend</span><span style="color:#E1E4E8">(tiles</span><span style="color:#F97583">.</span><span style="color:#B392F0">clone</span><span style="color:#E1E4E8">());</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">   // Randomly mix the tiles</span></span>
<span class="line"><span style="color:#F97583">   use</span><span style="color:#B392F0"> rand</span><span style="color:#F97583">::</span><span style="color:#B392F0">seq</span><span style="color:#F97583">::</span><span style="color:#B392F0">SliceRandom</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">   let</span><span style="color:#F97583"> mut</span><span style="color:#E1E4E8"> rng </span><span style="color:#F97583">=</span><span style="color:#B392F0"> rand</span><span style="color:#F97583">::</span><span style="color:#B392F0">thread_rng</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">   tiles</span><span style="color:#F97583">.</span><span style="color:#B392F0">shuffle</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;mut</span><span style="color:#E1E4E8"> rng);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">   // Assign the shuffled Vec to the model property</span></span>
<span class="line"><span style="color:#F97583">   let</span><span style="color:#E1E4E8"> tiles_model </span><span style="color:#F97583">=</span><span style="color:#B392F0"> std</span><span style="color:#F97583">::</span><span style="color:#B392F0">rc</span><span style="color:#F97583">::</span><span style="color:#B392F0">Rc</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">slint</span><span style="color:#F97583">::</span><span style="color:#B392F0">VecModel</span><span style="color:#F97583">::</span><span style="color:#B392F0">from</span><span style="color:#E1E4E8">(tiles));</span></span>
<span class="line"><span style="color:#E1E4E8">   main_window</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_memory_tiles</span><span style="color:#E1E4E8">(tiles_model</span><span style="color:#F97583">.</span><span style="color:#B392F0">clone</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">into</span><span style="color:#E1E4E8">());</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   let</span><span style="color:#E1E4E8"> main_window_weak </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> main_window</span><span style="color:#F97583">.</span><span style="color:#B392F0">as_weak</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">   main_window</span><span style="color:#F97583">.</span><span style="color:#B392F0">on_check_if_pair_solved</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">move</span><span style="color:#F97583"> ||</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">       let</span><span style="color:#F97583"> mut</span><span style="color:#E1E4E8"> flipped_tiles </span><span style="color:#F97583">=</span></span>
<span class="line"><span style="color:#E1E4E8">           tiles_model</span><span style="color:#F97583">.</span><span style="color:#B392F0">iter</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">enumerate</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">filter</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">|</span><span style="color:#E1E4E8">(_, tile)</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> tile</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">image_visible </span><span style="color:#F97583">&amp;&amp;</span><span style="color:#F97583"> !</span><span style="color:#E1E4E8">tile</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">solved);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">       if</span><span style="color:#F97583"> let</span><span style="color:#E1E4E8"> (</span><span style="color:#B392F0">Some</span><span style="color:#E1E4E8">((t1_idx, </span><span style="color:#F97583">mut</span><span style="color:#E1E4E8"> t1)), </span><span style="color:#B392F0">Some</span><span style="color:#E1E4E8">((t2_idx, </span><span style="color:#F97583">mut</span><span style="color:#E1E4E8"> t2))) </span><span style="color:#F97583">=</span></span>
<span class="line"><span style="color:#E1E4E8">           (flipped_tiles</span><span style="color:#F97583">.</span><span style="color:#B392F0">next</span><span style="color:#E1E4E8">(), flipped_tiles</span><span style="color:#F97583">.</span><span style="color:#B392F0">next</span><span style="color:#E1E4E8">())</span></span>
<span class="line"><span style="color:#E1E4E8">       {</span></span>
<span class="line"><span style="color:#F97583">           let</span><span style="color:#E1E4E8"> is_pair_solved </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> t1 </span><span style="color:#F97583">==</span><span style="color:#E1E4E8"> t2;</span></span>
<span class="line"><span style="color:#F97583">           if</span><span style="color:#E1E4E8"> is_pair_solved {</span></span>
<span class="line"><span style="color:#E1E4E8">               t1</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">solved </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> true</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">               tiles_model</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_row_data</span><span style="color:#E1E4E8">(t1_idx, t1);</span></span>
<span class="line"><span style="color:#E1E4E8">               t2</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">solved </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> true</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">               tiles_model</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_row_data</span><span style="color:#E1E4E8">(t2_idx, t2);</span></span>
<span class="line"><span style="color:#E1E4E8">           } </span><span style="color:#F97583">else</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">               let</span><span style="color:#E1E4E8"> main_window </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> main_window_weak</span><span style="color:#F97583">.</span><span style="color:#B392F0">unwrap</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">               main_window</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_disable_tiles</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">true</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">               let</span><span style="color:#E1E4E8"> tiles_model </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> tiles_model</span><span style="color:#F97583">.</span><span style="color:#B392F0">clone</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#B392F0">               slint</span><span style="color:#F97583">::</span><span style="color:#B392F0">Timer</span><span style="color:#F97583">::</span><span style="color:#B392F0">single_shot</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">std</span><span style="color:#F97583">::</span><span style="color:#B392F0">time</span><span style="color:#F97583">::</span><span style="color:#B392F0">Duration</span><span style="color:#F97583">::</span><span style="color:#B392F0">from_secs</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">), </span><span style="color:#F97583">move</span><span style="color:#F97583"> ||</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">                   main_window</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_disable_tiles</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">false</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">                   t1</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">image_visible </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> false</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">                   tiles_model</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_row_data</span><span style="color:#E1E4E8">(t1_idx, t1);</span></span>
<span class="line"><span style="color:#E1E4E8">                   t2</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">image_visible </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> false</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">                   tiles_model</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_row_data</span><span style="color:#E1E4E8">(t2_idx, t2);</span></span>
<span class="line"><span style="color:#E1E4E8">               });</span></span>
<span class="line"><span style="color:#E1E4E8">           }</span></span>
<span class="line"><span style="color:#E1E4E8">       }</span></span>
<span class="line"><span style="color:#E1E4E8">   });</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">   main_window</span><span style="color:#F97583">.</span><span style="color:#B392F0">run</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">unwrap</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">slint</span><span style="color:#F97583">::</span><span style="color:#B392F0">slint!</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">   struct</span><span style="color:#B392F0"> TileData</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">       image</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> image,</span></span>
<span class="line"><span style="color:#E1E4E8">       image_visible</span><span style="color:#F97583">:</span><span style="color:#B392F0"> bool</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">       solved</span><span style="color:#F97583">:</span><span style="color:#B392F0"> bool</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"><span style="color:#E1E4E8">   component </span><span style="color:#B392F0">MemoryTile</span><span style="color:#E1E4E8"> inherits </span><span style="color:#B392F0">Rectangle</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">       callback clicked;</span></span>
<span class="line"><span style="color:#F97583">       in</span><span style="color:#E1E4E8"> property &lt;</span><span style="color:#B392F0">bool</span><span style="color:#E1E4E8">&gt; open_curtain;</span></span>
<span class="line"><span style="color:#F97583">       in</span><span style="color:#E1E4E8"> property &lt;</span><span style="color:#B392F0">bool</span><span style="color:#E1E4E8">&gt; solved;</span></span>
<span class="line"><span style="color:#F97583">       in</span><span style="color:#E1E4E8"> property &lt;image&gt; icon;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">       height</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> 64px;</span></span>
<span class="line"><span style="color:#E1E4E8">       width</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> 64px;</span></span>
<span class="line"><span style="color:#E1E4E8">       background</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> solved </span><span style="color:#F97583">?</span><span style="color:#E1E4E8"> #34CE57 </span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> #3960D5;</span></span>
<span class="line"><span style="color:#E1E4E8">       animate background { duration</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> 800ms; }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">       Image</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">           source</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> icon;</span></span>
<span class="line"><span style="color:#E1E4E8">           width</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> parent</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">width;</span></span>
<span class="line"><span style="color:#E1E4E8">           height</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> parent</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">height;</span></span>
<span class="line"><span style="color:#E1E4E8">       }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">       // Left curtain</span></span>
<span class="line"><span style="color:#B392F0">       Rectangle</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">           background</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> #</span><span style="color:#79B8FF">193076</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">           width</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> open_curtain </span><span style="color:#F97583">?</span><span style="color:#E1E4E8"> 0px </span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> (parent</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">width </span><span style="color:#F97583">/</span><span style="color:#79B8FF"> 2</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">           height</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> parent</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">height;</span></span>
<span class="line"><span style="color:#E1E4E8">           animate width { duration</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> 250ms; easing</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> ease</span><span style="color:#F97583">-in</span><span style="color:#E1E4E8">; }</span></span>
<span class="line"><span style="color:#E1E4E8">       }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">       // Right curtain</span></span>
<span class="line"><span style="color:#B392F0">       Rectangle</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">           background</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> #</span><span style="color:#79B8FF">193076</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">           x</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> open_curtain </span><span style="color:#F97583">?</span><span style="color:#E1E4E8"> parent</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">width </span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> (parent</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">width </span><span style="color:#F97583">/</span><span style="color:#79B8FF"> 2</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">           width</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> open_curtain </span><span style="color:#F97583">?</span><span style="color:#E1E4E8"> 0px </span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> (parent</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">width </span><span style="color:#F97583">/</span><span style="color:#79B8FF"> 2</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">           height</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> parent</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">height;</span></span>
<span class="line"><span style="color:#E1E4E8">           animate width { duration</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> 250ms; easing</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> ease</span><span style="color:#F97583">-in</span><span style="color:#E1E4E8">; }</span></span>
<span class="line"><span style="color:#E1E4E8">           animate x { duration</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> 250ms; easing</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> ease</span><span style="color:#F97583">-in</span><span style="color:#E1E4E8">; }</span></span>
<span class="line"><span style="color:#E1E4E8">       }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">       TouchArea</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">           clicked </span><span style="color:#F97583">=&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#6A737D">               // Delegate to the user of this element</span></span>
<span class="line"><span style="color:#E1E4E8">               root</span><span style="color:#F97583">.</span><span style="color:#B392F0">clicked</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">           }</span></span>
<span class="line"><span style="color:#E1E4E8">       }</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"><span style="color:#E1E4E8">   export component </span><span style="color:#B392F0">MainWindow</span><span style="color:#E1E4E8"> inherits </span><span style="color:#B392F0">Window</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">       width</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> 326px;</span></span>
<span class="line"><span style="color:#E1E4E8">       height</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> 326px;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">       callback </span><span style="color:#B392F0">check_if_pair_solved</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">       in</span><span style="color:#E1E4E8"> property &lt;</span><span style="color:#B392F0">bool</span><span style="color:#E1E4E8">&gt; disable_tiles;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">       in</span><span style="color:#E1E4E8"> property &lt;[</span><span style="color:#B392F0">TileData</span><span style="color:#E1E4E8">]&gt; memory_tiles</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> [</span></span>
<span class="line"><span style="color:#E1E4E8">           { image</span><span style="color:#F97583">:</span><span style="color:#F97583"> @</span><span style="color:#E1E4E8">image</span><span style="color:#F97583">-</span><span style="color:#B392F0">url</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;icons/at.png&quot;</span><span style="color:#E1E4E8">) },</span></span>
<span class="line"><span style="color:#E1E4E8">           { image</span><span style="color:#F97583">:</span><span style="color:#F97583"> @</span><span style="color:#E1E4E8">image</span><span style="color:#F97583">-</span><span style="color:#B392F0">url</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;icons/balance-scale.png&quot;</span><span style="color:#E1E4E8">) },</span></span>
<span class="line"><span style="color:#E1E4E8">           { image</span><span style="color:#F97583">:</span><span style="color:#F97583"> @</span><span style="color:#E1E4E8">image</span><span style="color:#F97583">-</span><span style="color:#B392F0">url</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;icons/bicycle.png&quot;</span><span style="color:#E1E4E8">) },</span></span>
<span class="line"><span style="color:#E1E4E8">           { image</span><span style="color:#F97583">:</span><span style="color:#F97583"> @</span><span style="color:#E1E4E8">image</span><span style="color:#F97583">-</span><span style="color:#B392F0">url</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;icons/bus.png&quot;</span><span style="color:#E1E4E8">) },</span></span>
<span class="line"><span style="color:#E1E4E8">           { image</span><span style="color:#F97583">:</span><span style="color:#F97583"> @</span><span style="color:#E1E4E8">image</span><span style="color:#F97583">-</span><span style="color:#B392F0">url</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;icons/cloud.png&quot;</span><span style="color:#E1E4E8">) },</span></span>
<span class="line"><span style="color:#E1E4E8">           { image</span><span style="color:#F97583">:</span><span style="color:#F97583"> @</span><span style="color:#E1E4E8">image</span><span style="color:#F97583">-</span><span style="color:#B392F0">url</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;icons/cogs.png&quot;</span><span style="color:#E1E4E8">) },</span></span>
<span class="line"><span style="color:#E1E4E8">           { image</span><span style="color:#F97583">:</span><span style="color:#F97583"> @</span><span style="color:#E1E4E8">image</span><span style="color:#F97583">-</span><span style="color:#B392F0">url</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;icons/motorcycle.png&quot;</span><span style="color:#E1E4E8">) },</span></span>
<span class="line"><span style="color:#E1E4E8">           { image</span><span style="color:#F97583">:</span><span style="color:#F97583"> @</span><span style="color:#E1E4E8">image</span><span style="color:#F97583">-</span><span style="color:#B392F0">url</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;icons/video.png&quot;</span><span style="color:#E1E4E8">) },</span></span>
<span class="line"><span style="color:#E1E4E8">       ];</span></span>
<span class="line"><span style="color:#F97583">       for</span><span style="color:#E1E4E8"> tile[i] </span><span style="color:#F97583">in</span><span style="color:#E1E4E8"> memory_tiles </span><span style="color:#F97583">:</span><span style="color:#B392F0"> MemoryTile</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">           x</span><span style="color:#F97583">:</span><span style="color:#B392F0"> mod</span><span style="color:#E1E4E8">(i, </span><span style="color:#79B8FF">4</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">*</span><span style="color:#E1E4E8"> 74px;</span></span>
<span class="line"><span style="color:#E1E4E8">           y</span><span style="color:#F97583">:</span><span style="color:#B392F0"> floor</span><span style="color:#E1E4E8">(i </span><span style="color:#F97583">/</span><span style="color:#79B8FF"> 4</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">*</span><span style="color:#E1E4E8"> 74px;</span></span>
<span class="line"><span style="color:#E1E4E8">           width</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> 64px;</span></span>
<span class="line"><span style="color:#E1E4E8">           height</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> 64px;</span></span>
<span class="line"><span style="color:#E1E4E8">           icon</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> tile</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">image;</span></span>
<span class="line"><span style="color:#E1E4E8">           open_curtain</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> tile</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">image_visible </span><span style="color:#F97583">||</span><span style="color:#E1E4E8"> tile</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">solved;</span></span>
<span class="line"><span style="color:#6A737D">           // propagate the solved status from the model to the tile</span></span>
<span class="line"><span style="color:#E1E4E8">           solved</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> tile</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">solved;</span></span>
<span class="line"><span style="color:#E1E4E8">           clicked </span><span style="color:#F97583">=&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">               if</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">!</span><span style="color:#E1E4E8">root</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">disable_tiles) {</span></span>
<span class="line"><span style="color:#E1E4E8">                   tile</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">image_visible </span><span style="color:#F97583">=</span><span style="color:#F97583"> !</span><span style="color:#E1E4E8">tile</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">image_visible;</span></span>
<span class="line"><span style="color:#E1E4E8">                   root</span><span style="color:#F97583">.</span><span style="color:#B392F0">check_if_pair_solved</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">               }</span></span>
<span class="line"><span style="color:#E1E4E8">           }</span></span>
<span class="line"><span style="color:#E1E4E8">       }</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<h3 id="8-sycamore">8. <a href="https://github.com/sycamore-rs/sycamore">Sycamore</a></h3>
<p><strong>Sycamore</strong> is <a href="https://github.com/sycamore-rs/sycamore">“a reactive library for creating web apps in Rust and WebAssembly.”</a>. Indeed, nice <a href="https://sycamore-rs.netlify.app/docs/basics/reactivity">reactivity</a> is one of its main features. It looks like mobx at first glance and uses bind/signal semantics (just like Angular or the much-earlier React). This provides a nice developer experience:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="rust"><code><span class="line"></span>
<span class="line"><span style="color:#F97583">fn</span><span style="color:#B392F0"> App</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">G</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Html</span><span style="color:#E1E4E8">&gt;(cx</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Scope</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-&gt;</span><span style="color:#B392F0"> View</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">G</span><span style="color:#E1E4E8">&gt; {</span></span>
<span class="line"><span style="color:#F97583">   let</span><span style="color:#E1E4E8"> a </span><span style="color:#F97583">=</span><span style="color:#B392F0"> create_signal</span><span style="color:#E1E4E8">(cx, </span><span style="color:#79B8FF">0_</span><span style="color:#B392F0">f64</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#B392F0">   view!</span><span style="color:#E1E4E8"> { cx,</span></span>
<span class="line"><span style="color:#E1E4E8">p { </span><span style="color:#9ECBFF">&quot;Input value: &quot;</span><span style="color:#E1E4E8"> (a</span><span style="color:#F97583">.</span><span style="color:#B392F0">get</span><span style="color:#E1E4E8">()) }</span></span>
<span class="line"><span style="color:#B392F0">       input</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">type=</span><span style="color:#9ECBFF">&quot;number&quot;</span><span style="color:#E1E4E8">, bind</span><span style="color:#F97583">:</span><span style="color:#E1E4E8">valueAsNumber</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">a)</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<p>The code above generates DOM.</p>
<p>By default, Sycamore is made for the web, but it can be easily embedded into other tools like Tauri to create desktop apps: <a href="https://github.com/JonasKruckenberg/tauri-sycamore-template">https://github.com/JonasKruckenberg/tauri-sycamore-template</a>. Currently, the Sycamore template isn’t in Tauri’s create-tauri-app tool <a href="https://github.com/tauri-apps/create-tauri-app">https://github.com/tauri-apps/create-tauri-app</a>, but Yew is.</p>
<p><img src="https://docs.monadical.com/uploads/ddb486b1-51d1-438e-84f1-f0e00641eb85.png" alt="Sycamore example UI screenshot"/></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="rust"><code><span class="line"></span>
<span class="line"><span style="color:#6A737D">// app.rs</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">#[derive(</span><span style="color:#B392F0">Serialize</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Deserialize</span><span style="color:#E1E4E8">)]</span></span>
<span class="line"><span style="color:#F97583">struct</span><span style="color:#B392F0"> GreetArgs</span><span style="color:#E1E4E8">&lt;&#39;</span><span style="color:#B392F0">a</span><span style="color:#E1E4E8">&gt; {</span></span>
<span class="line"><span style="color:#E1E4E8">   name</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;</span><span style="color:#E1E4E8">&#39;</span><span style="color:#B392F0">a</span><span style="color:#B392F0"> str</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">#[component]</span></span>
<span class="line"><span style="color:#F97583">pub</span><span style="color:#F97583"> fn</span><span style="color:#B392F0"> App</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">G</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Html</span><span style="color:#E1E4E8">&gt;(cx</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Scope</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-&gt;</span><span style="color:#B392F0"> View</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">G</span><span style="color:#E1E4E8">&gt; {</span></span>
<span class="line"><span style="color:#F97583">   let</span><span style="color:#E1E4E8"> name </span><span style="color:#F97583">=</span><span style="color:#B392F0"> create_signal</span><span style="color:#E1E4E8">(cx, </span><span style="color:#B392F0">String</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">());</span></span>
<span class="line"><span style="color:#F97583">   let</span><span style="color:#E1E4E8"> greet_msg </span><span style="color:#F97583">=</span><span style="color:#B392F0"> create_signal</span><span style="color:#E1E4E8">(cx, </span><span style="color:#B392F0">String</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">());</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   let</span><span style="color:#E1E4E8"> greet </span><span style="color:#F97583">=</span><span style="color:#F97583"> move</span><span style="color:#F97583"> |</span><span style="color:#E1E4E8">_</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">       spawn_local_scoped</span><span style="color:#E1E4E8">(cx, </span><span style="color:#F97583">async</span><span style="color:#F97583"> move</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#6A737D">           // Learn more about Tauri commands at https://tauri.app/v1/guides/features/command</span></span>
<span class="line"><span style="color:#F97583">           let</span><span style="color:#E1E4E8"> new_msg </span><span style="color:#F97583">=</span></span>
<span class="line"><span style="color:#B392F0">               invoke</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;greet&quot;</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">to_value</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#B392F0">GreetArgs</span><span style="color:#E1E4E8"> { name</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;</span><span style="color:#E1E4E8">name</span><span style="color:#F97583">.</span><span style="color:#B392F0">get</span><span style="color:#E1E4E8">() })</span><span style="color:#F97583">.</span><span style="color:#B392F0">unwrap</span><span style="color:#E1E4E8">())</span><span style="color:#F97583">.await</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">           log</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#E1E4E8">new_msg</span><span style="color:#F97583">.</span><span style="color:#B392F0">as_string</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">unwrap</span><span style="color:#E1E4E8">());</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">           greet_msg</span><span style="color:#F97583">.</span><span style="color:#B392F0">set</span><span style="color:#E1E4E8">(new_msg</span><span style="color:#F97583">.</span><span style="color:#B392F0">as_string</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">unwrap</span><span style="color:#E1E4E8">());</span></span>
<span class="line"><span style="color:#E1E4E8">       })</span></span>
<span class="line"><span style="color:#E1E4E8">   };</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">   view!</span><span style="color:#E1E4E8"> { cx,</span></span>
<span class="line"><span style="color:#B392F0">       main</span><span style="color:#E1E4E8">(class</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">&quot;container&quot;</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#B392F0">           div</span><span style="color:#E1E4E8">(class</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">&quot;row&quot;</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#B392F0">               input</span><span style="color:#E1E4E8">(id</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">&quot;greet-input&quot;</span><span style="color:#E1E4E8">,bind</span><span style="color:#F97583">:</span><span style="color:#E1E4E8">value</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">name,placeholder</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">&quot;Enter a name...&quot;</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#B392F0">               button</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">type=</span><span style="color:#9ECBFF">&quot;button&quot;</span><span style="color:#E1E4E8">,on</span><span style="color:#F97583">:</span><span style="color:#E1E4E8">click</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">greet) {</span></span>
<span class="line"><span style="color:#9ECBFF">                   &quot;Greet&quot;</span></span>
<span class="line"><span style="color:#E1E4E8">               }</span></span>
<span class="line"><span style="color:#E1E4E8">           }</span></span>
<span class="line"><span style="color:#E1E4E8">           p {</span></span>
<span class="line"><span style="color:#E1E4E8">               b {</span></span>
<span class="line"><span style="color:#E1E4E8">                   (greet_msg</span><span style="color:#F97583">.</span><span style="color:#B392F0">get</span><span style="color:#E1E4E8">())</span></span>
<span class="line"><span style="color:#E1E4E8">               }</span></span>
<span class="line"><span style="color:#E1E4E8">           }</span></span>
<span class="line"><span style="color:#E1E4E8">       }</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="rust"><code><span class="line"></span>
<span class="line"><span style="color:#6A737D">// main.rs</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">mod</span><span style="color:#B392F0"> app</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> app</span><span style="color:#F97583">::</span><span style="color:#B392F0">App</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">#[cfg(all(not(debug_assertions), not(feature </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> &quot;ssg&quot;</span><span style="color:#E1E4E8">)))]</span></span>
<span class="line"><span style="color:#F97583">fn</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">   sycamore</span><span style="color:#F97583">::</span><span style="color:#B392F0">hydrate</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">App</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">#[cfg(all(debug_assertions, not(feature </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> &quot;ssg&quot;</span><span style="color:#E1E4E8">)))]</span></span>
<span class="line"><span style="color:#F97583">fn</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">   sycamore</span><span style="color:#F97583">::</span><span style="color:#B392F0">render</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">App</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">#[cfg(feature </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> &quot;ssg&quot;</span><span style="color:#E1E4E8">)]</span></span>
<span class="line"><span style="color:#F97583">fn</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">   let</span><span style="color:#E1E4E8"> out_dir </span><span style="color:#F97583">=</span><span style="color:#B392F0"> std</span><span style="color:#F97583">::</span><span style="color:#B392F0">env</span><span style="color:#F97583">::</span><span style="color:#B392F0">args</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">nth</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">.</span><span style="color:#B392F0">unwrap</span><span style="color:#E1E4E8">();</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">   println!</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;out_dir {}&quot;</span><span style="color:#E1E4E8">, out_dir);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   let</span><span style="color:#E1E4E8"> template </span><span style="color:#F97583">=</span><span style="color:#B392F0"> std</span><span style="color:#F97583">::</span><span style="color:#B392F0">fs</span><span style="color:#F97583">::</span><span style="color:#B392F0">read_to_string</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">format!</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;{}/index.html&quot;</span><span style="color:#E1E4E8">, out_dir))</span><span style="color:#F97583">.</span><span style="color:#B392F0">unwrap</span><span style="color:#E1E4E8">();</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   let</span><span style="color:#E1E4E8"> html </span><span style="color:#F97583">=</span><span style="color:#B392F0"> sycamore</span><span style="color:#F97583">::</span><span style="color:#B392F0">render_to_string</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">App</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   let</span><span style="color:#E1E4E8"> html </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> template</span><span style="color:#F97583">.</span><span style="color:#B392F0">replace</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;&lt;!--app-html--&gt;</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">&quot;</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">&amp;</span><span style="color:#E1E4E8">html);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   let</span><span style="color:#E1E4E8"> path </span><span style="color:#F97583">=</span><span style="color:#B392F0"> format!</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;{}/index.html&quot;</span><span style="color:#E1E4E8">, out_dir);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">   println!</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;Writing html to file </span><span style="color:#79B8FF">\&quot;</span><span style="color:#9ECBFF">{}</span><span style="color:#79B8FF">\&quot;</span><span style="color:#9ECBFF">&quot;</span><span style="color:#E1E4E8">, path);</span></span>
<span class="line"><span style="color:#B392F0">   std</span><span style="color:#F97583">::</span><span style="color:#B392F0">fs</span><span style="color:#F97583">::</span><span style="color:#B392F0">write</span><span style="color:#E1E4E8">(path, html)</span><span style="color:#F97583">.</span><span style="color:#B392F0">unwrap</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<h3 id="9-yew">9. <a href="https://yew.rs">Yew</a></h3>
<p><strong>Yew</strong> seems rather popular right now. It’s a GUI framework made specifically for the web and  has a bit of a React feel to it, albeit with some differences. For example, components are made like state machines with defined messages and reactions to those messages. The components keep state in themselves. <a href="https://github.com/intendednull/yewdux">Yewdux</a> can be used to implement redux-like data handling. Among other features, Yew also has <a href="https://en.wikipedia.org/wiki/Hydration_(web_development)">hydration</a> and <a href="https://solutionshub.epam.com/blog/post/what-is-server-side-rendering">server-side rendering</a>. It also lets us define components in a way not unlike functional components defined in React.</p>
<p>Here is one of the lib’s examples compiled:</p>
<iframe src="https://shades-yew.apps.loskutoff.com" width="100%" height="500px"></iframe>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="rust"><code><span class="line"></span>
<span class="line"><span style="color:#6A737D">// main.rs</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> cell</span><span style="color:#F97583">::</span><span style="color:#B392F0">Cellule</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> gloo</span><span style="color:#F97583">::</span><span style="color:#B392F0">timers</span><span style="color:#F97583">::</span><span style="color:#B392F0">callback</span><span style="color:#F97583">::</span><span style="color:#B392F0">Interval</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> rand</span><span style="color:#F97583">::</span><span style="color:#B392F0">Rng</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> yew</span><span style="color:#F97583">::</span><span style="color:#B392F0">html</span><span style="color:#F97583">::</span><span style="color:#B392F0">Scope</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> yew</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">{classes, html, </span><span style="color:#B392F0">Component</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Context</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Html</span><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">mod</span><span style="color:#B392F0"> cell</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">pub</span><span style="color:#F97583"> enum</span><span style="color:#B392F0"> Msg</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">   Random</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#B392F0">   Start</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#B392F0">   Step</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#B392F0">   Reset</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#B392F0">   Stop</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#B392F0">   ToggleCellule</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">usize</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#B392F0">   Tick</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">pub</span><span style="color:#F97583"> struct</span><span style="color:#B392F0"> App</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">   active</span><span style="color:#F97583">:</span><span style="color:#B392F0"> bool</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">   cellules</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Vec</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">Cellule</span><span style="color:#E1E4E8">&gt;,</span></span>
<span class="line"><span style="color:#E1E4E8">   cellules_width</span><span style="color:#F97583">:</span><span style="color:#B392F0"> usize</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">   cellules_height</span><span style="color:#F97583">:</span><span style="color:#B392F0"> usize</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">   _interval</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Interval</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">impl</span><span style="color:#B392F0"> App</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">   pub</span><span style="color:#F97583"> fn</span><span style="color:#B392F0"> random_mutate</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;mut</span><span style="color:#79B8FF"> self</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">       for</span><span style="color:#E1E4E8"> cellule </span><span style="color:#F97583">in</span><span style="color:#79B8FF"> self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">cellules</span><span style="color:#F97583">.</span><span style="color:#B392F0">iter_mut</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">           if</span><span style="color:#B392F0"> rand</span><span style="color:#F97583">::</span><span style="color:#B392F0">thread_rng</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">gen</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">               cellule</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_alive</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">           } </span><span style="color:#F97583">else</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">               cellule</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_dead</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">           }</span></span>
<span class="line"><span style="color:#E1E4E8">       }</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   fn</span><span style="color:#B392F0"> reset</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;mut</span><span style="color:#79B8FF"> self</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">       for</span><span style="color:#E1E4E8"> cellule </span><span style="color:#F97583">in</span><span style="color:#79B8FF"> self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">cellules</span><span style="color:#F97583">.</span><span style="color:#B392F0">iter_mut</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">           cellule</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_dead</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">       }</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   fn</span><span style="color:#B392F0"> step</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;mut</span><span style="color:#79B8FF"> self</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">       let</span><span style="color:#F97583"> mut</span><span style="color:#E1E4E8"> to_dead </span><span style="color:#F97583">=</span><span style="color:#B392F0"> Vec</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">       let</span><span style="color:#F97583"> mut</span><span style="color:#E1E4E8"> to_live </span><span style="color:#F97583">=</span><span style="color:#B392F0"> Vec</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">       for</span><span style="color:#E1E4E8"> row </span><span style="color:#F97583">in</span><span style="color:#79B8FF"> 0</span><span style="color:#F97583">..</span><span style="color:#79B8FF">self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">cellules_height {</span></span>
<span class="line"><span style="color:#F97583">           for</span><span style="color:#E1E4E8"> col </span><span style="color:#F97583">in</span><span style="color:#79B8FF"> 0</span><span style="color:#F97583">..</span><span style="color:#79B8FF">self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">cellules_width {</span></span>
<span class="line"><span style="color:#F97583">               let</span><span style="color:#E1E4E8"> neighbors </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> self</span><span style="color:#F97583">.</span><span style="color:#B392F0">neighbors</span><span style="color:#E1E4E8">(row </span><span style="color:#F97583">as</span><span style="color:#B392F0"> isize</span><span style="color:#E1E4E8">, col </span><span style="color:#F97583">as</span><span style="color:#B392F0"> isize</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">               let</span><span style="color:#E1E4E8"> current_idx </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> self</span><span style="color:#F97583">.</span><span style="color:#B392F0">row_col_as_idx</span><span style="color:#E1E4E8">(row </span><span style="color:#F97583">as</span><span style="color:#B392F0"> isize</span><span style="color:#E1E4E8">, col </span><span style="color:#F97583">as</span><span style="color:#B392F0"> isize</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">               if</span><span style="color:#79B8FF"> self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">cellules[current_idx]</span><span style="color:#F97583">.</span><span style="color:#B392F0">is_alive</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">                   if</span><span style="color:#B392F0"> Cellule</span><span style="color:#F97583">::</span><span style="color:#B392F0">alone</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#E1E4E8">neighbors) </span><span style="color:#F97583">||</span><span style="color:#B392F0"> Cellule</span><span style="color:#F97583">::</span><span style="color:#B392F0">overpopulated</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#E1E4E8">neighbors) {</span></span>
<span class="line"><span style="color:#E1E4E8">                       to_dead</span><span style="color:#F97583">.</span><span style="color:#B392F0">push</span><span style="color:#E1E4E8">(current_idx);</span></span>
<span class="line"><span style="color:#E1E4E8">                   }</span></span>
<span class="line"><span style="color:#E1E4E8">               } </span><span style="color:#F97583">else</span><span style="color:#F97583"> if</span><span style="color:#B392F0"> Cellule</span><span style="color:#F97583">::</span><span style="color:#B392F0">can_be_revived</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#E1E4E8">neighbors) {</span></span>
<span class="line"><span style="color:#E1E4E8">                   to_live</span><span style="color:#F97583">.</span><span style="color:#B392F0">push</span><span style="color:#E1E4E8">(current_idx);</span></span>
<span class="line"><span style="color:#E1E4E8">               }</span></span>
<span class="line"><span style="color:#E1E4E8">           }</span></span>
<span class="line"><span style="color:#E1E4E8">       }</span></span>
<span class="line"><span style="color:#E1E4E8">       to_dead</span></span>
<span class="line"><span style="color:#F97583">           .</span><span style="color:#B392F0">iter</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#F97583">           .</span><span style="color:#B392F0">for_each</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">|</span><span style="color:#E1E4E8">idx</span><span style="color:#F97583">|</span><span style="color:#79B8FF"> self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">cellules[</span><span style="color:#F97583">*</span><span style="color:#E1E4E8">idx]</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_dead</span><span style="color:#E1E4E8">());</span></span>
<span class="line"><span style="color:#E1E4E8">       to_live</span></span>
<span class="line"><span style="color:#F97583">           .</span><span style="color:#B392F0">iter</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#F97583">           .</span><span style="color:#B392F0">for_each</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">|</span><span style="color:#E1E4E8">idx</span><span style="color:#F97583">|</span><span style="color:#79B8FF"> self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">cellules[</span><span style="color:#F97583">*</span><span style="color:#E1E4E8">idx]</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_alive</span><span style="color:#E1E4E8">());</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   fn</span><span style="color:#B392F0"> neighbors</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#79B8FF">self</span><span style="color:#E1E4E8">, row</span><span style="color:#F97583">:</span><span style="color:#B392F0"> isize</span><span style="color:#E1E4E8">, col</span><span style="color:#F97583">:</span><span style="color:#B392F0"> isize</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-&gt;</span><span style="color:#E1E4E8"> [</span><span style="color:#B392F0">Cellule</span><span style="color:#E1E4E8">; </span><span style="color:#79B8FF">8</span><span style="color:#E1E4E8">] {</span></span>
<span class="line"><span style="color:#E1E4E8">       [</span></span>
<span class="line"><span style="color:#79B8FF">           self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">cellules[</span><span style="color:#79B8FF">self</span><span style="color:#F97583">.</span><span style="color:#B392F0">row_col_as_idx</span><span style="color:#E1E4E8">(row </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">, col)],</span></span>
<span class="line"><span style="color:#79B8FF">           self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">cellules[</span><span style="color:#79B8FF">self</span><span style="color:#F97583">.</span><span style="color:#B392F0">row_col_as_idx</span><span style="color:#E1E4E8">(row </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">, col </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">)],</span></span>
<span class="line"><span style="color:#79B8FF">           self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">cellules[</span><span style="color:#79B8FF">self</span><span style="color:#F97583">.</span><span style="color:#B392F0">row_col_as_idx</span><span style="color:#E1E4E8">(row </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">, col </span><span style="color:#F97583">-</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">)],</span></span>
<span class="line"><span style="color:#79B8FF">           self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">cellules[</span><span style="color:#79B8FF">self</span><span style="color:#F97583">.</span><span style="color:#B392F0">row_col_as_idx</span><span style="color:#E1E4E8">(row </span><span style="color:#F97583">-</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">, col)],</span></span>
<span class="line"><span style="color:#79B8FF">           self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">cellules[</span><span style="color:#79B8FF">self</span><span style="color:#F97583">.</span><span style="color:#B392F0">row_col_as_idx</span><span style="color:#E1E4E8">(row </span><span style="color:#F97583">-</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">, col </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">)],</span></span>
<span class="line"><span style="color:#79B8FF">           self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">cellules[</span><span style="color:#79B8FF">self</span><span style="color:#F97583">.</span><span style="color:#B392F0">row_col_as_idx</span><span style="color:#E1E4E8">(row </span><span style="color:#F97583">-</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">, col </span><span style="color:#F97583">-</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">)],</span></span>
<span class="line"><span style="color:#79B8FF">           self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">cellules[</span><span style="color:#79B8FF">self</span><span style="color:#F97583">.</span><span style="color:#B392F0">row_col_as_idx</span><span style="color:#E1E4E8">(row, col </span><span style="color:#F97583">-</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">)],</span></span>
<span class="line"><span style="color:#79B8FF">           self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">cellules[</span><span style="color:#79B8FF">self</span><span style="color:#F97583">.</span><span style="color:#B392F0">row_col_as_idx</span><span style="color:#E1E4E8">(row, col </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">)],</span></span>
<span class="line"><span style="color:#E1E4E8">       ]</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   fn</span><span style="color:#B392F0"> row_col_as_idx</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#79B8FF">self</span><span style="color:#E1E4E8">, row</span><span style="color:#F97583">:</span><span style="color:#B392F0"> isize</span><span style="color:#E1E4E8">, col</span><span style="color:#F97583">:</span><span style="color:#B392F0"> isize</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-&gt;</span><span style="color:#B392F0"> usize</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">       let</span><span style="color:#E1E4E8"> row </span><span style="color:#F97583">=</span><span style="color:#B392F0"> wrap</span><span style="color:#E1E4E8">(row, </span><span style="color:#79B8FF">self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">cellules_height </span><span style="color:#F97583">as</span><span style="color:#B392F0"> isize</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">       let</span><span style="color:#E1E4E8"> col </span><span style="color:#F97583">=</span><span style="color:#B392F0"> wrap</span><span style="color:#E1E4E8">(col, </span><span style="color:#79B8FF">self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">cellules_width </span><span style="color:#F97583">as</span><span style="color:#B392F0"> isize</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">       row </span><span style="color:#F97583">*</span><span style="color:#79B8FF"> self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">cellules_width </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> col</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   fn</span><span style="color:#B392F0"> view_cellule</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#79B8FF">self</span><span style="color:#E1E4E8">, idx</span><span style="color:#F97583">:</span><span style="color:#B392F0"> usize</span><span style="color:#E1E4E8">, cellule</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;</span><span style="color:#B392F0">Cellule</span><span style="color:#E1E4E8">, link</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;</span><span style="color:#B392F0">Scope</span><span style="color:#E1E4E8">&lt;</span><span style="color:#79B8FF">Self</span><span style="color:#E1E4E8">&gt;) </span><span style="color:#F97583">-&gt;</span><span style="color:#B392F0"> Html</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">       let</span><span style="color:#E1E4E8"> cellule_status </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">           if</span><span style="color:#E1E4E8"> cellule</span><span style="color:#F97583">.</span><span style="color:#B392F0">is_alive</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#9ECBFF">               &quot;cellule-live&quot;</span></span>
<span class="line"><span style="color:#E1E4E8">           } </span><span style="color:#F97583">else</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#9ECBFF">               &quot;cellule-dead&quot;</span></span>
<span class="line"><span style="color:#E1E4E8">           }</span></span>
<span class="line"><span style="color:#E1E4E8">       };</span></span>
<span class="line"><span style="color:#B392F0">       html!</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">           &lt;div key</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">{idx} class</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">{</span><span style="color:#B392F0">classes!</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;game-cellule&quot;</span><span style="color:#E1E4E8">, cellule_status)}</span></span>
<span class="line"><span style="color:#E1E4E8">               onclick</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">{link</span><span style="color:#F97583">.</span><span style="color:#B392F0">callback</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">move</span><span style="color:#F97583"> |</span><span style="color:#E1E4E8">_</span><span style="color:#F97583">|</span><span style="color:#B392F0"> Msg</span><span style="color:#F97583">::</span><span style="color:#B392F0">ToggleCellule</span><span style="color:#E1E4E8">(idx))}&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">           &lt;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">div&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">       }</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"><span style="color:#F97583">impl</span><span style="color:#B392F0"> Component</span><span style="color:#F97583"> for</span><span style="color:#B392F0"> App</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">   type</span><span style="color:#B392F0"> Message</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> Msg</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">   type</span><span style="color:#B392F0"> Properties</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> ();</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   fn</span><span style="color:#B392F0"> create</span><span style="color:#E1E4E8">(ctx</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;</span><span style="color:#B392F0">Context</span><span style="color:#E1E4E8">&lt;</span><span style="color:#79B8FF">Self</span><span style="color:#E1E4E8">&gt;) </span><span style="color:#F97583">-&gt;</span><span style="color:#79B8FF"> Self</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">       let</span><span style="color:#E1E4E8"> callback </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> ctx</span><span style="color:#F97583">.</span><span style="color:#B392F0">link</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">callback</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">|</span><span style="color:#E1E4E8">_</span><span style="color:#F97583">|</span><span style="color:#B392F0"> Msg</span><span style="color:#F97583">::</span><span style="color:#B392F0">Tick</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">       let</span><span style="color:#E1E4E8"> interval </span><span style="color:#F97583">=</span><span style="color:#B392F0"> Interval</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">200</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">move</span><span style="color:#F97583"> ||</span><span style="color:#E1E4E8"> callback</span><span style="color:#F97583">.</span><span style="color:#B392F0">emit</span><span style="color:#E1E4E8">(()));</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">       let</span><span style="color:#E1E4E8"> (cellules_width, cellules_height) </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> (</span><span style="color:#79B8FF">53</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">40</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF">       Self</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">           active</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> false</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">           cellules</span><span style="color:#F97583">:</span><span style="color:#B392F0"> vec!</span><span style="color:#E1E4E8">[</span><span style="color:#B392F0">Cellule</span><span style="color:#F97583">::</span><span style="color:#B392F0">new_dead</span><span style="color:#E1E4E8">(); cellules_width </span><span style="color:#F97583">*</span><span style="color:#E1E4E8"> cellules_height],</span></span>
<span class="line"><span style="color:#E1E4E8">           cellules_width,</span></span>
<span class="line"><span style="color:#E1E4E8">           cellules_height,</span></span>
<span class="line"><span style="color:#E1E4E8">           _interval</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> interval,</span></span>
<span class="line"><span style="color:#E1E4E8">       }</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   fn</span><span style="color:#B392F0"> update</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;mut</span><span style="color:#79B8FF"> self</span><span style="color:#E1E4E8">, _ctx</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;</span><span style="color:#B392F0">Context</span><span style="color:#E1E4E8">&lt;</span><span style="color:#79B8FF">Self</span><span style="color:#E1E4E8">&gt;, msg</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> Self</span><span style="color:#F97583">::</span><span style="color:#B392F0">Message</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-&gt;</span><span style="color:#B392F0"> bool</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">       match</span><span style="color:#E1E4E8"> msg {</span></span>
<span class="line"><span style="color:#B392F0">           Msg</span><span style="color:#F97583">::</span><span style="color:#B392F0">Random</span><span style="color:#F97583"> =&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">               self</span><span style="color:#F97583">.</span><span style="color:#B392F0">random_mutate</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#B392F0">               log</span><span style="color:#F97583">::</span><span style="color:#B392F0">info!</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;Random&quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#79B8FF">               true</span></span>
<span class="line"><span style="color:#E1E4E8">           }</span></span>
<span class="line"><span style="color:#B392F0">           Msg</span><span style="color:#F97583">::</span><span style="color:#B392F0">Start</span><span style="color:#F97583"> =&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">               self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">active </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> true</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#B392F0">               log</span><span style="color:#F97583">::</span><span style="color:#B392F0">info!</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;Start&quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#79B8FF">               false</span></span>
<span class="line"><span style="color:#E1E4E8">           }</span></span>
<span class="line"><span style="color:#B392F0">           Msg</span><span style="color:#F97583">::</span><span style="color:#B392F0">Step</span><span style="color:#F97583"> =&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">               self</span><span style="color:#F97583">.</span><span style="color:#B392F0">step</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#79B8FF">               true</span></span>
<span class="line"><span style="color:#E1E4E8">           }</span></span>
<span class="line"><span style="color:#B392F0">           Msg</span><span style="color:#F97583">::</span><span style="color:#B392F0">Reset</span><span style="color:#F97583"> =&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">               self</span><span style="color:#F97583">.</span><span style="color:#B392F0">reset</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#B392F0">               log</span><span style="color:#F97583">::</span><span style="color:#B392F0">info!</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;Reset&quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#79B8FF">               true</span></span>
<span class="line"><span style="color:#E1E4E8">           }</span></span>
<span class="line"><span style="color:#B392F0">           Msg</span><span style="color:#F97583">::</span><span style="color:#B392F0">Stop</span><span style="color:#F97583"> =&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">               self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">active </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> false</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#B392F0">               log</span><span style="color:#F97583">::</span><span style="color:#B392F0">info!</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;Stop&quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#79B8FF">               false</span></span>
<span class="line"><span style="color:#E1E4E8">           }</span></span>
<span class="line"><span style="color:#B392F0">           Msg</span><span style="color:#F97583">::</span><span style="color:#B392F0">ToggleCellule</span><span style="color:#E1E4E8">(idx) </span><span style="color:#F97583">=&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">               let</span><span style="color:#E1E4E8"> cellule </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">cellules</span><span style="color:#F97583">.</span><span style="color:#B392F0">get_mut</span><span style="color:#E1E4E8">(idx)</span><span style="color:#F97583">.</span><span style="color:#B392F0">unwrap</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">               cellule</span><span style="color:#F97583">.</span><span style="color:#B392F0">toggle</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#79B8FF">               true</span></span>
<span class="line"><span style="color:#E1E4E8">           }</span></span>
<span class="line"><span style="color:#B392F0">           Msg</span><span style="color:#F97583">::</span><span style="color:#B392F0">Tick</span><span style="color:#F97583"> =&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">               if</span><span style="color:#79B8FF"> self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">active {</span></span>
<span class="line"><span style="color:#79B8FF">                   self</span><span style="color:#F97583">.</span><span style="color:#B392F0">step</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#79B8FF">                   true</span></span>
<span class="line"><span style="color:#E1E4E8">               } </span><span style="color:#F97583">else</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">                   false</span></span>
<span class="line"><span style="color:#E1E4E8">               }</span></span>
<span class="line"><span style="color:#E1E4E8">           }</span></span>
<span class="line"><span style="color:#E1E4E8">       }</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   fn</span><span style="color:#B392F0"> view</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#79B8FF">self</span><span style="color:#E1E4E8">, ctx</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;</span><span style="color:#B392F0">Context</span><span style="color:#E1E4E8">&lt;</span><span style="color:#79B8FF">Self</span><span style="color:#E1E4E8">&gt;) </span><span style="color:#F97583">-&gt;</span><span style="color:#B392F0"> Html</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">       let</span><span style="color:#E1E4E8"> cell_rows </span><span style="color:#F97583">=</span></span>
<span class="line"><span style="color:#79B8FF">           self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">cellules</span></span>
<span class="line"><span style="color:#F97583">               .</span><span style="color:#B392F0">chunks</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">cellules_width)</span></span>
<span class="line"><span style="color:#F97583">               .</span><span style="color:#B392F0">enumerate</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#F97583">               .</span><span style="color:#B392F0">map</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">|</span><span style="color:#E1E4E8">(y, cellules)</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">                   let</span><span style="color:#E1E4E8"> idx_offset </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> y </span><span style="color:#F97583">*</span><span style="color:#79B8FF"> self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">cellules_width;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">                   let</span><span style="color:#E1E4E8"> cells </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> cellules</span></span>
<span class="line"><span style="color:#F97583">                       .</span><span style="color:#B392F0">iter</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#F97583">                       .</span><span style="color:#B392F0">enumerate</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#F97583">                       .</span><span style="color:#B392F0">map</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">|</span><span style="color:#E1E4E8">(x, cell)</span><span style="color:#F97583">|</span><span style="color:#79B8FF"> self</span><span style="color:#F97583">.</span><span style="color:#B392F0">view_cellule</span><span style="color:#E1E4E8">(idx_offset </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> x, cell, ctx</span><span style="color:#F97583">.</span><span style="color:#B392F0">link</span><span style="color:#E1E4E8">()));</span></span>
<span class="line"><span style="color:#B392F0">                   html!</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">                       &lt;div key</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">{y} class</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">&quot;game-row&quot;</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">                           { </span><span style="color:#F97583">for</span><span style="color:#E1E4E8"> cells }</span></span>
<span class="line"><span style="color:#E1E4E8">                       &lt;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">div&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">                   }</span></span>
<span class="line"><span style="color:#E1E4E8">               });</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">       html!</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">           &lt;div&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">               &lt;section class</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">&quot;game-container&quot;</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">                   &lt;section class</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">&quot;game-area&quot;</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">                       &lt;div class</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">&quot;game-of-life&quot;</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">                           { </span><span style="color:#F97583">for</span><span style="color:#E1E4E8"> cell_rows }</span></span>
<span class="line"><span style="color:#E1E4E8">                       &lt;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">div&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">                       &lt;div class</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">&quot;game-buttons&quot;</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">                           &lt;button class</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">&quot;game-button&quot;</span><span style="color:#E1E4E8"> onclick</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">{ctx</span><span style="color:#F97583">.</span><span style="color:#B392F0">link</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">callback</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">|</span><span style="color:#E1E4E8">_</span><span style="color:#F97583">|</span><span style="color:#B392F0"> Msg</span><span style="color:#F97583">::</span><span style="color:#B392F0">Random</span><span style="color:#E1E4E8">)}&gt;{ </span><span style="color:#9ECBFF">&quot;Random&quot;</span><span style="color:#E1E4E8"> }&lt;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">button&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">                           &lt;button class</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">&quot;game-button&quot;</span><span style="color:#E1E4E8"> onclick</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">{ctx</span><span style="color:#F97583">.</span><span style="color:#B392F0">link</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">callback</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">|</span><span style="color:#E1E4E8">_</span><span style="color:#F97583">|</span><span style="color:#B392F0"> Msg</span><span style="color:#F97583">::</span><span style="color:#B392F0">Step</span><span style="color:#E1E4E8">)}&gt;{ </span><span style="color:#9ECBFF">&quot;Step&quot;</span><span style="color:#E1E4E8"> }&lt;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">button&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">                           &lt;button class</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">&quot;game-button&quot;</span><span style="color:#E1E4E8"> onclick</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">{ctx</span><span style="color:#F97583">.</span><span style="color:#B392F0">link</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">callback</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">|</span><span style="color:#E1E4E8">_</span><span style="color:#F97583">|</span><span style="color:#B392F0"> Msg</span><span style="color:#F97583">::</span><span style="color:#B392F0">Start</span><span style="color:#E1E4E8">)}&gt;{ </span><span style="color:#9ECBFF">&quot;Start&quot;</span><span style="color:#E1E4E8"> }&lt;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">button&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">                           &lt;button class</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">&quot;game-button&quot;</span><span style="color:#E1E4E8"> onclick</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">{ctx</span><span style="color:#F97583">.</span><span style="color:#B392F0">link</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">callback</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">|</span><span style="color:#E1E4E8">_</span><span style="color:#F97583">|</span><span style="color:#B392F0"> Msg</span><span style="color:#F97583">::</span><span style="color:#B392F0">Stop</span><span style="color:#E1E4E8">)}&gt;{ </span><span style="color:#9ECBFF">&quot;Stop&quot;</span><span style="color:#E1E4E8"> }&lt;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">button&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">                           &lt;button class</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">&quot;game-button&quot;</span><span style="color:#E1E4E8"> onclick</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">{ctx</span><span style="color:#F97583">.</span><span style="color:#B392F0">link</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">callback</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">|</span><span style="color:#E1E4E8">_</span><span style="color:#F97583">|</span><span style="color:#B392F0"> Msg</span><span style="color:#F97583">::</span><span style="color:#B392F0">Reset</span><span style="color:#E1E4E8">)}&gt;{ </span><span style="color:#9ECBFF">&quot;Reset&quot;</span><span style="color:#E1E4E8"> }&lt;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">button&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">                       &lt;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">div&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">                   &lt;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">section&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">               &lt;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">section&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">           &lt;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">div&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">       }</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">fn</span><span style="color:#B392F0"> wrap</span><span style="color:#E1E4E8">(coord</span><span style="color:#F97583">:</span><span style="color:#B392F0"> isize</span><span style="color:#E1E4E8">, range</span><span style="color:#F97583">:</span><span style="color:#B392F0"> isize</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-&gt;</span><span style="color:#B392F0"> usize</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">   let</span><span style="color:#E1E4E8"> result </span><span style="color:#F97583">=</span><span style="color:#F97583"> if</span><span style="color:#E1E4E8"> coord </span><span style="color:#F97583">&lt;</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">       coord </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> range</span></span>
<span class="line"><span style="color:#E1E4E8">   } </span><span style="color:#F97583">else</span><span style="color:#F97583"> if</span><span style="color:#E1E4E8"> coord </span><span style="color:#F97583">&gt;=</span><span style="color:#E1E4E8"> range {</span></span>
<span class="line"><span style="color:#E1E4E8">       coord </span><span style="color:#F97583">-</span><span style="color:#E1E4E8"> range</span></span>
<span class="line"><span style="color:#E1E4E8">   } </span><span style="color:#F97583">else</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">       coord</span></span>
<span class="line"><span style="color:#E1E4E8">   };</span></span>
<span class="line"><span style="color:#E1E4E8">   result </span><span style="color:#F97583">as</span><span style="color:#B392F0"> usize</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">fn</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">   wasm_logger</span><span style="color:#F97583">::</span><span style="color:#B392F0">init</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">wasm_logger</span><span style="color:#F97583">::</span><span style="color:#B392F0">Config</span><span style="color:#F97583">::</span><span style="color:#B392F0">default</span><span style="color:#E1E4E8">());</span></span>
<span class="line"><span style="color:#B392F0">   log</span><span style="color:#F97583">::</span><span style="color:#B392F0">trace!</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;Initializing yew...&quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#B392F0">   yew</span><span style="color:#F97583">::</span><span style="color:#B392F0">Renderer</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">App</span><span style="color:#E1E4E8">&gt;</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">render</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<h3 id="10-bracket">10. <a href="https://github.com/amethyst/bracket-lib">Bracket</a></h3>
<p><strong>Bracket</strong> has been rebranded from rltk (Roguelike Toolkit). Consisting of a console rendering library and several helper tools for writing roguelikes, Bracket runs both web and desktop. Check out this killer <a href="https://github.com/amethyst/rustrogueliketutorial">tutorial</a> where you can write a <a href="https://en.wikipedia.org/wiki/Roguelike">roguelike</a> game in Rust.</p>
<p>By default, bracket-lib runs in OpenGL mode (or WebGL if it detects that you are compiling for wasm32-unknown-unknown). It can use wgpu as a backend, which will come in very handy in the future. Here is the last level of their tutorial built for the web:</p>
<iframe src="https://shades-bracket-lib.apps.loskutoff.com" width="100%" height="430px"></iframe>
<p>Source code would be too large to include in the article, so there is a “hello world” <a href="https://bfnightly.bracketproductions.com/bracket-lib/hello_terminal.html">example</a> written with this library:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="rust"><code><span class="line"></span>
<span class="line"><span style="color:#6A737D">// main.rs</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> bracket_lib</span><span style="color:#F97583">::</span><span style="color:#B392F0">prelude</span><span style="color:#F97583">::*</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">struct</span><span style="color:#B392F0"> State</span><span style="color:#E1E4E8"> {}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">impl</span><span style="color:#B392F0"> GameState</span><span style="color:#F97583"> for</span><span style="color:#B392F0"> State</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583"> fn</span><span style="color:#B392F0"> tick</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;mut</span><span style="color:#79B8FF"> self</span><span style="color:#E1E4E8">, ctx</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;mut</span><span style="color:#B392F0"> BTerm</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">   ctx</span><span style="color:#F97583">.</span><span style="color:#B392F0">print</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">&quot;Hello Bracket World&quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8"> }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">fn</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">-&gt;</span><span style="color:#B392F0"> BError</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583"> let</span><span style="color:#E1E4E8"> context </span><span style="color:#F97583">=</span><span style="color:#B392F0"> BTermBuilder</span><span style="color:#F97583">::</span><span style="color:#B392F0">simple80x50</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#F97583">   .</span><span style="color:#B392F0">with_title</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;Hello Minimal Bracket World&quot;</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">   .</span><span style="color:#B392F0">build</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">?</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583"> let</span><span style="color:#E1E4E8"> gs</span><span style="color:#F97583">:</span><span style="color:#B392F0"> State</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> State</span><span style="color:#E1E4E8"> {};</span></span>
<span class="line"><span style="color:#B392F0"> main_loop</span><span style="color:#E1E4E8">(context, gs)</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<p>Since I mentioned <strong>Bracket</strong>, I must also mention <a href="https://github.com/gyscos/cursive">Cursive</a>, which is a console lib for terminal interfaces, although it can’t do web right now because it  seems to have no compilable backends for browsers.</p>
<p>Below is one example running on the Desktop:</p>
<p><img src="https://docs.monadical.com/uploads/66c620ed-8005-4a81-b4d5-944c2b8a8a24.png" alt="Cursive UI desktop screenshot"/></p>
<p>As with the Bracket example, I’ve included a “Hello world” code here.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="rust"><code><span class="line"></span>
<span class="line"><span style="color:#6A737D">// main.rs</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> cursive</span><span style="color:#F97583">::</span><span style="color:#B392F0">views</span><span style="color:#F97583">::</span><span style="color:#B392F0">TextView</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">fn</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583"> let</span><span style="color:#F97583"> mut</span><span style="color:#E1E4E8"> siv </span><span style="color:#F97583">=</span><span style="color:#B392F0"> cursive</span><span style="color:#F97583">::</span><span style="color:#B392F0">default</span><span style="color:#E1E4E8">();</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8"> siv</span><span style="color:#F97583">.</span><span style="color:#B392F0">add_global_callback</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&#39;q&#39;</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">|</span><span style="color:#E1E4E8">s</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> s</span><span style="color:#F97583">.</span><span style="color:#B392F0">quit</span><span style="color:#E1E4E8">());</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8"> siv</span><span style="color:#F97583">.</span><span style="color:#B392F0">add_layer</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">TextView</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;Hello cursive! Press &lt;q&gt; to quit.&quot;</span><span style="color:#E1E4E8">));</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8"> siv</span><span style="color:#F97583">.</span><span style="color:#B392F0">run</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<h3 id="11-vizia">11. <a href="https://github.com/vizia/vizia">Vizia</a></h3>
<p><strong>Vizia</strong> is a declarative and reactive GUI framework. It can be used on multiple platforms (Windows, Linux, MacOS, Web), has Elm-like data handling, and is rendered on GPU.</p>
<p>Here is one of their examples:</p>
<iframe src="https://shades-vizia.apps.loskutoff.com" width="250px" height="250px"></iframe>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="rust"><code><span class="line"></span>
<span class="line"><span style="color:#6A737D">// main.rs</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> std</span><span style="color:#F97583">::</span><span style="color:#B392F0">str</span><span style="color:#F97583">::</span><span style="color:#B392F0">FromStr</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> vizia</span><span style="color:#F97583">::</span><span style="color:#B392F0">fonts</span><span style="color:#F97583">::</span><span style="color:#B392F0">icons_names</span><span style="color:#F97583">::</span><span style="color:#B392F0">DOWN</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> vizia</span><span style="color:#F97583">::</span><span style="color:#B392F0">prelude</span><span style="color:#F97583">::*</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> chrono</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">{</span><span style="color:#B392F0">NaiveDate</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">ParseError</span><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> STYLE</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;</span><span style="color:#B392F0">str</span><span style="color:#F97583"> =</span><span style="color:#9ECBFF"> r#&quot;</span></span>
<span class="line"><span style="color:#9ECBFF">   /*</span></span>
<span class="line"><span style="color:#9ECBFF">   * {</span></span>
<span class="line"><span style="color:#9ECBFF">       border-width: 1px;</span></span>
<span class="line"><span style="color:#9ECBFF">       border-color: red;</span></span>
<span class="line"><span style="color:#9ECBFF">   }</span></span>
<span class="line"><span style="color:#9ECBFF">   */</span></span>
<span class="line"><span style="color:#9ECBFF">   textbox.invalid {</span></span>
<span class="line"><span style="color:#9ECBFF">       background-color: #AA0000;</span></span>
<span class="line"><span style="color:#9ECBFF">   }</span></span>
<span class="line"><span style="color:#9ECBFF">&quot;#</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">#[derive(</span><span style="color:#B392F0">Clone</span><span style="color:#E1E4E8">)]</span></span>
<span class="line"><span style="color:#F97583">pub</span><span style="color:#F97583"> struct</span><span style="color:#B392F0"> SimpleDate</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">NaiveDate</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">impl</span><span style="color:#B392F0"> Data</span><span style="color:#F97583"> for</span><span style="color:#B392F0"> SimpleDate</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">   fn</span><span style="color:#B392F0"> same</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#79B8FF">self</span><span style="color:#E1E4E8">, other</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;</span><span style="color:#79B8FF">Self</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-&gt;</span><span style="color:#B392F0"> bool</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">       self</span><span style="color:#F97583">.</span><span style="color:#79B8FF">0</span><span style="color:#F97583"> ==</span><span style="color:#E1E4E8"> other</span><span style="color:#F97583">.</span><span style="color:#79B8FF">0</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">impl</span><span style="color:#B392F0"> std</span><span style="color:#F97583">::</span><span style="color:#B392F0">fmt</span><span style="color:#F97583">::</span><span style="color:#B392F0">Display</span><span style="color:#F97583"> for</span><span style="color:#B392F0"> SimpleDate</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">   fn</span><span style="color:#B392F0"> fmt</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#79B8FF">self</span><span style="color:#E1E4E8">, f</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;mut</span><span style="color:#B392F0"> std</span><span style="color:#F97583">::</span><span style="color:#B392F0">fmt</span><span style="color:#F97583">::</span><span style="color:#B392F0">Formatter</span><span style="color:#E1E4E8">&lt;&#39;</span><span style="color:#B392F0">_</span><span style="color:#E1E4E8">&gt;) </span><span style="color:#F97583">-&gt;</span><span style="color:#B392F0"> std</span><span style="color:#F97583">::</span><span style="color:#B392F0">fmt</span><span style="color:#F97583">::</span><span style="color:#B392F0">Result</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">       write!</span><span style="color:#E1E4E8">(f, </span><span style="color:#9ECBFF">&quot;{}&quot;</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">self</span><span style="color:#F97583">.</span><span style="color:#79B8FF">0.</span><span style="color:#B392F0">format</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;%Y:%m:%d&quot;</span><span style="color:#E1E4E8">))</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">impl</span><span style="color:#B392F0"> FromStr</span><span style="color:#F97583"> for</span><span style="color:#B392F0"> SimpleDate</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">   type</span><span style="color:#B392F0"> Err</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> ParseError</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">   fn</span><span style="color:#B392F0"> from_str</span><span style="color:#E1E4E8">(s</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;</span><span style="color:#B392F0">str</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-&gt;</span><span style="color:#B392F0"> Result</span><span style="color:#E1E4E8">&lt;</span><span style="color:#79B8FF">Self</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">Self</span><span style="color:#F97583">::</span><span style="color:#B392F0">Err</span><span style="color:#E1E4E8">&gt; {</span></span>
<span class="line"><span style="color:#B392F0">       NaiveDate</span><span style="color:#F97583">::</span><span style="color:#B392F0">parse_from_str</span><span style="color:#E1E4E8">(s, </span><span style="color:#9ECBFF">&quot;%Y:%m:%d&quot;</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">.</span><span style="color:#B392F0">map</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">|</span><span style="color:#E1E4E8">date</span><span style="color:#F97583">|</span><span style="color:#B392F0"> SimpleDate</span><span style="color:#E1E4E8">(date))</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">#[derive(</span><span style="color:#B392F0">Lens</span><span style="color:#E1E4E8">)]</span></span>
<span class="line"><span style="color:#F97583">pub</span><span style="color:#F97583"> struct</span><span style="color:#B392F0"> AppData</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">   options</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Vec</span><span style="color:#E1E4E8">&lt;</span><span style="color:#F97583">&amp;</span><span style="color:#E1E4E8">&#39;</span><span style="color:#B392F0">static</span><span style="color:#B392F0"> str</span><span style="color:#E1E4E8">&gt;,</span></span>
<span class="line"><span style="color:#E1E4E8">   choice</span><span style="color:#F97583">:</span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">   start_date</span><span style="color:#F97583">:</span><span style="color:#B392F0"> SimpleDate</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">   end_date</span><span style="color:#F97583">:</span><span style="color:#B392F0"> SimpleDate</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">pub</span><span style="color:#F97583"> enum</span><span style="color:#B392F0"> AppEvent</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">   SetChoice</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">String</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#B392F0">   SetStartDate</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">SimpleDate</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#B392F0">   SetEndDate</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">SimpleDate</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">impl</span><span style="color:#B392F0"> Model</span><span style="color:#F97583"> for</span><span style="color:#B392F0"> AppData</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">   fn</span><span style="color:#B392F0"> event</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;mut</span><span style="color:#79B8FF"> self</span><span style="color:#E1E4E8">, _</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;mut</span><span style="color:#B392F0"> EventContext</span><span style="color:#E1E4E8">, event</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;mut</span><span style="color:#B392F0"> Event</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">       event</span><span style="color:#F97583">.</span><span style="color:#B392F0">map</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">|</span><span style="color:#E1E4E8">app_event, _</span><span style="color:#F97583">|</span><span style="color:#F97583"> match</span><span style="color:#E1E4E8"> app_event {</span></span>
<span class="line"><span style="color:#B392F0">           AppEvent</span><span style="color:#F97583">::</span><span style="color:#B392F0">SetChoice</span><span style="color:#E1E4E8">(choice) </span><span style="color:#F97583">=&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">               self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">choice </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> choice</span><span style="color:#F97583">.</span><span style="color:#B392F0">clone</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">           }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">           AppEvent</span><span style="color:#F97583">::</span><span style="color:#B392F0">SetStartDate</span><span style="color:#E1E4E8">(date) </span><span style="color:#F97583">=&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">               self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">start_date </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> date</span><span style="color:#F97583">.</span><span style="color:#B392F0">clone</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">           }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">           AppEvent</span><span style="color:#F97583">::</span><span style="color:#B392F0">SetEndDate</span><span style="color:#E1E4E8">(date) </span><span style="color:#F97583">=&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">               self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">end_date </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> date</span><span style="color:#F97583">.</span><span style="color:#B392F0">clone</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">           }</span></span>
<span class="line"><span style="color:#E1E4E8">       });</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">impl</span><span style="color:#B392F0"> AppData</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">   pub</span><span style="color:#F97583"> fn</span><span style="color:#B392F0"> new</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">-&gt;</span><span style="color:#79B8FF"> Self</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">       Self</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">           options</span><span style="color:#F97583">:</span><span style="color:#B392F0"> vec!</span><span style="color:#E1E4E8">[</span><span style="color:#9ECBFF">&quot;one-way flight&quot;</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">&quot;return flight&quot;</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#E1E4E8">           choice</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;one-way flight&quot;</span><span style="color:#F97583">.</span><span style="color:#B392F0">to_string</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">           start_date</span><span style="color:#F97583">:</span><span style="color:#B392F0"> SimpleDate</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">NaiveDate</span><span style="color:#F97583">::</span><span style="color:#B392F0">from_ymd_opt</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">2022</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">02</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">12</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">.</span><span style="color:#B392F0">unwrap</span><span style="color:#E1E4E8">()),</span></span>
<span class="line"><span style="color:#E1E4E8">           end_date</span><span style="color:#F97583">:</span><span style="color:#B392F0"> SimpleDate</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">NaiveDate</span><span style="color:#F97583">::</span><span style="color:#B392F0">from_ymd_opt</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">2022</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">02</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">26</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">.</span><span style="color:#B392F0">unwrap</span><span style="color:#E1E4E8">()),</span></span>
<span class="line"><span style="color:#E1E4E8">       }</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">fn</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">   Application</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">|</span><span style="color:#E1E4E8">cx</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">       cx</span><span style="color:#F97583">.</span><span style="color:#B392F0">add_theme</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">STYLE</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#B392F0">       AppData</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">build</span><span style="color:#E1E4E8">(cx);</span></span>
<span class="line"><span style="color:#B392F0">       VStack</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(cx, </span><span style="color:#F97583">|</span><span style="color:#E1E4E8">cx</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">           Dropdown</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">               cx,</span></span>
<span class="line"><span style="color:#F97583">               move</span><span style="color:#F97583"> |</span><span style="color:#E1E4E8">cx</span><span style="color:#F97583">|</span></span>
<span class="line"><span style="color:#6A737D">                   // A Label and an Icon</span></span>
<span class="line"><span style="color:#B392F0">                   HStack</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(cx, </span><span style="color:#F97583">move</span><span style="color:#F97583"> |</span><span style="color:#E1E4E8">cx</span><span style="color:#F97583">|</span><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#B392F0">                       Label</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(cx, </span><span style="color:#B392F0">AppData</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">choice)</span></span>
<span class="line"><span style="color:#F97583">                           .</span><span style="color:#B392F0">width</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Stretch</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1.0</span><span style="color:#E1E4E8">))</span></span>
<span class="line"><span style="color:#F97583">                           .</span><span style="color:#B392F0">text_wrap</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">false</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#B392F0">                       Label</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(cx, </span><span style="color:#79B8FF">DOWN</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">.</span><span style="color:#B392F0">font</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;icons&quot;</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">.</span><span style="color:#B392F0">left</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Pixels</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">5.0</span><span style="color:#E1E4E8">))</span><span style="color:#F97583">.</span><span style="color:#B392F0">right</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Pixels</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">5.0</span><span style="color:#E1E4E8">));</span></span>
<span class="line"><span style="color:#E1E4E8">                   })</span><span style="color:#F97583">.</span><span style="color:#B392F0">width</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Stretch</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1.0</span><span style="color:#E1E4E8">)),</span></span>
<span class="line"><span style="color:#6A737D">               // List of options</span></span>
<span class="line"><span style="color:#F97583">               move</span><span style="color:#F97583"> |</span><span style="color:#E1E4E8">cx</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">                   List</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(cx, </span><span style="color:#B392F0">AppData</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">options, </span><span style="color:#F97583">|</span><span style="color:#E1E4E8">cx, _, item</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">                       Label</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(cx, item)</span></span>
<span class="line"><span style="color:#F97583">                           .</span><span style="color:#B392F0">width</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Stretch</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1.0</span><span style="color:#E1E4E8">))</span></span>
<span class="line"><span style="color:#F97583">                           .</span><span style="color:#B392F0">child_top</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Stretch</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1.0</span><span style="color:#E1E4E8">))</span></span>
<span class="line"><span style="color:#F97583">                           .</span><span style="color:#B392F0">child_bottom</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Stretch</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1.0</span><span style="color:#E1E4E8">))</span></span>
<span class="line"><span style="color:#F97583">                           .</span><span style="color:#B392F0">bind</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">AppData</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">choice, </span><span style="color:#F97583">move</span><span style="color:#F97583"> |</span><span style="color:#E1E4E8">handle, choice</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">                               let</span><span style="color:#E1E4E8"> selected </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> item</span><span style="color:#F97583">.</span><span style="color:#B392F0">get</span><span style="color:#E1E4E8">(handle</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">cx) </span><span style="color:#F97583">==</span><span style="color:#E1E4E8"> choice</span><span style="color:#F97583">.</span><span style="color:#B392F0">get</span><span style="color:#E1E4E8">(handle</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">cx);</span></span>
<span class="line"><span style="color:#E1E4E8">                               handle</span><span style="color:#F97583">.</span><span style="color:#B392F0">background_color</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">if</span><span style="color:#E1E4E8"> selected {</span></span>
<span class="line"><span style="color:#B392F0">                                   Color</span><span style="color:#F97583">::</span><span style="color:#B392F0">from</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;#f8ac14&quot;</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">                               } </span><span style="color:#F97583">else</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">                                   Color</span><span style="color:#F97583">::</span><span style="color:#B392F0">white</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#E1E4E8">                               });</span></span>
<span class="line"><span style="color:#E1E4E8">                           })</span></span>
<span class="line"><span style="color:#F97583">                           .</span><span style="color:#B392F0">on_press</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">move</span><span style="color:#F97583"> |</span><span style="color:#E1E4E8">cx</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">                               cx</span><span style="color:#F97583">.</span><span style="color:#B392F0">emit</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">AppEvent</span><span style="color:#F97583">::</span><span style="color:#B392F0">SetChoice</span><span style="color:#E1E4E8">(item</span><span style="color:#F97583">.</span><span style="color:#B392F0">get</span><span style="color:#E1E4E8">(cx)</span><span style="color:#F97583">.</span><span style="color:#B392F0">to_string</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">to_owned</span><span style="color:#E1E4E8">()));</span></span>
<span class="line"><span style="color:#E1E4E8">                               cx</span><span style="color:#F97583">.</span><span style="color:#B392F0">emit</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">PopupEvent</span><span style="color:#F97583">::</span><span style="color:#B392F0">Close</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">                           });</span></span>
<span class="line"><span style="color:#E1E4E8">                   });</span></span>
<span class="line"><span style="color:#E1E4E8">               },</span></span>
<span class="line"><span style="color:#E1E4E8">           )</span></span>
<span class="line"><span style="color:#F97583">               .</span><span style="color:#B392F0">width</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Pixels</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">150.0</span><span style="color:#E1E4E8">));</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">           Textbox</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(cx, </span><span style="color:#B392F0">AppData</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">start_date)</span></span>
<span class="line"><span style="color:#F97583">               .</span><span style="color:#B392F0">on_edit</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">|</span><span style="color:#E1E4E8">cx, text</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">                   if</span><span style="color:#F97583"> let</span><span style="color:#B392F0"> Ok</span><span style="color:#E1E4E8">(val) </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> text</span><span style="color:#F97583">.</span><span style="color:#B392F0">parse</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">SimpleDate</span><span style="color:#E1E4E8">&gt;() {</span></span>
<span class="line"><span style="color:#E1E4E8">                       cx</span><span style="color:#F97583">.</span><span style="color:#B392F0">emit</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">AppEvent</span><span style="color:#F97583">::</span><span style="color:#B392F0">SetStartDate</span><span style="color:#E1E4E8">(val));</span></span>
<span class="line"><span style="color:#E1E4E8">                       cx</span><span style="color:#F97583">.</span><span style="color:#B392F0">toggle_class</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;invalid&quot;</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">false</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">                   } </span><span style="color:#F97583">else</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">                       cx</span><span style="color:#F97583">.</span><span style="color:#B392F0">toggle_class</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;invalid&quot;</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">true</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">                   }</span></span>
<span class="line"><span style="color:#E1E4E8">               })</span></span>
<span class="line"><span style="color:#F97583">               .</span><span style="color:#B392F0">width</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Pixels</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">150.0</span><span style="color:#E1E4E8">));</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">           Textbox</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(cx, </span><span style="color:#B392F0">AppData</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">end_date)</span></span>
<span class="line"><span style="color:#F97583">               .</span><span style="color:#B392F0">on_edit</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">|</span><span style="color:#E1E4E8">cx, text</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">                   if</span><span style="color:#F97583"> let</span><span style="color:#B392F0"> Ok</span><span style="color:#E1E4E8">(val) </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> text</span><span style="color:#F97583">.</span><span style="color:#B392F0">parse</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">SimpleDate</span><span style="color:#E1E4E8">&gt;() {</span></span>
<span class="line"><span style="color:#E1E4E8">                       cx</span><span style="color:#F97583">.</span><span style="color:#B392F0">emit</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">AppEvent</span><span style="color:#F97583">::</span><span style="color:#B392F0">SetEndDate</span><span style="color:#E1E4E8">(val));</span></span>
<span class="line"><span style="color:#E1E4E8">                       cx</span><span style="color:#F97583">.</span><span style="color:#B392F0">toggle_class</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;invalid&quot;</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">false</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">                   } </span><span style="color:#F97583">else</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">                       cx</span><span style="color:#F97583">.</span><span style="color:#B392F0">toggle_class</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;invalid&quot;</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">true</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">                   }</span></span>
<span class="line"><span style="color:#E1E4E8">               })</span></span>
<span class="line"><span style="color:#F97583">               .</span><span style="color:#B392F0">width</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Pixels</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">150.0</span><span style="color:#E1E4E8">))</span></span>
<span class="line"><span style="color:#F97583">               .</span><span style="color:#B392F0">disabled</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">AppData</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">choice</span><span style="color:#F97583">.</span><span style="color:#B392F0">map</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">|</span><span style="color:#E1E4E8">choice</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> choice </span><span style="color:#F97583">==</span><span style="color:#9ECBFF"> &quot;one-way flight&quot;</span><span style="color:#E1E4E8">));</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">           Button</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(cx, </span><span style="color:#F97583">|</span><span style="color:#E1E4E8">_</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {}, </span><span style="color:#F97583">|</span><span style="color:#E1E4E8">cx</span><span style="color:#F97583">|</span><span style="color:#B392F0"> Label</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(cx, </span><span style="color:#9ECBFF">&quot;Book&quot;</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">.</span><span style="color:#B392F0">width</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Stretch</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1.0</span><span style="color:#E1E4E8">)))</span></span>
<span class="line"><span style="color:#F97583">               .</span><span style="color:#B392F0">width</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Pixels</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">150.0</span><span style="color:#E1E4E8">));</span></span>
<span class="line"><span style="color:#E1E4E8">       })</span></span>
<span class="line"><span style="color:#F97583">           .</span><span style="color:#B392F0">row_between</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Pixels</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">10.0</span><span style="color:#E1E4E8">))</span></span>
<span class="line"><span style="color:#F97583">           .</span><span style="color:#B392F0">child_space</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Stretch</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1.0</span><span style="color:#E1E4E8">));</span></span>
<span class="line"><span style="color:#E1E4E8">   })</span></span>
<span class="line"><span style="color:#F97583">       .</span><span style="color:#B392F0">title</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;Flight Booker&quot;</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">       .</span><span style="color:#B392F0">inner_size</span><span style="color:#E1E4E8">((</span><span style="color:#79B8FF">250</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">250</span><span style="color:#E1E4E8">))</span></span>
<span class="line"><span style="color:#F97583">       .</span><span style="color:#B392F0">run</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<h3 id="12-leptos">12. <a href="https://github.com/leptos-rs/leptos">Leptos</a></h3>
<p><strong>Leptos</strong> is an isomorphic web framework that defines GUI like React does, but with more fine-grained reactivity done with the help of Rust closures. The whole render function isn’t executed on every signal update, but rather considered a “setup” function. There’s also no virtual dom. Included in Leptos is a router that works on both the server and the client.</p>
<p>Check out Leptos’ router example:</p>
<iframe src="https://shades-leptos.apps.loskutoff.com" width="100%" height="300px"></iframe>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="rust"><code><span class="line"></span>
<span class="line"><span style="color:#6A737D">// lib.rs</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// main.rs boilerplate omitted</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">mod</span><span style="color:#B392F0"> api</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> leptos</span><span style="color:#F97583">::*</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> leptos_router</span><span style="color:#F97583">::*</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#F97583"> crate::</span><span style="color:#B392F0">api</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">{get_contact, get_contacts};</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">#[component]</span></span>
<span class="line"><span style="color:#F97583">pub</span><span style="color:#F97583"> fn</span><span style="color:#B392F0"> RouterExample</span><span style="color:#E1E4E8">(cx</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Scope</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-&gt;</span><span style="color:#F97583"> impl</span><span style="color:#B392F0"> IntoView</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">   log</span><span style="color:#F97583">::</span><span style="color:#B392F0">debug!</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;rendering &lt;RouterExample/&gt;&quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">   view!</span><span style="color:#E1E4E8"> { cx,</span></span>
<span class="line"><span style="color:#E1E4E8">       &lt;</span><span style="color:#B392F0">Router</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">           &lt;nav&gt;</span></span>
<span class="line"><span style="color:#6A737D">               // ordinary &lt;a&gt; elements can be used for client-side navigation</span></span>
<span class="line"><span style="color:#6A737D">               // using &lt;A&gt; has two effects:</span></span>
<span class="line"><span style="color:#6A737D">               // 1) ensuring that relative routing works properly for nested routes</span></span>
<span class="line"><span style="color:#6A737D">               // 2) setting the `aria-current` attribute on the current link,</span></span>
<span class="line"><span style="color:#6A737D">               //    for a11y and styling purposes</span></span>
<span class="line"><span style="color:#E1E4E8">               &lt;</span><span style="color:#B392F0">A</span><span style="color:#E1E4E8"> exact</span><span style="color:#F97583">=</span><span style="color:#79B8FF">true</span><span style="color:#E1E4E8"> href</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">&quot;/&quot;</span><span style="color:#E1E4E8">&gt;</span><span style="color:#9ECBFF">&quot;Contacts&quot;</span><span style="color:#E1E4E8">&lt;</span><span style="color:#F97583">/</span><span style="color:#B392F0">A</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">               &lt;</span><span style="color:#B392F0">A</span><span style="color:#E1E4E8"> href</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">&quot;about&quot;</span><span style="color:#E1E4E8">&gt;</span><span style="color:#9ECBFF">&quot;About&quot;</span><span style="color:#E1E4E8">&lt;</span><span style="color:#F97583">/</span><span style="color:#B392F0">A</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">               &lt;</span><span style="color:#B392F0">A</span><span style="color:#E1E4E8"> href</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">&quot;settings&quot;</span><span style="color:#E1E4E8">&gt;</span><span style="color:#9ECBFF">&quot;Settings&quot;</span><span style="color:#E1E4E8">&lt;</span><span style="color:#F97583">/</span><span style="color:#B392F0">A</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">               &lt;</span><span style="color:#B392F0">A</span><span style="color:#E1E4E8"> href</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">&quot;redirect-home&quot;</span><span style="color:#E1E4E8">&gt;</span><span style="color:#9ECBFF">&quot;Redirect to Home&quot;</span><span style="color:#E1E4E8">&lt;</span><span style="color:#F97583">/</span><span style="color:#B392F0">A</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">           &lt;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">nav&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">           &lt;main&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">               &lt;</span><span style="color:#B392F0">Routes</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">                   &lt;</span><span style="color:#B392F0">Route</span></span>
<span class="line"><span style="color:#E1E4E8">                       path</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">&quot;&quot;</span></span>
<span class="line"><span style="color:#E1E4E8">                       view</span><span style="color:#F97583">=move</span><span style="color:#F97583"> |</span><span style="color:#E1E4E8">cx</span><span style="color:#F97583">|</span><span style="color:#B392F0"> view!</span><span style="color:#E1E4E8"> { cx,  &lt;</span><span style="color:#B392F0">ContactList</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">&gt; }</span></span>
<span class="line"><span style="color:#E1E4E8">                   &gt;</span></span>
<span class="line"><span style="color:#E1E4E8">                       &lt;</span><span style="color:#B392F0">Route</span></span>
<span class="line"><span style="color:#E1E4E8">                           path</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">&quot;:id&quot;</span></span>
<span class="line"><span style="color:#E1E4E8">                           view</span><span style="color:#F97583">=move</span><span style="color:#F97583"> |</span><span style="color:#E1E4E8">cx</span><span style="color:#F97583">|</span><span style="color:#B392F0"> view!</span><span style="color:#E1E4E8"> { cx,  &lt;</span><span style="color:#B392F0">Contact</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">&gt; }</span></span>
<span class="line"><span style="color:#F97583">                       /</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">                       &lt;</span><span style="color:#B392F0">Route</span></span>
<span class="line"><span style="color:#E1E4E8">                           path</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">&quot;/&quot;</span></span>
<span class="line"><span style="color:#E1E4E8">                           view</span><span style="color:#F97583">=move</span><span style="color:#F97583"> |</span><span style="color:#E1E4E8">_</span><span style="color:#F97583">|</span><span style="color:#B392F0"> view!</span><span style="color:#E1E4E8"> { cx,  &lt;p&gt;</span><span style="color:#9ECBFF">&quot;Select a contact.&quot;</span><span style="color:#E1E4E8">&lt;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">p&gt; }</span></span>
<span class="line"><span style="color:#F97583">                       /</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">                   &lt;</span><span style="color:#F97583">/</span><span style="color:#B392F0">Route</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">                   &lt;</span><span style="color:#B392F0">Route</span></span>
<span class="line"><span style="color:#E1E4E8">                       path</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">&quot;about&quot;</span></span>
<span class="line"><span style="color:#E1E4E8">                       view</span><span style="color:#F97583">=move</span><span style="color:#F97583"> |</span><span style="color:#E1E4E8">cx</span><span style="color:#F97583">|</span><span style="color:#B392F0"> view!</span><span style="color:#E1E4E8"> { cx,  &lt;</span><span style="color:#B392F0">About</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">&gt; }</span></span>
<span class="line"><span style="color:#F97583">                   /</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">                   &lt;</span><span style="color:#B392F0">Route</span></span>
<span class="line"><span style="color:#E1E4E8">                       path</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">&quot;settings&quot;</span></span>
<span class="line"><span style="color:#E1E4E8">                       view</span><span style="color:#F97583">=move</span><span style="color:#F97583"> |</span><span style="color:#E1E4E8">cx</span><span style="color:#F97583">|</span><span style="color:#B392F0"> view!</span><span style="color:#E1E4E8"> { cx,  &lt;</span><span style="color:#B392F0">Settings</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">&gt; }</span></span>
<span class="line"><span style="color:#F97583">                   /</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">                   &lt;</span><span style="color:#B392F0">Route</span></span>
<span class="line"><span style="color:#E1E4E8">                       path</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">&quot;redirect-home&quot;</span></span>
<span class="line"><span style="color:#E1E4E8">                       view</span><span style="color:#F97583">=move</span><span style="color:#F97583"> |</span><span style="color:#E1E4E8">cx</span><span style="color:#F97583">|</span><span style="color:#B392F0"> view!</span><span style="color:#E1E4E8"> { cx, &lt;</span><span style="color:#B392F0">Redirect</span><span style="color:#E1E4E8"> path</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">&quot;/&quot;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">&gt; }</span></span>
<span class="line"><span style="color:#F97583">                   /</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">               &lt;</span><span style="color:#F97583">/</span><span style="color:#B392F0">Routes</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">           &lt;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">main&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">       &lt;</span><span style="color:#F97583">/</span><span style="color:#B392F0">Router</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">#[component]</span></span>
<span class="line"><span style="color:#F97583">pub</span><span style="color:#F97583"> fn</span><span style="color:#B392F0"> ContactList</span><span style="color:#E1E4E8">(cx</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Scope</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-&gt;</span><span style="color:#F97583"> impl</span><span style="color:#B392F0"> IntoView</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">   log</span><span style="color:#F97583">::</span><span style="color:#B392F0">debug!</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;rendering &lt;ContactList/&gt;&quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   let</span><span style="color:#E1E4E8"> location </span><span style="color:#F97583">=</span><span style="color:#B392F0"> use_location</span><span style="color:#E1E4E8">(cx);</span></span>
<span class="line"><span style="color:#F97583">   let</span><span style="color:#E1E4E8"> contacts </span><span style="color:#F97583">=</span><span style="color:#B392F0"> create_resource</span><span style="color:#E1E4E8">(cx, </span><span style="color:#F97583">move</span><span style="color:#F97583"> ||</span><span style="color:#E1E4E8"> location</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">search</span><span style="color:#F97583">.</span><span style="color:#B392F0">get</span><span style="color:#E1E4E8">(), get_contacts);</span></span>
<span class="line"><span style="color:#F97583">   let</span><span style="color:#E1E4E8"> contacts </span><span style="color:#F97583">=</span><span style="color:#F97583"> move</span><span style="color:#F97583"> ||</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">       contacts</span><span style="color:#F97583">.</span><span style="color:#B392F0">read</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">map</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">|</span><span style="color:#E1E4E8">contacts</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#6A737D">           // this data doesn&#39;t change frequently so we can use .map().collect() instead of a keyed &lt;For/&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">           contacts</span></span>
<span class="line"><span style="color:#F97583">               .</span><span style="color:#B392F0">into_iter</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#F97583">               .</span><span style="color:#B392F0">map</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">|</span><span style="color:#E1E4E8">contact</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">                   view!</span><span style="color:#E1E4E8"> { cx,</span></span>
<span class="line"><span style="color:#E1E4E8">                       &lt;li&gt;&lt;</span><span style="color:#B392F0">A</span><span style="color:#E1E4E8"> href</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">contact</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">id</span><span style="color:#F97583">.</span><span style="color:#B392F0">to_string</span><span style="color:#E1E4E8">()&gt;&lt;span&gt;{</span><span style="color:#F97583">&amp;</span><span style="color:#E1E4E8">contact</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">first_name} </span><span style="color:#9ECBFF">&quot; &quot;</span><span style="color:#E1E4E8"> {</span><span style="color:#F97583">&amp;</span><span style="color:#E1E4E8">contact</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">last_name}&lt;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">span&gt;&lt;</span><span style="color:#F97583">/</span><span style="color:#B392F0">A</span><span style="color:#E1E4E8">&gt;&lt;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">li&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">                   }</span></span>
<span class="line"><span style="color:#E1E4E8">               })</span></span>
<span class="line"><span style="color:#F97583">               .</span><span style="color:#B392F0">collect</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">Vec</span><span style="color:#E1E4E8">&lt;_&gt;&gt;()</span></span>
<span class="line"><span style="color:#E1E4E8">       })</span></span>
<span class="line"><span style="color:#E1E4E8">   };</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">   view!</span><span style="color:#E1E4E8"> { cx,</span></span>
<span class="line"><span style="color:#E1E4E8">       &lt;div class</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">&quot;contact-list&quot;</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">           &lt;h1&gt;</span><span style="color:#9ECBFF">&quot;Contacts&quot;</span><span style="color:#E1E4E8">&lt;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">h1&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">           &lt;</span><span style="color:#B392F0">Suspense</span><span style="color:#E1E4E8"> fallback</span><span style="color:#F97583">=move</span><span style="color:#F97583"> ||</span><span style="color:#B392F0"> view!</span><span style="color:#E1E4E8"> { cx,  &lt;p&gt;</span><span style="color:#9ECBFF">&quot;Loading contacts...&quot;</span><span style="color:#E1E4E8">&lt;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">p&gt; }&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">               {</span><span style="color:#F97583">move</span><span style="color:#F97583"> ||</span><span style="color:#B392F0"> view!</span><span style="color:#E1E4E8"> { cx, &lt;ul&gt;{contacts}&lt;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">ul&gt;}}</span></span>
<span class="line"><span style="color:#E1E4E8">           &lt;</span><span style="color:#F97583">/</span><span style="color:#B392F0">Suspense</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">           &lt;</span><span style="color:#B392F0">Outlet</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">       &lt;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">div&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">#[derive(</span><span style="color:#B392F0">Params</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">PartialEq</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Clone</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Debug</span><span style="color:#E1E4E8">)]</span></span>
<span class="line"><span style="color:#F97583">pub</span><span style="color:#F97583"> struct</span><span style="color:#B392F0"> ContactParams</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">   id</span><span style="color:#F97583">:</span><span style="color:#B392F0"> usize</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">#[component]</span></span>
<span class="line"><span style="color:#F97583">pub</span><span style="color:#F97583"> fn</span><span style="color:#B392F0"> Contact</span><span style="color:#E1E4E8">(cx</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Scope</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-&gt;</span><span style="color:#F97583"> impl</span><span style="color:#B392F0"> IntoView</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">   log</span><span style="color:#F97583">::</span><span style="color:#B392F0">debug!</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;rendering &lt;Contact/&gt;&quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   let</span><span style="color:#E1E4E8"> params </span><span style="color:#F97583">=</span><span style="color:#B392F0"> use_params</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">ContactParams</span><span style="color:#E1E4E8">&gt;(cx);</span></span>
<span class="line"><span style="color:#F97583">   let</span><span style="color:#E1E4E8"> contact </span><span style="color:#F97583">=</span><span style="color:#B392F0"> create_resource</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">       cx,</span></span>
<span class="line"><span style="color:#F97583">       move</span><span style="color:#F97583"> ||</span><span style="color:#B392F0"> params</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">map</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">|</span><span style="color:#E1E4E8">params</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> params</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">id)</span><span style="color:#F97583">.</span><span style="color:#B392F0">ok</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#6A737D">       // any of the following would work (they&#39;re identical)</span></span>
<span class="line"><span style="color:#6A737D">       // move |id| async move { get_contact(id).await }</span></span>
<span class="line"><span style="color:#6A737D">       // move |id| get_contact(id),</span></span>
<span class="line"><span style="color:#6A737D">       // get_contact</span></span>
<span class="line"><span style="color:#E1E4E8">       get_contact,</span></span>
<span class="line"><span style="color:#E1E4E8">   );</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   let</span><span style="color:#E1E4E8"> contact_display </span><span style="color:#F97583">=</span><span style="color:#F97583"> move</span><span style="color:#F97583"> ||</span><span style="color:#F97583"> match</span><span style="color:#E1E4E8"> contact</span><span style="color:#F97583">.</span><span style="color:#B392F0">read</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#6A737D">       // None =&gt; loading, but will be caught by Suspense fallback</span></span>
<span class="line"><span style="color:#6A737D">       // I&#39;m only doing this explicitly for the example</span></span>
<span class="line"><span style="color:#B392F0">       None</span><span style="color:#F97583"> =&gt;</span><span style="color:#B392F0"> None</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#6A737D">       // Some(None) =&gt; has loaded and found no contact</span></span>
<span class="line"><span style="color:#B392F0">       Some</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">None</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=&gt;</span><span style="color:#B392F0"> Some</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">view!</span><span style="color:#E1E4E8"> { cx, &lt;p&gt;</span><span style="color:#9ECBFF">&quot;No contact with this ID was found.&quot;</span><span style="color:#E1E4E8">&lt;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">p&gt; }</span><span style="color:#F97583">.</span><span style="color:#B392F0">into_any</span><span style="color:#E1E4E8">()),</span></span>
<span class="line"><span style="color:#6A737D">       // Some(Some) =&gt; has loaded and found a contact</span></span>
<span class="line"><span style="color:#B392F0">       Some</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Some</span><span style="color:#E1E4E8">(contact)) </span><span style="color:#F97583">=&gt;</span><span style="color:#B392F0"> Some</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#B392F0">           view!</span><span style="color:#E1E4E8"> { cx,</span></span>
<span class="line"><span style="color:#E1E4E8">               &lt;section class</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">&quot;card&quot;</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">                   &lt;h1&gt;{contact</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">first_name} </span><span style="color:#9ECBFF">&quot; &quot;</span><span style="color:#E1E4E8"> {contact</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">last_name}&lt;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">h1&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">                   &lt;p&gt;{contact</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">address_1}&lt;br</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">&gt;{contact</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">address_2}&lt;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">p&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">               &lt;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">section&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">           }</span></span>
<span class="line"><span style="color:#F97583">               .</span><span style="color:#B392F0">into_any</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">       ),</span></span>
<span class="line"><span style="color:#E1E4E8">   };</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">   view!</span><span style="color:#E1E4E8"> { cx,</span></span>
<span class="line"><span style="color:#E1E4E8">       &lt;div class</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">&quot;contact&quot;</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">           &lt;</span><span style="color:#B392F0">Transition</span><span style="color:#E1E4E8"> fallback</span><span style="color:#F97583">=move</span><span style="color:#F97583"> ||</span><span style="color:#B392F0"> view!</span><span style="color:#E1E4E8"> { cx,  &lt;p&gt;</span><span style="color:#9ECBFF">&quot;Loading...&quot;</span><span style="color:#E1E4E8">&lt;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">p&gt; }&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">               {contact_display}</span></span>
<span class="line"><span style="color:#E1E4E8">           &lt;</span><span style="color:#F97583">/</span><span style="color:#B392F0">Transition</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">       &lt;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">div&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">#[component]</span></span>
<span class="line"><span style="color:#F97583">pub</span><span style="color:#F97583"> fn</span><span style="color:#B392F0"> About</span><span style="color:#E1E4E8">(cx</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Scope</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-&gt;</span><span style="color:#F97583"> impl</span><span style="color:#B392F0"> IntoView</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">   log</span><span style="color:#F97583">::</span><span style="color:#B392F0">debug!</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;rendering &lt;About/&gt;&quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#6A737D">   // use_navigate allows you to navigate programmatically by calling a function</span></span>
<span class="line"><span style="color:#F97583">   let</span><span style="color:#E1E4E8"> navigate </span><span style="color:#F97583">=</span><span style="color:#B392F0"> use_navigate</span><span style="color:#E1E4E8">(cx);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">   view!</span><span style="color:#E1E4E8"> { cx,</span></span>
<span class="line"><span style="color:#E1E4E8">       &lt;&gt;</span></span>
<span class="line"><span style="color:#6A737D">           // note: this is just an illustration of how to use `use_navigate`</span></span>
<span class="line"><span style="color:#6A737D">           // &lt;button on:click&gt; to navigate is an *anti-pattern*</span></span>
<span class="line"><span style="color:#6A737D">           // you should ordinarily use a link instead,</span></span>
<span class="line"><span style="color:#6A737D">           // both semantically and so your link will work before WASM loads</span></span>
<span class="line"><span style="color:#E1E4E8">           &lt;button on</span><span style="color:#F97583">:</span><span style="color:#E1E4E8">click</span><span style="color:#F97583">=move</span><span style="color:#F97583"> |</span><span style="color:#E1E4E8">_</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> { _ </span><span style="color:#F97583">=</span><span style="color:#B392F0"> navigate</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;/&quot;</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Default</span><span style="color:#F97583">::</span><span style="color:#B392F0">default</span><span style="color:#E1E4E8">()); }&gt;</span></span>
<span class="line"><span style="color:#9ECBFF">               &quot;Home&quot;</span></span>
<span class="line"><span style="color:#E1E4E8">           &lt;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">button&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">           &lt;h1&gt;</span><span style="color:#9ECBFF">&quot;About&quot;</span><span style="color:#E1E4E8">&lt;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">h1&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">           &lt;p&gt;</span><span style="color:#9ECBFF">&quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&quot;</span><span style="color:#E1E4E8">&lt;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">p&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">       &lt;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">#[component]</span></span>
<span class="line"><span style="color:#F97583">pub</span><span style="color:#F97583"> fn</span><span style="color:#B392F0"> Settings</span><span style="color:#E1E4E8">(cx</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Scope</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-&gt;</span><span style="color:#F97583"> impl</span><span style="color:#B392F0"> IntoView</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">   log</span><span style="color:#F97583">::</span><span style="color:#B392F0">debug!</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;rendering &lt;Settings/&gt;&quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#B392F0">   view!</span><span style="color:#E1E4E8"> { cx,</span></span>
<span class="line"><span style="color:#E1E4E8">       &lt;&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">           &lt;h1&gt;</span><span style="color:#9ECBFF">&quot;Settings&quot;</span><span style="color:#E1E4E8">&lt;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">h1&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">           &lt;form&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">               &lt;fieldset&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">                   &lt;legend&gt;</span><span style="color:#9ECBFF">&quot;Name&quot;</span><span style="color:#E1E4E8">&lt;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">legend&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">                   &lt;input </span><span style="color:#F97583">type=</span><span style="color:#9ECBFF">&quot;text&quot;</span><span style="color:#E1E4E8"> name</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">&quot;first_name&quot;</span><span style="color:#E1E4E8"> placeholder</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">&quot;First&quot;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">                   &lt;input </span><span style="color:#F97583">type=</span><span style="color:#9ECBFF">&quot;text&quot;</span><span style="color:#E1E4E8"> name</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">&quot;last_name&quot;</span><span style="color:#E1E4E8"> placeholder</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">&quot;Last&quot;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">               &lt;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">fieldset&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">               &lt;pre&gt;</span><span style="color:#9ECBFF">&quot;This page is just a placeholder.&quot;</span><span style="color:#E1E4E8">&lt;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">pre&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">           &lt;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">form&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">       &lt;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="rust"><code><span class="line"></span>
<span class="line"><span style="color:#6A737D">// api.rs</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> futures</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#B392F0">   channel</span><span style="color:#F97583">::</span><span style="color:#B392F0">oneshot</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">{</span><span style="color:#79B8FF">self</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Canceled</span><span style="color:#E1E4E8">},</span></span>
<span class="line"><span style="color:#B392F0">   Future</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> leptos</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">set_timeout;</span></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> serde</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">{</span><span style="color:#B392F0">Deserialize</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Serialize</span><span style="color:#E1E4E8">};</span></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> std</span><span style="color:#F97583">::</span><span style="color:#B392F0">time</span><span style="color:#F97583">::</span><span style="color:#B392F0">Duration</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">#[derive(</span><span style="color:#B392F0">Debug</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Clone</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">PartialEq</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Eq</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Serialize</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Deserialize</span><span style="color:#E1E4E8">)]</span></span>
<span class="line"><span style="color:#F97583">pub</span><span style="color:#F97583"> struct</span><span style="color:#B392F0"> ContactSummary</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">   pub</span><span style="color:#E1E4E8"> id</span><span style="color:#F97583">:</span><span style="color:#B392F0"> usize</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#F97583">   pub</span><span style="color:#E1E4E8"> first_name</span><span style="color:#F97583">:</span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#F97583">   pub</span><span style="color:#E1E4E8"> last_name</span><span style="color:#F97583">:</span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">#[derive(</span><span style="color:#B392F0">Debug</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Clone</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">PartialEq</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Eq</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Serialize</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Deserialize</span><span style="color:#E1E4E8">)]</span></span>
<span class="line"><span style="color:#F97583">pub</span><span style="color:#F97583"> struct</span><span style="color:#B392F0"> Contact</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">   pub</span><span style="color:#E1E4E8"> id</span><span style="color:#F97583">:</span><span style="color:#B392F0"> usize</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#F97583">   pub</span><span style="color:#E1E4E8"> first_name</span><span style="color:#F97583">:</span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#F97583">   pub</span><span style="color:#E1E4E8"> last_name</span><span style="color:#F97583">:</span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#F97583">   pub</span><span style="color:#E1E4E8"> address_1</span><span style="color:#F97583">:</span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#F97583">   pub</span><span style="color:#E1E4E8"> address_2</span><span style="color:#F97583">:</span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#F97583">   pub</span><span style="color:#E1E4E8"> city</span><span style="color:#F97583">:</span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#F97583">   pub</span><span style="color:#E1E4E8"> state</span><span style="color:#F97583">:</span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#F97583">   pub</span><span style="color:#E1E4E8"> zip</span><span style="color:#F97583">:</span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#F97583">   pub</span><span style="color:#E1E4E8"> email</span><span style="color:#F97583">:</span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#F97583">   pub</span><span style="color:#E1E4E8"> phone</span><span style="color:#F97583">:</span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">pub</span><span style="color:#F97583"> async</span><span style="color:#F97583"> fn</span><span style="color:#B392F0"> get_contacts</span><span style="color:#E1E4E8">(_search</span><span style="color:#F97583">:</span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-&gt;</span><span style="color:#B392F0"> Vec</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">ContactSummary</span><span style="color:#E1E4E8">&gt; {</span></span>
<span class="line"><span style="color:#6A737D">   // fake an API call with an artificial delay</span></span>
<span class="line"><span style="color:#E1E4E8">   _ </span><span style="color:#F97583">=</span><span style="color:#B392F0"> delay</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Duration</span><span style="color:#F97583">::</span><span style="color:#B392F0">from_millis</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">300</span><span style="color:#E1E4E8">))</span><span style="color:#F97583">.await</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#B392F0">   vec!</span><span style="color:#E1E4E8">[</span></span>
<span class="line"><span style="color:#B392F0">       ContactSummary</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">           id</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">           first_name</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;Bill&quot;</span><span style="color:#F97583">.</span><span style="color:#B392F0">into</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">           last_name</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;Smith&quot;</span><span style="color:#F97583">.</span><span style="color:#B392F0">into</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">       },</span></span>
<span class="line"><span style="color:#B392F0">       ContactSummary</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">           id</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">           first_name</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;Tim&quot;</span><span style="color:#F97583">.</span><span style="color:#B392F0">into</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">           last_name</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;Jones&quot;</span><span style="color:#F97583">.</span><span style="color:#B392F0">into</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">       },</span></span>
<span class="line"><span style="color:#B392F0">       ContactSummary</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">           id</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> 2</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">           first_name</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;Sally&quot;</span><span style="color:#F97583">.</span><span style="color:#B392F0">into</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">           last_name</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;Stevens&quot;</span><span style="color:#F97583">.</span><span style="color:#B392F0">into</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">       },</span></span>
<span class="line"><span style="color:#E1E4E8">   ]</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">pub</span><span style="color:#F97583"> async</span><span style="color:#F97583"> fn</span><span style="color:#B392F0"> get_contact</span><span style="color:#E1E4E8">(id</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Option</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">usize</span><span style="color:#E1E4E8">&gt;) </span><span style="color:#F97583">-&gt;</span><span style="color:#B392F0"> Option</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">Contact</span><span style="color:#E1E4E8">&gt; {</span></span>
<span class="line"><span style="color:#6A737D">   // fake an API call with an artificial delay</span></span>
<span class="line"><span style="color:#E1E4E8">   _ </span><span style="color:#F97583">=</span><span style="color:#B392F0"> delay</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Duration</span><span style="color:#F97583">::</span><span style="color:#B392F0">from_millis</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">500</span><span style="color:#E1E4E8">))</span><span style="color:#F97583">.await</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">   match</span><span style="color:#E1E4E8"> id {</span></span>
<span class="line"><span style="color:#B392F0">       Some</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=&gt;</span><span style="color:#B392F0"> Some</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Contact</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">           id</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">           first_name</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;Bill&quot;</span><span style="color:#F97583">.</span><span style="color:#B392F0">into</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">           last_name</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;Smith&quot;</span><span style="color:#F97583">.</span><span style="color:#B392F0">into</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">           address_1</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;12 Mulberry Lane&quot;</span><span style="color:#F97583">.</span><span style="color:#B392F0">into</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">           address_2</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;&quot;</span><span style="color:#F97583">.</span><span style="color:#B392F0">into</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">           city</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;Boston&quot;</span><span style="color:#F97583">.</span><span style="color:#B392F0">into</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">           state</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;MA&quot;</span><span style="color:#F97583">.</span><span style="color:#B392F0">into</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">           zip</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;02129&quot;</span><span style="color:#F97583">.</span><span style="color:#B392F0">into</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">           email</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;bill@smith.com&quot;</span><span style="color:#F97583">.</span><span style="color:#B392F0">into</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">           phone</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;617-121-1221&quot;</span><span style="color:#F97583">.</span><span style="color:#B392F0">into</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">       }),</span></span>
<span class="line"><span style="color:#B392F0">       Some</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=&gt;</span><span style="color:#B392F0"> Some</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Contact</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">           id</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">           first_name</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;Tim&quot;</span><span style="color:#F97583">.</span><span style="color:#B392F0">into</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">           last_name</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;Jones&quot;</span><span style="color:#F97583">.</span><span style="color:#B392F0">into</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">           address_1</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;56 Main Street&quot;</span><span style="color:#F97583">.</span><span style="color:#B392F0">into</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">           address_2</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;&quot;</span><span style="color:#F97583">.</span><span style="color:#B392F0">into</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">           city</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;Chattanooga&quot;</span><span style="color:#F97583">.</span><span style="color:#B392F0">into</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">           state</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;TN&quot;</span><span style="color:#F97583">.</span><span style="color:#B392F0">into</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">           zip</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;13371&quot;</span><span style="color:#F97583">.</span><span style="color:#B392F0">into</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">           email</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;timjones@lmail.com&quot;</span><span style="color:#F97583">.</span><span style="color:#B392F0">into</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">           phone</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;232-123-1337&quot;</span><span style="color:#F97583">.</span><span style="color:#B392F0">into</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">       }),</span></span>
<span class="line"><span style="color:#B392F0">       Some</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">2</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=&gt;</span><span style="color:#B392F0"> Some</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Contact</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">           id</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> 2</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">           first_name</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;Sally&quot;</span><span style="color:#F97583">.</span><span style="color:#B392F0">into</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">           last_name</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;Stevens&quot;</span><span style="color:#F97583">.</span><span style="color:#B392F0">into</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">           address_1</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;404 E 123rd St&quot;</span><span style="color:#F97583">.</span><span style="color:#B392F0">into</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">           address_2</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;Apt 7E&quot;</span><span style="color:#F97583">.</span><span style="color:#B392F0">into</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">           city</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;New York&quot;</span><span style="color:#F97583">.</span><span style="color:#B392F0">into</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">           state</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;NY&quot;</span><span style="color:#F97583">.</span><span style="color:#B392F0">into</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">           zip</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;10082&quot;</span><span style="color:#F97583">.</span><span style="color:#B392F0">into</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">           email</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;sally.stevens@wahoo.net&quot;</span><span style="color:#F97583">.</span><span style="color:#B392F0">into</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">           phone</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;242-121-3789&quot;</span><span style="color:#F97583">.</span><span style="color:#B392F0">into</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">       }),</span></span>
<span class="line"><span style="color:#E1E4E8">       _ </span><span style="color:#F97583">=&gt;</span><span style="color:#B392F0"> None</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">fn</span><span style="color:#B392F0"> delay</span><span style="color:#E1E4E8">(duration</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Duration</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-&gt;</span><span style="color:#F97583"> impl</span><span style="color:#B392F0"> Future</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">Output</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> Result</span><span style="color:#E1E4E8">&lt;(), </span><span style="color:#B392F0">Canceled</span><span style="color:#E1E4E8">&gt;&gt; {</span></span>
<span class="line"><span style="color:#F97583">   let</span><span style="color:#E1E4E8"> (tx, rx) </span><span style="color:#F97583">=</span><span style="color:#B392F0"> oneshot</span><span style="color:#F97583">::</span><span style="color:#B392F0">channel</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#B392F0">   set_timeout</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#F97583">       move</span><span style="color:#F97583"> ||</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">           _ </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> tx</span><span style="color:#F97583">.</span><span style="color:#B392F0">send</span><span style="color:#E1E4E8">(());</span></span>
<span class="line"><span style="color:#E1E4E8">       },</span></span>
<span class="line"><span style="color:#E1E4E8">       duration,</span></span>
<span class="line"><span style="color:#E1E4E8">   );</span></span>
<span class="line"><span style="color:#E1E4E8">   rx</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<h3 id="13-perseus">13. <a href="https://github.com/framesurge/perseus">Perseus</a></h3>
<p><strong>Perseus</strong> is a framework whose focus is to be fast and to support every rendering strategy, providing great developer experience at the same time. Its scope is the web, and it uses the reactive semantic for state variables. It’s built on top of Sycamore, but Perseus adds <a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/state/intro">State</a> and Templates concepts on top of it.</p>
<p>Example:</p>
<iframe src="https://shades-perseus.apps.loskutoff.com"></iframe>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="rust"><code><span class="line"></span>
<span class="line"><span style="color:#6A737D">// template/index.rs</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#F97583"> crate::</span><span style="color:#B392F0">global_state</span><span style="color:#F97583">::</span><span style="color:#B392F0">AppStateRx</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> perseus</span><span style="color:#F97583">::</span><span style="color:#B392F0">prelude</span><span style="color:#F97583">::*</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> sycamore</span><span style="color:#F97583">::</span><span style="color:#B392F0">prelude</span><span style="color:#F97583">::*</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// Note that this template takes no state of its own in this example, but it</span></span>
<span class="line"><span style="color:#6A737D">// certainly could</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">fn</span><span style="color:#B392F0"> index_page</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">G</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Html</span><span style="color:#E1E4E8">&gt;(cx</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Scope</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-&gt;</span><span style="color:#B392F0"> View</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">G</span><span style="color:#E1E4E8">&gt; {</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">   // We access the global state through the render context, extracted from</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">   // Sycamore&#39;s context system</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   let</span><span style="color:#E1E4E8"> global_state </span><span style="color:#F97583">=</span><span style="color:#B392F0"> Reactor</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">G</span><span style="color:#E1E4E8">&gt;</span><span style="color:#F97583">::</span><span style="color:#B392F0">from_cx</span><span style="color:#E1E4E8">(cx)</span><span style="color:#F97583">.</span><span style="color:#B392F0">get_global_state</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">AppStateRx</span><span style="color:#E1E4E8">&gt;(cx);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">   view!</span><span style="color:#E1E4E8"> { cx,</span></span>
<span class="line"><span style="color:#6A737D">      // The user can change the global state through an input, and the changes they make will be reflected throughout the app</span></span>
<span class="line"><span style="color:#E1E4E8">      p { (global_state</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">test</span><span style="color:#F97583">.</span><span style="color:#B392F0">get</span><span style="color:#E1E4E8">()) }</span></span>
<span class="line"><span style="color:#B392F0">      input</span><span style="color:#E1E4E8">(bind</span><span style="color:#F97583">:</span><span style="color:#E1E4E8">value </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> global_state</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">test)</span></span>
<span class="line"><span style="color:#B392F0">      a</span><span style="color:#E1E4E8">(href </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> &quot;about&quot;</span><span style="color:#E1E4E8">, id </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> &quot;about-link&quot;</span><span style="color:#E1E4E8">) { </span><span style="color:#9ECBFF">&quot;About&quot;</span><span style="color:#E1E4E8"> }</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">#[engine_only_fn]</span></span>
<span class="line"><span style="color:#F97583">fn</span><span style="color:#B392F0"> head</span><span style="color:#E1E4E8">(cx</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Scope</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-&gt;</span><span style="color:#B392F0"> View</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">SsrNode</span><span style="color:#E1E4E8">&gt; {</span></span>
<span class="line"><span style="color:#B392F0">   view!</span><span style="color:#E1E4E8"> { cx,</span></span>
<span class="line"><span style="color:#E1E4E8">      title { </span><span style="color:#9ECBFF">&quot;Index Page&quot;</span><span style="color:#E1E4E8"> }</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">pub</span><span style="color:#F97583"> fn</span><span style="color:#B392F0"> get_template</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">G</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Html</span><span style="color:#E1E4E8">&gt;() </span><span style="color:#F97583">-&gt;</span><span style="color:#B392F0"> Template</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">G</span><span style="color:#E1E4E8">&gt; {</span></span>
<span class="line"><span style="color:#B392F0">   Template</span><span style="color:#F97583">::</span><span style="color:#B392F0">build</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;index&quot;</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">.</span><span style="color:#B392F0">view</span><span style="color:#E1E4E8">(index_page)</span><span style="color:#F97583">.</span><span style="color:#B392F0">head</span><span style="color:#E1E4E8">(head)</span><span style="color:#F97583">.</span><span style="color:#B392F0">build</span><span style="color:#E1E4E8">()</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="rust"><code><span class="line"></span>
<span class="line"><span style="color:#6A737D">// main.rs</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">mod</span><span style="color:#B392F0"> global_state</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">mod</span><span style="color:#B392F0"> templates</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> perseus</span><span style="color:#F97583">::</span><span style="color:#B392F0">prelude</span><span style="color:#F97583">::*</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">#[perseus</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">main(perseus_axum</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">dflt_server)]</span></span>
<span class="line"><span style="color:#F97583">pub</span><span style="color:#F97583"> fn</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">G</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Html</span><span style="color:#E1E4E8">&gt;() </span><span style="color:#F97583">-&gt;</span><span style="color:#B392F0"> PerseusApp</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">G</span><span style="color:#E1E4E8">&gt; {</span></span>
<span class="line"><span style="color:#B392F0">   PerseusApp</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#F97583">       .</span><span style="color:#B392F0">template</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">crate::</span><span style="color:#B392F0">templates</span><span style="color:#F97583">::</span><span style="color:#B392F0">index</span><span style="color:#F97583">::</span><span style="color:#B392F0">get_template</span><span style="color:#E1E4E8">())</span></span>
<span class="line"><span style="color:#F97583">       .</span><span style="color:#B392F0">template</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">crate::</span><span style="color:#B392F0">templates</span><span style="color:#F97583">::</span><span style="color:#B392F0">about</span><span style="color:#F97583">::</span><span style="color:#B392F0">get_template</span><span style="color:#E1E4E8">())</span></span>
<span class="line"><span style="color:#F97583">       .</span><span style="color:#B392F0">error_views</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">ErrorViews</span><span style="color:#F97583">::</span><span style="color:#B392F0">unlocalized_development_default</span><span style="color:#E1E4E8">())</span></span>
<span class="line"><span style="color:#F97583">       .</span><span style="color:#B392F0">global_state_creator</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">crate::</span><span style="color:#B392F0">global_state</span><span style="color:#F97583">::</span><span style="color:#B392F0">get_global_state_creator</span><span style="color:#E1E4E8">())</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<h3 id="14-sauron">14. <a href="https://github.com/ivanceras/sauron">Sauron</a></h3>
<p>Library for building UI for web with focus on simplicity. React-like UI declaration and ELM-like state management.</p>
<iframe src="https://shades-sauron.apps.loskutoff.com" width="100%" height="300px"></iframe>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="rust"><code><span class="line"></span>
<span class="line"><span style="color:#6A737D">// main.rs</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> sauron</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">{jss, </span><span style="color:#B392F0">prelude</span><span style="color:#F97583">::*</span><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">enum</span><span style="color:#B392F0"> Msg</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">   Increment</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#B392F0">   Decrement</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#B392F0">   Reset</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">struct</span><span style="color:#B392F0"> App</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">   count</span><span style="color:#F97583">:</span><span style="color:#B392F0"> i32</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">impl</span><span style="color:#B392F0"> App</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">   fn</span><span style="color:#B392F0"> new</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">-&gt;</span><span style="color:#79B8FF"> Self</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">       App</span><span style="color:#E1E4E8"> { count</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8"> }</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">impl</span><span style="color:#B392F0"> Application</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">Msg</span><span style="color:#E1E4E8">&gt; </span><span style="color:#F97583">for</span><span style="color:#B392F0"> App</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">   fn</span><span style="color:#B392F0"> view</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#79B8FF">self</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-&gt;</span><span style="color:#B392F0"> Node</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">Msg</span><span style="color:#E1E4E8">&gt; {</span></span>
<span class="line"><span style="color:#B392F0">       node!</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">           &lt;main&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">               &lt;input </span><span style="color:#F97583">type=</span><span style="color:#9ECBFF">&quot;button&quot;</span></span>
<span class="line"><span style="color:#E1E4E8">                   value</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">&quot;+&quot;</span></span>
<span class="line"><span style="color:#E1E4E8">                   on_click</span><span style="color:#F97583">=|</span><span style="color:#E1E4E8">_</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">                       Msg</span><span style="color:#F97583">::</span><span style="color:#B392F0">Increment</span></span>
<span class="line"><span style="color:#E1E4E8">                   }</span></span>
<span class="line"><span style="color:#F97583">               /</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">               &lt;button class</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">&quot;count&quot;</span><span style="color:#E1E4E8"> on_click</span><span style="color:#F97583">=|</span><span style="color:#E1E4E8">_</span><span style="color:#F97583">|</span><span style="color:#E1E4E8">{</span><span style="color:#B392F0">Msg</span><span style="color:#F97583">::</span><span style="color:#B392F0">Reset</span><span style="color:#E1E4E8">} &gt;{</span><span style="color:#B392F0">text</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">count)}&lt;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">button&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">               &lt;input </span><span style="color:#F97583">type=</span><span style="color:#9ECBFF">&quot;button&quot;</span></span>
<span class="line"><span style="color:#E1E4E8">                   value</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">&quot;-&quot;</span></span>
<span class="line"><span style="color:#E1E4E8">                   on_click</span><span style="color:#F97583">=|</span><span style="color:#E1E4E8">_</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">                       Msg</span><span style="color:#F97583">::</span><span style="color:#B392F0">Decrement</span></span>
<span class="line"><span style="color:#E1E4E8">                   }</span></span>
<span class="line"><span style="color:#F97583">               /</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">           &lt;</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">main&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">       }</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   fn</span><span style="color:#B392F0"> update</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;mut</span><span style="color:#79B8FF"> self</span><span style="color:#E1E4E8">, msg</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Msg</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-&gt;</span><span style="color:#B392F0"> Cmd</span><span style="color:#E1E4E8">&lt;</span><span style="color:#79B8FF">Self</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Msg</span><span style="color:#E1E4E8">&gt; {</span></span>
<span class="line"><span style="color:#F97583">       match</span><span style="color:#E1E4E8"> msg {</span></span>
<span class="line"><span style="color:#B392F0">           Msg</span><span style="color:#F97583">::</span><span style="color:#B392F0">Increment</span><span style="color:#F97583"> =&gt;</span><span style="color:#79B8FF"> self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">count </span><span style="color:#F97583">+=</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#B392F0">           Msg</span><span style="color:#F97583">::</span><span style="color:#B392F0">Decrement</span><span style="color:#F97583"> =&gt;</span><span style="color:#79B8FF"> self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">count </span><span style="color:#F97583">-=</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#B392F0">           Msg</span><span style="color:#F97583">::</span><span style="color:#B392F0">Reset</span><span style="color:#F97583"> =&gt;</span><span style="color:#79B8FF"> self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">count </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">       }</span></span>
<span class="line"><span style="color:#B392F0">       Cmd</span><span style="color:#F97583">::</span><span style="color:#B392F0">none</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   fn</span><span style="color:#B392F0"> style</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#79B8FF">self</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-&gt;</span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">       jss!</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#9ECBFF">           &quot;body&quot;</span><span style="color:#F97583">:</span><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#E1E4E8">               font_family</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;verdana, arial, monospace&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">           },</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">           &quot;main&quot;</span><span style="color:#F97583">:</span><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#E1E4E8">               width</span><span style="color:#F97583">:</span><span style="color:#B392F0">px</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">30</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#E1E4E8">               height</span><span style="color:#F97583">:</span><span style="color:#B392F0"> px</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">100</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#E1E4E8">               margin</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;auto&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">               text_align</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;center&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">           },</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">           &quot;input, .count&quot;</span><span style="color:#F97583">:</span><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#E1E4E8">               font_size</span><span style="color:#F97583">:</span><span style="color:#B392F0"> px</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">40</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#E1E4E8">               padding</span><span style="color:#F97583">:</span><span style="color:#B392F0"> px</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">30</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#E1E4E8">               margin</span><span style="color:#F97583">:</span><span style="color:#B392F0"> px</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">30</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#E1E4E8">           }</span></span>
<span class="line"><span style="color:#E1E4E8">       }</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">#[wasm_bindgen(start)]</span></span>
<span class="line"><span style="color:#F97583">pub</span><span style="color:#F97583"> fn</span><span style="color:#B392F0"> start</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">   Program</span><span style="color:#F97583">::</span><span style="color:#B392F0">mount_to_body</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">App</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">());</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<h3 id="15-moonzoon">15. <a href="https://github.com/MoonZoon/MoonZoon">MoonZoon</a></h3>
<p>A fullstack framework from a former Seed maintainer. From the examples, its frontend state management has signal semantics.</p>
<iframe src="https://shades-moonzoon.apps.loskutoff.com" width="100%" height="90px"></iframe>
<p>The “counter” example code looks like this:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="rust"><code><span class="line"></span>
<span class="line"><span style="color:#6A737D">// main.rs</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> zoon</span><span style="color:#F97583">::*</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">#[static_ref]</span></span>
<span class="line"><span style="color:#F97583">fn</span><span style="color:#B392F0"> counter</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">-&gt;</span><span style="color:#F97583"> &amp;</span><span style="color:#E1E4E8">&#39;</span><span style="color:#B392F0">static</span><span style="color:#B392F0"> Mutable</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">i32</span><span style="color:#E1E4E8">&gt; {</span></span>
<span class="line"><span style="color:#B392F0">   Mutable</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">fn</span><span style="color:#B392F0"> increment</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">   counter</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">update</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">|</span><span style="color:#E1E4E8">counter</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> counter </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">fn</span><span style="color:#B392F0"> decrement</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">   counter</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">update</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">|</span><span style="color:#E1E4E8">counter</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> counter </span><span style="color:#F97583">-</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">fn</span><span style="color:#B392F0"> root</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">-&gt;</span><span style="color:#F97583"> impl</span><span style="color:#B392F0"> Element</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">   Column</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#F97583">       .</span><span style="color:#B392F0">item</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Button</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">label</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;-&quot;</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">.</span><span style="color:#B392F0">on_press</span><span style="color:#E1E4E8">(decrement))</span></span>
<span class="line"><span style="color:#F97583">       .</span><span style="color:#B392F0">item</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Text</span><span style="color:#F97583">::</span><span style="color:#B392F0">with_signal</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">counter</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">signal</span><span style="color:#E1E4E8">()))</span></span>
<span class="line"><span style="color:#F97583">       .</span><span style="color:#B392F0">item</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Button</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">label</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;+&quot;</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">.</span><span style="color:#B392F0">on_press</span><span style="color:#E1E4E8">(increment))</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// ------ Alternative ------</span></span>
<span class="line"><span style="color:#F97583">fn</span><span style="color:#B392F0"> _root</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">-&gt;</span><span style="color:#F97583"> impl</span><span style="color:#B392F0"> Element</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">   let</span><span style="color:#E1E4E8"> (counter, counter_signal) </span><span style="color:#F97583">=</span><span style="color:#B392F0"> Mutable</span><span style="color:#F97583">::</span><span style="color:#B392F0">new_and_signal</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">   let</span><span style="color:#E1E4E8"> on_press </span><span style="color:#F97583">=</span><span style="color:#F97583"> move</span><span style="color:#F97583"> |</span><span style="color:#E1E4E8">step</span><span style="color:#F97583">:</span><span style="color:#B392F0"> i32</span><span style="color:#F97583">|</span><span style="color:#F97583"> *</span><span style="color:#E1E4E8">counter</span><span style="color:#F97583">.</span><span style="color:#B392F0">lock_mut</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">+=</span><span style="color:#E1E4E8"> step;</span></span>
<span class="line"><span style="color:#B392F0">   Column</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#F97583">       .</span><span style="color:#B392F0">item</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#B392F0">           Button</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#F97583">               .</span><span style="color:#B392F0">label</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;-&quot;</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">               .</span><span style="color:#B392F0">on_press</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">clone!</span><span style="color:#E1E4E8">((on_press) </span><span style="color:#F97583">move</span><span style="color:#F97583"> ||</span><span style="color:#B392F0"> on_press</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">-</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">))),</span></span>
<span class="line"><span style="color:#E1E4E8">       )</span></span>
<span class="line"><span style="color:#F97583">       .</span><span style="color:#B392F0">item_signal</span><span style="color:#E1E4E8">(counter_signal)</span></span>
<span class="line"><span style="color:#F97583">       .</span><span style="color:#B392F0">item</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Button</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">label</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;+&quot;</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">.</span><span style="color:#B392F0">on_press</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">move</span><span style="color:#F97583"> ||</span><span style="color:#B392F0"> on_press</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">)))</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"><span style="color:#6A737D">// ---------- // -----------</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">fn</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">   start_app</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;app&quot;</span><span style="color:#E1E4E8">, root);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<h3 id="16-relm4">16. <a href="https://github.com/Relm4/Relm4">Relm4</a></h3>
<p><strong>Relm4</strong> is an idiomatic GUI library inspired by Elm and based on gtk4-rs. Relm4 is a new version of relm that’s built from scratch and compatible with GTK4 and libadwaita. Although the original relm is still maintained, these two libraries (relm and relm4) seem to be maintained by different people.</p>
<p>Currently, only <a href="https://relm4.org/book/stable/#platform-support">devices and desktop are available</a>. No web is available, probably because of the gtk4 backend. Still, Relm4 can make use of CSS;  for example, in <a href="https://github.com/Relm4/Relm4/blob/53b9a6bf6e514a5cce979c8307a4fefea422bdd7/examples/tracker.rs">https://github.com/Relm4/Relm4/blob/53b9a6bf6e514a5cce979c8307a4fefea422bdd7/examples/tracker.rs</a>, global CSS is used for UI rendering.
Here is a screenshot of one of their examples running on desktop:</p>
<p><img src="https://docs.monadical.com/uploads/7c311763-38b4-46a9-8686-cff78d02573d.png" alt="relm4 on desktop"/></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="rust"><code><span class="line"></span>
<span class="line"><span style="color:#6A737D">// main.rs</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> gtk</span><span style="color:#F97583">::</span><span style="color:#B392F0">glib</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">clone;</span></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> gtk</span><span style="color:#F97583">::</span><span style="color:#B392F0">prelude</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">{</span><span style="color:#B392F0">BoxExt</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">ButtonExt</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">GtkWindowExt</span><span style="color:#E1E4E8">};</span></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> relm4</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">{gtk, </span><span style="color:#B392F0">ComponentParts</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">ComponentSender</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">RelmApp</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">RelmWidgetExt</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">SimpleComponent</span><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">struct</span><span style="color:#B392F0"> App</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">   counter</span><span style="color:#F97583">:</span><span style="color:#B392F0"> u8</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">#[derive(</span><span style="color:#B392F0">Debug</span><span style="color:#E1E4E8">)]</span></span>
<span class="line"><span style="color:#F97583">enum</span><span style="color:#B392F0"> Msg</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">   Increment</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#B392F0">   Decrement</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">struct</span><span style="color:#B392F0"> AppWidgets</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#6A737D">   // window: gtk::Window,</span></span>
<span class="line"><span style="color:#6A737D">   // vbox: gtk::Box,</span></span>
<span class="line"><span style="color:#6A737D">   // inc_button: gtk::Button,</span></span>
<span class="line"><span style="color:#6A737D">   // dec_button: gtk::Button,</span></span>
<span class="line"><span style="color:#E1E4E8">   label</span><span style="color:#F97583">:</span><span style="color:#B392F0"> gtk</span><span style="color:#F97583">::</span><span style="color:#B392F0">Label</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">impl</span><span style="color:#B392F0"> SimpleComponent</span><span style="color:#F97583"> for</span><span style="color:#B392F0"> App</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">   type</span><span style="color:#B392F0"> Init</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> u8</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">   type</span><span style="color:#B392F0"> Input</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> Msg</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">   type</span><span style="color:#B392F0"> Output</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> ();</span></span>
<span class="line"><span style="color:#F97583">   type</span><span style="color:#B392F0"> Widgets</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> AppWidgets</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">   type</span><span style="color:#B392F0"> Root</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> gtk</span><span style="color:#F97583">::</span><span style="color:#B392F0">Window</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   fn</span><span style="color:#B392F0"> init_root</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">-&gt;</span><span style="color:#79B8FF"> Self</span><span style="color:#F97583">::</span><span style="color:#B392F0">Root</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">       gtk</span><span style="color:#F97583">::</span><span style="color:#B392F0">Window</span><span style="color:#F97583">::</span><span style="color:#B392F0">builder</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#F97583">           .</span><span style="color:#B392F0">title</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;Simple app&quot;</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">           .</span><span style="color:#B392F0">default_width</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">300</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">           .</span><span style="color:#B392F0">default_height</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">100</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">           .</span><span style="color:#B392F0">build</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">   // Initialize the component.</span></span>
<span class="line"><span style="color:#F97583">   fn</span><span style="color:#B392F0"> init</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">       counter</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> Self</span><span style="color:#F97583">::</span><span style="color:#B392F0">Init</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">       window</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;</span><span style="color:#79B8FF">Self</span><span style="color:#F97583">::</span><span style="color:#B392F0">Root</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">       sender</span><span style="color:#F97583">:</span><span style="color:#B392F0"> ComponentSender</span><span style="color:#E1E4E8">&lt;</span><span style="color:#79B8FF">Self</span><span style="color:#E1E4E8">&gt;,</span></span>
<span class="line"><span style="color:#E1E4E8">   ) </span><span style="color:#F97583">-&gt;</span><span style="color:#B392F0"> ComponentParts</span><span style="color:#E1E4E8">&lt;</span><span style="color:#79B8FF">Self</span><span style="color:#E1E4E8">&gt; {</span></span>
<span class="line"><span style="color:#F97583">       let</span><span style="color:#E1E4E8"> model </span><span style="color:#F97583">=</span><span style="color:#B392F0"> App</span><span style="color:#E1E4E8"> { counter };</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">       let</span><span style="color:#E1E4E8"> vbox </span><span style="color:#F97583">=</span><span style="color:#B392F0"> gtk</span><span style="color:#F97583">::</span><span style="color:#B392F0">Box</span><span style="color:#F97583">::</span><span style="color:#B392F0">builder</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#F97583">           .</span><span style="color:#B392F0">orientation</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">gtk</span><span style="color:#F97583">::</span><span style="color:#B392F0">Orientation</span><span style="color:#F97583">::</span><span style="color:#B392F0">Vertical</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">           .</span><span style="color:#B392F0">spacing</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">5</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">           .</span><span style="color:#B392F0">build</span><span style="color:#E1E4E8">();</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">       let</span><span style="color:#E1E4E8"> inc_button </span><span style="color:#F97583">=</span><span style="color:#B392F0"> gtk</span><span style="color:#F97583">::</span><span style="color:#B392F0">Button</span><span style="color:#F97583">::</span><span style="color:#B392F0">with_label</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;Increment&quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">       let</span><span style="color:#E1E4E8"> dec_button </span><span style="color:#F97583">=</span><span style="color:#B392F0"> gtk</span><span style="color:#F97583">::</span><span style="color:#B392F0">Button</span><span style="color:#F97583">::</span><span style="color:#B392F0">with_label</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;Decrement&quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">       let</span><span style="color:#E1E4E8"> label </span><span style="color:#F97583">=</span><span style="color:#B392F0"> gtk</span><span style="color:#F97583">::</span><span style="color:#B392F0">Label</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Some</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#B392F0">format!</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;Counter: {}&quot;</span><span style="color:#E1E4E8">, model</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">counter)));</span></span>
<span class="line"><span style="color:#E1E4E8">       label</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_margin_all</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">5</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">       window</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_child</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Some</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#E1E4E8">vbox));</span></span>
<span class="line"><span style="color:#E1E4E8">       vbox</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_margin_all</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">5</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">       vbox</span><span style="color:#F97583">.</span><span style="color:#B392F0">append</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#E1E4E8">inc_button);</span></span>
<span class="line"><span style="color:#E1E4E8">       vbox</span><span style="color:#F97583">.</span><span style="color:#B392F0">append</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#E1E4E8">dec_button);</span></span>
<span class="line"><span style="color:#E1E4E8">       vbox</span><span style="color:#F97583">.</span><span style="color:#B392F0">append</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#E1E4E8">label);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">       inc_button</span><span style="color:#F97583">.</span><span style="color:#B392F0">connect_clicked</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">clone!</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">@</span><span style="color:#E1E4E8">strong sender </span><span style="color:#F97583">=&gt;</span><span style="color:#F97583"> move</span><span style="color:#F97583"> |</span><span style="color:#E1E4E8">_</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">           sender</span><span style="color:#F97583">.</span><span style="color:#B392F0">input</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Msg</span><span style="color:#F97583">::</span><span style="color:#B392F0">Increment</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">       }));</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">       dec_button</span><span style="color:#F97583">.</span><span style="color:#B392F0">connect_clicked</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">clone!</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">@</span><span style="color:#E1E4E8">strong sender </span><span style="color:#F97583">=&gt;</span><span style="color:#F97583"> move</span><span style="color:#F97583"> |</span><span style="color:#E1E4E8">_</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">           sender</span><span style="color:#F97583">.</span><span style="color:#B392F0">input</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Msg</span><span style="color:#F97583">::</span><span style="color:#B392F0">Decrement</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">       }));</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">       let</span><span style="color:#E1E4E8"> widgets </span><span style="color:#F97583">=</span><span style="color:#B392F0"> AppWidgets</span><span style="color:#E1E4E8"> { label };</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">       ComponentParts</span><span style="color:#E1E4E8"> { model, widgets }</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   fn</span><span style="color:#B392F0"> update</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;mut</span><span style="color:#79B8FF"> self</span><span style="color:#E1E4E8">, msg</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> Self</span><span style="color:#F97583">::</span><span style="color:#B392F0">Input</span><span style="color:#E1E4E8">, _sender</span><span style="color:#F97583">:</span><span style="color:#B392F0"> ComponentSender</span><span style="color:#E1E4E8">&lt;</span><span style="color:#79B8FF">Self</span><span style="color:#E1E4E8">&gt;) {</span></span>
<span class="line"><span style="color:#F97583">       match</span><span style="color:#E1E4E8"> msg {</span></span>
<span class="line"><span style="color:#B392F0">           Msg</span><span style="color:#F97583">::</span><span style="color:#B392F0">Increment</span><span style="color:#F97583"> =&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">               self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">counter </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">counter</span><span style="color:#F97583">.</span><span style="color:#B392F0">wrapping_add</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">           }</span></span>
<span class="line"><span style="color:#B392F0">           Msg</span><span style="color:#F97583">::</span><span style="color:#B392F0">Decrement</span><span style="color:#F97583"> =&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">               self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">counter </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">counter</span><span style="color:#F97583">.</span><span style="color:#B392F0">wrapping_sub</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">           }</span></span>
<span class="line"><span style="color:#E1E4E8">       }</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">   // Update the view to represent the updated model.</span></span>
<span class="line"><span style="color:#F97583">   fn</span><span style="color:#B392F0"> update_view</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#79B8FF">self</span><span style="color:#E1E4E8">, widgets</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;mut</span><span style="color:#79B8FF"> Self</span><span style="color:#F97583">::</span><span style="color:#B392F0">Widgets</span><span style="color:#E1E4E8">, _sender</span><span style="color:#F97583">:</span><span style="color:#B392F0"> ComponentSender</span><span style="color:#E1E4E8">&lt;</span><span style="color:#79B8FF">Self</span><span style="color:#E1E4E8">&gt;) {</span></span>
<span class="line"><span style="color:#E1E4E8">       widgets</span></span>
<span class="line"><span style="color:#F97583">           .</span><span style="color:#E1E4E8">label</span></span>
<span class="line"><span style="color:#F97583">           .</span><span style="color:#B392F0">set_label</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#B392F0">format!</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;Counter: {}&quot;</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">counter));</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">fn</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">   let</span><span style="color:#E1E4E8"> app </span><span style="color:#F97583">=</span><span style="color:#B392F0"> RelmApp</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;relm4.example.simple_manual&quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">   app</span><span style="color:#F97583">.</span><span style="color:#B392F0">run</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">App</span><span style="color:#E1E4E8">&gt;(</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<h3 id="17-fltk-rs">17. <a href="https://github.com/fltk-rs/fltk-rs">Fltk-rs</a></h3>
<p><strong>Fltk-rs</strong> is bindings for <a href="https://www.fltk.org">https://www.fltk.org</a>. FLTK currently doesn’t support Wasm or iOS. It has experimental support for Android (YMMV) and is focused on desktop applications. This is one of the low-level bindings that can be used as graphic foundations by apps or GUI frameworks.</p>
<p>The image below shows one of their examples running on the Desktop:</p>
<p><img src="https://docs.monadical.com/uploads/fdc80573-7301-4cc4-8cbe-8ee1a9f105e1.png" alt=""/></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="rust"><code><span class="line"></span>
<span class="line"><span style="color:#6A737D">// main.rs</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> fltk</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">   app, button, draw, </span><span style="color:#B392F0">enums</span><span style="color:#F97583">::*</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">frame</span><span style="color:#F97583">::</span><span style="color:#B392F0">Frame</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">image</span><span style="color:#F97583">::</span><span style="color:#B392F0">SvgImage</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">prelude</span><span style="color:#F97583">::*</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">valuator</span><span style="color:#F97583">::*</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#B392F0">   widget</span><span style="color:#F97583">::</span><span style="color:#B392F0">Widget</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">window</span><span style="color:#F97583">::</span><span style="color:#B392F0">Window</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> std</span><span style="color:#F97583">::</span><span style="color:#B392F0">ops</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">{</span><span style="color:#B392F0">Deref</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">DerefMut</span><span style="color:#E1E4E8">};</span></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> std</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">{</span><span style="color:#B392F0">cell</span><span style="color:#F97583">::</span><span style="color:#B392F0">RefCell</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">rc</span><span style="color:#F97583">::</span><span style="color:#B392F0">Rc</span><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> POWER</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;</span><span style="color:#B392F0">str</span><span style="color:#F97583"> =</span><span style="color:#9ECBFF"> r#&quot;&lt;?xml version=&quot;1.0&quot; encoding=&quot;iso-8859-1&quot;?&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">&lt;!-- Generator: Adobe Illustrator 19.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">&lt;svg version=&quot;1.1&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; x=&quot;0px&quot; y=&quot;0px&quot;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">	 viewBox=&quot;0 0 315.083 315.083&quot; style=&quot;enable-background:new 0 0 315.083 315.083;&quot; xml:space=&quot;preserve&quot;&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">&lt;g id=&quot;Layer_1&quot;&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">	&lt;linearGradient id=&quot;SVGID_1_&quot; gradientUnits=&quot;userSpaceOnUse&quot; x1=&quot;157.5417&quot; y1=&quot;4.5417&quot; x2=&quot;157.5417&quot; y2=&quot;310.5417&quot;&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">		&lt;stop  offset=&quot;0&quot; style=&quot;stop-color:#939598&quot;/&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">		&lt;stop  offset=&quot;0.25&quot; style=&quot;stop-color:#414042&quot;/&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">		&lt;stop  offset=&quot;0.5&quot; style=&quot;stop-color:#252223&quot;/&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">		&lt;stop  offset=&quot;1&quot; style=&quot;stop-color:#000000&quot;/&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">	&lt;/linearGradient&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">	&lt;circle style=&quot;fill:url(#SVGID_1_);&quot; cx=&quot;157.542&quot; cy=&quot;157.542&quot; r=&quot;153&quot;/&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">&lt;/g&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">&lt;g id=&quot;Layer_2&quot;&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">	&lt;linearGradient id=&quot;SVGID_2_&quot; gradientUnits=&quot;userSpaceOnUse&quot; x1=&quot;157.5417&quot; y1=&quot;292.5417&quot; x2=&quot;157.5417&quot; y2=&quot;22.5417&quot;&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">		&lt;stop  offset=&quot;0&quot; style=&quot;stop-color:#58595B&quot;/&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">		&lt;stop  offset=&quot;0.1&quot; style=&quot;stop-color:#414042&quot;/&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">		&lt;stop  offset=&quot;0.2&quot; style=&quot;stop-color:#242122&quot;/&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">		&lt;stop  offset=&quot;1&quot; style=&quot;stop-color:#000000&quot;/&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">	&lt;/linearGradient&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">	&lt;circle style=&quot;fill:url(#SVGID_2_);stroke:#58595B;stroke-miterlimit:10;&quot; cx=&quot;157.542&quot; cy=&quot;157.542&quot; r=&quot;135&quot;/&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">&lt;/g&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">&lt;g id=&quot;Layer_4&quot;&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">	&lt;radialGradient id=&quot;SVGID_3_&quot; cx=&quot;157.5417&quot; cy=&quot;89.9217&quot; r=&quot;62.2727&quot; gradientUnits=&quot;userSpaceOnUse&quot;&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">		&lt;stop  offset=&quot;0&quot; style=&quot;stop-color:#58595B&quot;/&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">		&lt;stop  offset=&quot;0.5&quot; style=&quot;stop-color:#414042&quot;/&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">		&lt;stop  offset=&quot;1&quot; style=&quot;stop-color:#231F20&quot;/&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">	&lt;/radialGradient&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">	&lt;radialGradient id=&quot;SVGID_4_&quot; cx=&quot;157.5417&quot; cy=&quot;89.9217&quot; r=&quot;62.7723&quot; gradientUnits=&quot;userSpaceOnUse&quot;&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">		&lt;stop  offset=&quot;0&quot; style=&quot;stop-color:#FFFFFF&quot;/&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">		&lt;stop  offset=&quot;0.6561&quot; style=&quot;stop-color:#231F20&quot;/&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">		&lt;stop  offset=&quot;1&quot; style=&quot;stop-color:#000000&quot;/&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">	&lt;/radialGradient&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">		&lt;ellipse style=&quot;fill:url(#SVGID_3_);stroke:url(#SVGID_4_);stroke-miterlimit:10;&quot; cx=&quot;157.542&quot; cy=&quot;89.922&quot; rx=&quot;59.833&quot; ry=&quot;64.62&quot;/&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">&lt;/g&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">&lt;g id=&quot;Layer_6&quot;&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">	&lt;path style=&quot;fill:none;stroke:red;stroke-width:10;stroke-linecap:round;stroke-miterlimit:10;&quot; d=&quot;M119.358,119.358</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">		c-9.772,9.772-15.816,23.272-15.816,38.184c0,14.912,6.044,28.412,15.816,38.184s23.272,15.816,38.184,15.816</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">		c14.912,0,28.412-6.044,38.184-15.816s15.816-23.272,15.816-38.184c0-14.912-6.044-28.412-15.816-38.184&quot;/&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">		&lt;line style=&quot;fill:none;stroke:red;stroke-width:10;stroke-linecap:round;stroke-miterlimit:10;&quot; x1=&quot;157.542&quot; y1=&quot;154.542&quot; x2=&quot;157.542&quot; y2=&quot;100.542&quot;/&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">&lt;/g&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">&lt;/svg&gt;&quot;#</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">pub</span><span style="color:#F97583"> struct</span><span style="color:#B392F0"> FlatButton</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">   wid</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Widget</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">impl</span><span style="color:#B392F0"> FlatButton</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">   pub</span><span style="color:#F97583"> fn</span><span style="color:#B392F0"> new</span><span style="color:#E1E4E8">(x</span><span style="color:#F97583">:</span><span style="color:#B392F0"> i32</span><span style="color:#E1E4E8">, y</span><span style="color:#F97583">:</span><span style="color:#B392F0"> i32</span><span style="color:#E1E4E8">, w</span><span style="color:#F97583">:</span><span style="color:#B392F0"> i32</span><span style="color:#E1E4E8">, h</span><span style="color:#F97583">:</span><span style="color:#B392F0"> i32</span><span style="color:#E1E4E8">, label</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;</span><span style="color:#B392F0">str</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-&gt;</span><span style="color:#B392F0"> FlatButton</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">       let</span><span style="color:#F97583"> mut</span><span style="color:#E1E4E8"> x </span><span style="color:#F97583">=</span><span style="color:#B392F0"> FlatButton</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">           wid</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Widget</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(x, y, w, h, </span><span style="color:#B392F0">None</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">.</span><span style="color:#B392F0">with_label</span><span style="color:#E1E4E8">(label),</span></span>
<span class="line"><span style="color:#E1E4E8">       };</span></span>
<span class="line"><span style="color:#E1E4E8">       x</span><span style="color:#F97583">.</span><span style="color:#B392F0">draw</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">       x</span><span style="color:#F97583">.</span><span style="color:#B392F0">handle</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">       x</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">   // Overrides the draw function</span></span>
<span class="line"><span style="color:#F97583">   fn</span><span style="color:#B392F0"> draw</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;mut</span><span style="color:#79B8FF"> self</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#79B8FF">       self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">wid</span><span style="color:#F97583">.</span><span style="color:#B392F0">draw</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">move</span><span style="color:#F97583"> |</span><span style="color:#E1E4E8">b</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">           draw</span><span style="color:#F97583">::</span><span style="color:#B392F0">draw_box</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#B392F0">               FrameType</span><span style="color:#F97583">::</span><span style="color:#B392F0">FlatBox</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">               b</span><span style="color:#F97583">.</span><span style="color:#B392F0">x</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">               b</span><span style="color:#F97583">.</span><span style="color:#B392F0">y</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">               b</span><span style="color:#F97583">.</span><span style="color:#B392F0">width</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">               b</span><span style="color:#F97583">.</span><span style="color:#B392F0">height</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#B392F0">               Color</span><span style="color:#F97583">::</span><span style="color:#B392F0">from_u32</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">0x304FFE</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#E1E4E8">           );</span></span>
<span class="line"><span style="color:#B392F0">           draw</span><span style="color:#F97583">::</span><span style="color:#B392F0">set_draw_color</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Color</span><span style="color:#F97583">::</span><span style="color:#B392F0">White</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#B392F0">           draw</span><span style="color:#F97583">::</span><span style="color:#B392F0">set_font</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Font</span><span style="color:#F97583">::</span><span style="color:#B392F0">Courier</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">24</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#B392F0">           draw</span><span style="color:#F97583">::</span><span style="color:#B392F0">draw_text2</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#F97583">               &amp;</span><span style="color:#E1E4E8">b</span><span style="color:#F97583">.</span><span style="color:#B392F0">label</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">               b</span><span style="color:#F97583">.</span><span style="color:#B392F0">x</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">               b</span><span style="color:#F97583">.</span><span style="color:#B392F0">y</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">               b</span><span style="color:#F97583">.</span><span style="color:#B392F0">width</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">               b</span><span style="color:#F97583">.</span><span style="color:#B392F0">height</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#B392F0">               Align</span><span style="color:#F97583">::</span><span style="color:#B392F0">Center</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">           );</span></span>
<span class="line"><span style="color:#E1E4E8">       });</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">   // Overrides the handle function.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">   // Notice the do_callback which allows the set_callback method to work</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   fn</span><span style="color:#B392F0"> handle</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;mut</span><span style="color:#79B8FF"> self</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">       let</span><span style="color:#F97583"> mut</span><span style="color:#E1E4E8"> wid </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">wid</span><span style="color:#F97583">.</span><span style="color:#B392F0">clone</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#79B8FF">       self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">wid</span><span style="color:#F97583">.</span><span style="color:#B392F0">handle</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">move</span><span style="color:#F97583"> |</span><span style="color:#E1E4E8">_, ev</span><span style="color:#F97583">|</span><span style="color:#F97583"> match</span><span style="color:#E1E4E8"> ev {</span></span>
<span class="line"><span style="color:#B392F0">           Event</span><span style="color:#F97583">::</span><span style="color:#B392F0">Push</span><span style="color:#F97583"> =&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">               wid</span><span style="color:#F97583">.</span><span style="color:#B392F0">do_callback</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#79B8FF">               true</span></span>
<span class="line"><span style="color:#E1E4E8">           }</span></span>
<span class="line"><span style="color:#E1E4E8">           _ </span><span style="color:#F97583">=&gt;</span><span style="color:#79B8FF"> false</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">       });</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">impl</span><span style="color:#B392F0"> Deref</span><span style="color:#F97583"> for</span><span style="color:#B392F0"> FlatButton</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   type</span><span style="color:#B392F0"> Target</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> Widget</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   fn</span><span style="color:#B392F0"> deref</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#79B8FF">self</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-&gt;</span><span style="color:#F97583"> &amp;</span><span style="color:#79B8FF">Self</span><span style="color:#F97583">::</span><span style="color:#B392F0">Target</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">       &amp;</span><span style="color:#79B8FF">self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">wid</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">impl</span><span style="color:#B392F0"> DerefMut</span><span style="color:#F97583"> for</span><span style="color:#B392F0"> FlatButton</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">   fn</span><span style="color:#B392F0"> deref_mut</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;mut</span><span style="color:#79B8FF"> self</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-&gt;</span><span style="color:#F97583"> &amp;mut</span><span style="color:#79B8FF"> Self</span><span style="color:#F97583">::</span><span style="color:#B392F0">Target</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">       &amp;mut</span><span style="color:#79B8FF"> self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">wid</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">pub</span><span style="color:#F97583"> struct</span><span style="color:#B392F0"> PowerButton</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">   frm</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Frame</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">   on</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Rc</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">RefCell</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">bool</span><span style="color:#E1E4E8">&gt;&gt;,</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">impl</span><span style="color:#B392F0"> PowerButton</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">   pub</span><span style="color:#F97583"> fn</span><span style="color:#B392F0"> new</span><span style="color:#E1E4E8">(x</span><span style="color:#F97583">:</span><span style="color:#B392F0"> i32</span><span style="color:#E1E4E8">, y</span><span style="color:#F97583">:</span><span style="color:#B392F0"> i32</span><span style="color:#E1E4E8">, w</span><span style="color:#F97583">:</span><span style="color:#B392F0"> i32</span><span style="color:#E1E4E8">, h</span><span style="color:#F97583">:</span><span style="color:#B392F0"> i32</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-&gt;</span><span style="color:#79B8FF"> Self</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">       let</span><span style="color:#F97583"> mut</span><span style="color:#E1E4E8"> frm </span><span style="color:#F97583">=</span><span style="color:#B392F0"> Frame</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(x, y, w, h, </span><span style="color:#9ECBFF">&quot;&quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">       frm</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_frame</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">FrameType</span><span style="color:#F97583">::</span><span style="color:#B392F0">FlatBox</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">       frm</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_color</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Color</span><span style="color:#F97583">::</span><span style="color:#B392F0">Black</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">       let</span><span style="color:#E1E4E8"> on </span><span style="color:#F97583">=</span><span style="color:#B392F0"> Rc</span><span style="color:#F97583">::</span><span style="color:#B392F0">from</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">RefCell</span><span style="color:#F97583">::</span><span style="color:#B392F0">from</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">false</span><span style="color:#E1E4E8">));</span></span>
<span class="line"><span style="color:#E1E4E8">       frm</span><span style="color:#F97583">.</span><span style="color:#B392F0">draw</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#6A737D">           // storing two almost identical images here, in a real application this could be optimized</span></span>
<span class="line"><span style="color:#F97583">           let</span><span style="color:#E1E4E8"> on </span><span style="color:#F97583">=</span><span style="color:#B392F0"> Rc</span><span style="color:#F97583">::</span><span style="color:#B392F0">clone</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#E1E4E8">on);</span></span>
<span class="line"><span style="color:#F97583">           let</span><span style="color:#F97583"> mut</span><span style="color:#E1E4E8"> on_svg </span><span style="color:#F97583">=</span><span style="color:#B392F0">   SvgImage</span><span style="color:#F97583">::</span><span style="color:#B392F0">from_data</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#79B8FF">POWER</span><span style="color:#F97583">.</span><span style="color:#B392F0">to_string</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">replace</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;red&quot;</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">&quot;green&quot;</span><span style="color:#E1E4E8">))</span><span style="color:#F97583">.</span><span style="color:#B392F0">unwrap</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">           on_svg</span><span style="color:#F97583">.</span><span style="color:#B392F0">scale</span><span style="color:#E1E4E8">(frm</span><span style="color:#F97583">.</span><span style="color:#B392F0">width</span><span style="color:#E1E4E8">(), frm</span><span style="color:#F97583">.</span><span style="color:#B392F0">height</span><span style="color:#E1E4E8">(), </span><span style="color:#79B8FF">true</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">true</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">           let</span><span style="color:#F97583"> mut</span><span style="color:#E1E4E8"> off_svg </span><span style="color:#F97583">=</span><span style="color:#B392F0"> SvgImage</span><span style="color:#F97583">::</span><span style="color:#B392F0">from_data</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">POWER</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">.</span><span style="color:#B392F0">unwrap</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">           off_svg</span><span style="color:#F97583">.</span><span style="color:#B392F0">scale</span><span style="color:#E1E4E8">(frm</span><span style="color:#F97583">.</span><span style="color:#B392F0">width</span><span style="color:#E1E4E8">(), frm</span><span style="color:#F97583">.</span><span style="color:#B392F0">height</span><span style="color:#E1E4E8">(), </span><span style="color:#79B8FF">true</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">true</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">           move</span><span style="color:#F97583"> |</span><span style="color:#E1E4E8">f</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">               if</span><span style="color:#F97583"> *</span><span style="color:#E1E4E8">on</span><span style="color:#F97583">.</span><span style="color:#B392F0">borrow</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">                   on_svg</span><span style="color:#F97583">.</span><span style="color:#B392F0">draw</span><span style="color:#E1E4E8">(f</span><span style="color:#F97583">.</span><span style="color:#B392F0">x</span><span style="color:#E1E4E8">(), f</span><span style="color:#F97583">.</span><span style="color:#B392F0">y</span><span style="color:#E1E4E8">(), f</span><span style="color:#F97583">.</span><span style="color:#B392F0">width</span><span style="color:#E1E4E8">(), f</span><span style="color:#F97583">.</span><span style="color:#B392F0">height</span><span style="color:#E1E4E8">());</span></span>
<span class="line"><span style="color:#E1E4E8">               } </span><span style="color:#F97583">else</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">                   off_svg</span><span style="color:#F97583">.</span><span style="color:#B392F0">draw</span><span style="color:#E1E4E8">(f</span><span style="color:#F97583">.</span><span style="color:#B392F0">x</span><span style="color:#E1E4E8">(), f</span><span style="color:#F97583">.</span><span style="color:#B392F0">y</span><span style="color:#E1E4E8">(), f</span><span style="color:#F97583">.</span><span style="color:#B392F0">width</span><span style="color:#E1E4E8">(), f</span><span style="color:#F97583">.</span><span style="color:#B392F0">height</span><span style="color:#E1E4E8">());</span></span>
<span class="line"><span style="color:#E1E4E8">               };</span></span>
<span class="line"><span style="color:#E1E4E8">           }</span></span>
<span class="line"><span style="color:#E1E4E8">       });</span></span>
<span class="line"><span style="color:#E1E4E8">       frm</span><span style="color:#F97583">.</span><span style="color:#B392F0">handle</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#F97583">           let</span><span style="color:#E1E4E8"> on </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> on</span><span style="color:#F97583">.</span><span style="color:#B392F0">clone</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">           move</span><span style="color:#F97583"> |</span><span style="color:#E1E4E8">f, ev</span><span style="color:#F97583">|</span><span style="color:#F97583"> match</span><span style="color:#E1E4E8"> ev {</span></span>
<span class="line"><span style="color:#B392F0">               Event</span><span style="color:#F97583">::</span><span style="color:#B392F0">Push</span><span style="color:#F97583"> =&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">                   let</span><span style="color:#E1E4E8"> prev </span><span style="color:#F97583">=</span><span style="color:#F97583"> *</span><span style="color:#E1E4E8">on</span><span style="color:#F97583">.</span><span style="color:#B392F0">borrow</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">                   *</span><span style="color:#E1E4E8">on</span><span style="color:#F97583">.</span><span style="color:#B392F0">borrow_mut</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">=</span><span style="color:#F97583"> !</span><span style="color:#E1E4E8">prev;</span></span>
<span class="line"><span style="color:#E1E4E8">                   f</span><span style="color:#F97583">.</span><span style="color:#B392F0">do_callback</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">                   f</span><span style="color:#F97583">.</span><span style="color:#B392F0">redraw</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#79B8FF">                   true</span></span>
<span class="line"><span style="color:#E1E4E8">               }</span></span>
<span class="line"><span style="color:#E1E4E8">               _ </span><span style="color:#F97583">=&gt;</span><span style="color:#79B8FF"> false</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">           }</span></span>
<span class="line"><span style="color:#E1E4E8">       });</span></span>
<span class="line"><span style="color:#79B8FF">       Self</span><span style="color:#E1E4E8"> { frm, on }</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   pub</span><span style="color:#F97583"> fn</span><span style="color:#B392F0"> is_on</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#79B8FF">self</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-&gt;</span><span style="color:#B392F0"> bool</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">       *</span><span style="color:#79B8FF">self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">on</span><span style="color:#F97583">.</span><span style="color:#B392F0">borrow</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">impl</span><span style="color:#B392F0"> Deref</span><span style="color:#F97583"> for</span><span style="color:#B392F0"> PowerButton</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">   type</span><span style="color:#B392F0"> Target</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> Frame</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   fn</span><span style="color:#B392F0"> deref</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#79B8FF">self</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-&gt;</span><span style="color:#F97583"> &amp;</span><span style="color:#79B8FF">Self</span><span style="color:#F97583">::</span><span style="color:#B392F0">Target</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">       &amp;</span><span style="color:#79B8FF">self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">frm</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">impl</span><span style="color:#B392F0"> DerefMut</span><span style="color:#F97583"> for</span><span style="color:#B392F0"> PowerButton</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">   fn</span><span style="color:#B392F0"> deref_mut</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;mut</span><span style="color:#79B8FF"> self</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-&gt;</span><span style="color:#F97583"> &amp;mut</span><span style="color:#79B8FF"> Self</span><span style="color:#F97583">::</span><span style="color:#B392F0">Target</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">       &amp;mut</span><span style="color:#79B8FF"> self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">frm</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">pub</span><span style="color:#F97583"> struct</span><span style="color:#B392F0"> FancyHorSlider</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">   s</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Slider</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">impl</span><span style="color:#B392F0"> FancyHorSlider</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   pub</span><span style="color:#F97583"> fn</span><span style="color:#B392F0"> new</span><span style="color:#E1E4E8">(x</span><span style="color:#F97583">:</span><span style="color:#B392F0"> i32</span><span style="color:#E1E4E8">, y</span><span style="color:#F97583">:</span><span style="color:#B392F0"> i32</span><span style="color:#E1E4E8">, width</span><span style="color:#F97583">:</span><span style="color:#B392F0"> i32</span><span style="color:#E1E4E8">, height</span><span style="color:#F97583">:</span><span style="color:#B392F0"> i32</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-&gt;</span><span style="color:#79B8FF"> Self</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">       let</span><span style="color:#F97583"> mut</span><span style="color:#E1E4E8"> s </span><span style="color:#F97583">=</span><span style="color:#B392F0"> Slider</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(x, y, width, height, </span><span style="color:#9ECBFF">&quot;&quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">       s</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_type</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">SliderType</span><span style="color:#F97583">::</span><span style="color:#B392F0">Horizontal</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">       s</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_frame</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">FrameType</span><span style="color:#F97583">::</span><span style="color:#B392F0">RFlatBox</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">       s</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_color</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Color</span><span style="color:#F97583">::</span><span style="color:#B392F0">from_u32</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">0x868db1</span><span style="color:#E1E4E8">));</span></span>
<span class="line"><span style="color:#E1E4E8">       s</span><span style="color:#F97583">.</span><span style="color:#B392F0">draw</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">|</span><span style="color:#E1E4E8">s</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">           draw</span><span style="color:#F97583">::</span><span style="color:#B392F0">set_draw_color</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Color</span><span style="color:#F97583">::</span><span style="color:#B392F0">Blue</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#B392F0">           draw</span><span style="color:#F97583">::</span><span style="color:#B392F0">draw_pie</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">               s</span><span style="color:#F97583">.</span><span style="color:#B392F0">x</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">-</span><span style="color:#79B8FF"> 10</span><span style="color:#F97583"> +</span><span style="color:#E1E4E8"> (s</span><span style="color:#F97583">.</span><span style="color:#B392F0">w</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">as</span><span style="color:#B392F0"> f64</span><span style="color:#F97583"> *</span><span style="color:#E1E4E8"> s</span><span style="color:#F97583">.</span><span style="color:#B392F0">value</span><span style="color:#E1E4E8">()) </span><span style="color:#F97583">as</span><span style="color:#B392F0"> i32</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">               s</span><span style="color:#F97583">.</span><span style="color:#B392F0">y</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">-</span><span style="color:#79B8FF"> 10</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">               30</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">               30</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">               0</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">               360</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">           );</span></span>
<span class="line"><span style="color:#E1E4E8">       });</span></span>
<span class="line"><span style="color:#79B8FF">       Self</span><span style="color:#E1E4E8"> { s }</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">impl</span><span style="color:#B392F0"> Deref</span><span style="color:#F97583"> for</span><span style="color:#B392F0"> FancyHorSlider</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   type</span><span style="color:#B392F0"> Target</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> Slider</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   fn</span><span style="color:#B392F0"> deref</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#79B8FF">self</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-&gt;</span><span style="color:#F97583"> &amp;</span><span style="color:#79B8FF">Self</span><span style="color:#F97583">::</span><span style="color:#B392F0">Target</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">       &amp;</span><span style="color:#79B8FF">self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">s</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">impl</span><span style="color:#B392F0"> DerefMut</span><span style="color:#F97583"> for</span><span style="color:#B392F0"> FancyHorSlider</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">   fn</span><span style="color:#B392F0"> deref_mut</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;mut</span><span style="color:#79B8FF"> self</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-&gt;</span><span style="color:#F97583"> &amp;mut</span><span style="color:#79B8FF"> Self</span><span style="color:#F97583">::</span><span style="color:#B392F0">Target</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">       &amp;mut</span><span style="color:#79B8FF"> self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">s</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">fn</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">   let</span><span style="color:#E1E4E8"> app </span><span style="color:#F97583">=</span><span style="color:#B392F0"> app</span><span style="color:#F97583">::</span><span style="color:#B392F0">App</span><span style="color:#F97583">::</span><span style="color:#B392F0">default</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">with_scheme</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">app</span><span style="color:#F97583">::</span><span style="color:#B392F0">Scheme</span><span style="color:#F97583">::</span><span style="color:#B392F0">Gtk</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#6A737D">   // app::set_visible_focus(false);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">   let</span><span style="color:#F97583"> mut</span><span style="color:#E1E4E8"> wind </span><span style="color:#F97583">=</span><span style="color:#B392F0"> Window</span><span style="color:#F97583">::</span><span style="color:#B392F0">default</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#F97583">       .</span><span style="color:#B392F0">with_size</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">800</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">600</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">       .</span><span style="color:#B392F0">with_label</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;Custom Widgets&quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">   let</span><span style="color:#F97583"> mut</span><span style="color:#E1E4E8"> but </span><span style="color:#F97583">=</span><span style="color:#B392F0"> FlatButton</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">350</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">350</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">160</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">80</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">&quot;Increment&quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">   let</span><span style="color:#F97583"> mut</span><span style="color:#E1E4E8"> power </span><span style="color:#F97583">=</span><span style="color:#B392F0"> PowerButton</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">600</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">100</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">100</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">100</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">   let</span><span style="color:#F97583"> mut</span><span style="color:#E1E4E8"> dial </span><span style="color:#F97583">=</span><span style="color:#B392F0"> FillDial</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">100</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">100</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">200</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">200</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">&quot;0&quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">   let</span><span style="color:#F97583"> mut</span><span style="color:#E1E4E8"> frame </span><span style="color:#F97583">=</span><span style="color:#B392F0"> Frame</span><span style="color:#F97583">::</span><span style="color:#B392F0">default</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#F97583">       .</span><span style="color:#B392F0">with_size</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">160</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">80</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">       .</span><span style="color:#B392F0">with_label</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;0&quot;</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">       .</span><span style="color:#B392F0">above_of</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;*</span><span style="color:#E1E4E8">but, </span><span style="color:#79B8FF">20</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">   let</span><span style="color:#F97583"> mut</span><span style="color:#E1E4E8"> fancy_slider </span><span style="color:#F97583">=</span><span style="color:#B392F0"> FancyHorSlider</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">100</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">550</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">500</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">10</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">   let</span><span style="color:#F97583"> mut</span><span style="color:#E1E4E8"> toggle </span><span style="color:#F97583">=</span><span style="color:#B392F0"> button</span><span style="color:#F97583">::</span><span style="color:#B392F0">ToggleButton</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">650</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">400</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">80</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">35</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">&quot;@+9circle&quot;</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">       .</span><span style="color:#B392F0">with_align</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Align</span><span style="color:#F97583">::</span><span style="color:#B392F0">Left</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> Align</span><span style="color:#F97583">::</span><span style="color:#B392F0">Inside</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">   wind</span><span style="color:#F97583">.</span><span style="color:#B392F0">end</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">   wind</span><span style="color:#F97583">.</span><span style="color:#B392F0">show</span><span style="color:#E1E4E8">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">   wind</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_color</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Color</span><span style="color:#F97583">::</span><span style="color:#B392F0">Black</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">   frame</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_label_size</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">32</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">   frame</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_label_color</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Color</span><span style="color:#F97583">::</span><span style="color:#B392F0">from_u32</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">0xFFC300</span><span style="color:#E1E4E8">));</span></span>
<span class="line"><span style="color:#E1E4E8">   dial</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_label_color</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Color</span><span style="color:#F97583">::</span><span style="color:#B392F0">White</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">   dial</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_label_font</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Font</span><span style="color:#F97583">::</span><span style="color:#B392F0">CourierBold</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">   dial</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_label_size</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">24</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">   dial</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_color</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Color</span><span style="color:#F97583">::</span><span style="color:#B392F0">from_u32</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">0x6D4C41</span><span style="color:#E1E4E8">));</span></span>
<span class="line"><span style="color:#E1E4E8">   dial</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_color</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Color</span><span style="color:#F97583">::</span><span style="color:#B392F0">White</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">   dial</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_selection_color</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Color</span><span style="color:#F97583">::</span><span style="color:#B392F0">Red</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">   toggle</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_frame</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">FrameType</span><span style="color:#F97583">::</span><span style="color:#B392F0">RFlatBox</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">   toggle</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_label_color</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Color</span><span style="color:#F97583">::</span><span style="color:#B392F0">White</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">   toggle</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_selection_color</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Color</span><span style="color:#F97583">::</span><span style="color:#B392F0">from_u32</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">0x00008B</span><span style="color:#E1E4E8">));</span></span>
<span class="line"><span style="color:#E1E4E8">   toggle</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_color</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Color</span><span style="color:#F97583">::</span><span style="color:#B392F0">from_u32</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">0x585858</span><span style="color:#E1E4E8">));</span></span>
<span class="line"><span style="color:#E1E4E8">   toggle</span><span style="color:#F97583">.</span><span style="color:#B392F0">clear_visible_focus</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">   toggle</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_callback</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">|</span><span style="color:#E1E4E8">t</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">       if</span><span style="color:#E1E4E8"> t</span><span style="color:#F97583">.</span><span style="color:#B392F0">is_set</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">           t</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_align</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Align</span><span style="color:#F97583">::</span><span style="color:#B392F0">Right</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> Align</span><span style="color:#F97583">::</span><span style="color:#B392F0">Inside</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">       } </span><span style="color:#F97583">else</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">           t</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_align</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Align</span><span style="color:#F97583">::</span><span style="color:#B392F0">Left</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> Align</span><span style="color:#F97583">::</span><span style="color:#B392F0">Inside</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">       }</span></span>
<span class="line"><span style="color:#E1E4E8">       t</span><span style="color:#F97583">.</span><span style="color:#B392F0">parent</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">unwrap</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">redraw</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">   });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">   dial</span><span style="color:#F97583">.</span><span style="color:#B392F0">draw</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">|</span><span style="color:#E1E4E8">d</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">       draw</span><span style="color:#F97583">::</span><span style="color:#B392F0">set_draw_color</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Color</span><span style="color:#F97583">::</span><span style="color:#B392F0">Black</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#B392F0">       draw</span><span style="color:#F97583">::</span><span style="color:#B392F0">draw_pie</span><span style="color:#E1E4E8">(d</span><span style="color:#F97583">.</span><span style="color:#B392F0">x</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> 20</span><span style="color:#E1E4E8">, d</span><span style="color:#F97583">.</span><span style="color:#B392F0">y</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> 20</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">160</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">160</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">0</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">360</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#B392F0">       draw</span><span style="color:#F97583">::</span><span style="color:#B392F0">draw_pie</span><span style="color:#E1E4E8">(d</span><span style="color:#F97583">.</span><span style="color:#B392F0">x</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">-</span><span style="color:#79B8FF"> 5</span><span style="color:#E1E4E8">, d</span><span style="color:#F97583">.</span><span style="color:#B392F0">y</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">-</span><span style="color:#79B8FF"> 5</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">210</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">210</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">-</span><span style="color:#79B8FF">135</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">-</span><span style="color:#79B8FF">45</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">   });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">   dial</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_callback</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">|</span><span style="color:#E1E4E8">d</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">       d</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_label</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#B392F0">format!</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;{}&quot;</span><span style="color:#E1E4E8">, (d</span><span style="color:#F97583">.</span><span style="color:#B392F0">value</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">*</span><span style="color:#79B8FF"> 100</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">as</span><span style="color:#B392F0"> i32</span><span style="color:#E1E4E8">));</span></span>
<span class="line"><span style="color:#B392F0">       app</span><span style="color:#F97583">::</span><span style="color:#B392F0">redraw</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">   });</span></span>
<span class="line"><span style="color:#E1E4E8">   but</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_callback</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">move</span><span style="color:#F97583"> |</span><span style="color:#E1E4E8">_</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">       frame</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_label</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#E1E4E8">(frame</span><span style="color:#F97583">.</span><span style="color:#B392F0">label</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">parse</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">i32</span><span style="color:#E1E4E8">&gt;()</span><span style="color:#F97583">.</span><span style="color:#B392F0">unwrap</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">.</span><span style="color:#B392F0">to_string</span><span style="color:#E1E4E8">())</span></span>
<span class="line"><span style="color:#E1E4E8">   });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">   power</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_callback</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">move</span><span style="color:#F97583"> |</span><span style="color:#E1E4E8">_</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">       println!</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;power button clicked&quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">   });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">   fancy_slider</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_callback</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">|</span><span style="color:#E1E4E8">s</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> s</span><span style="color:#F97583">.</span><span style="color:#B392F0">parent</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">unwrap</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">redraw</span><span style="color:#E1E4E8">());</span></span>
<span class="line"><span style="color:#E1E4E8">   app</span><span style="color:#F97583">.</span><span style="color:#B392F0">run</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">.</span><span style="color:#B392F0">unwrap</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<p>I should also mention <a href="https://gtk-rs.org">https://gtk-rs.org</a> here as it’s similar in its level of development primitives provided. Also, Relm4 (see the according tool in this post) is a GUI library based on it.</p>
<h3 id="18-makepad">18. <a href="https://github.com/makepad/makepad">Makepad</a></h3>
<p><strong>Makepad</strong> is a UI framework (native+web), and it has its own “satellite” IDE Makepad Studio.</p>
<p>According to the framework description, “applications built using Makepad Framework can run both natively and on the web, are rendered entirely on the GPU, and support a novel feature called live design.” [<a href="https://github.com/makepad/makepad/blob/21032963ca1d89fc2449d578faf0a1f17c08ec8c/widgets/README.md">https://github.com/makepad/makepad/blob/21032963ca1d89fc2449d578faf0a1f17c08ec8c/widgets/README.md</a>].</p>
<p>The styling of Makepad Framework applications is described using a domain-specific language with Rust macros. It allows for a live reload of these templates since they’re being fed right into a running Rust app, so the screen changes on the fly.</p>
<p>This is a great example of this framework in action:</p>
<iframe src="https://shades-makepad.apps.loskutoff.com" width="100%" height="400px"></iframe>
<p>Open <a href="https://shades-makepad.apps.loskutoff.com">the example</a> directly to hear sounds. They can’t make it through the iframe!</p>
<p>Instead of the provided player example code, there is an example code for a more simplistic Counter “hello world” app:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> wasm</span><span style="color:#F97583"> =</span><span style="color:#F97583"> await</span><span style="color:#E1E4E8"> WasmWebGL.</span><span style="color:#B392F0">fetch_and_instantiate_wasm</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#9ECBFF"> &quot;/makepad/target/wasm32-unknown-unknown/release/makepad-example-simple.wasm&quot;</span></span>
<span class="line"><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> MyWasmApp</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583"> constructor</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">wasm</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">   let</span><span style="color:#E1E4E8"> canvas </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> document.</span><span style="color:#B392F0">getElementsByClassName</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&#39;full_canvas&#39;</span><span style="color:#E1E4E8">)[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">];</span></span>
<span class="line"><span style="color:#79B8FF">   this</span><span style="color:#E1E4E8">.bridge </span><span style="color:#F97583">=</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> WasmWebGL</span><span style="color:#E1E4E8"> (wasm, </span><span style="color:#79B8FF">this</span><span style="color:#E1E4E8">, canvas);</span></span>
<span class="line"><span style="color:#E1E4E8"> }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">let</span><span style="color:#E1E4E8"> app </span><span style="color:#F97583">=</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> MyWasmApp</span><span style="color:#E1E4E8">(wasm);</span></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="rust"><code><span class="line"></span>
<span class="line"><span style="color:#6A737D">// main.rs</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> makepad_draw_2d</span><span style="color:#F97583">::*</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#E1E4E8"> makepad_widgets;</span></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> makepad_widgets</span><span style="color:#F97583">::*</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// The live_design macro generates a function that registers a DSL code block with the global</span></span>
<span class="line"><span style="color:#6A737D">// context object (`Cx`).</span></span>
<span class="line"><span style="color:#6A737D">//</span></span>
<span class="line"><span style="color:#6A737D">// DSL code blocks are used in Makepad to facilitate live design. A DSL code block defines</span></span>
<span class="line"><span style="color:#6A737D">// structured data that describes the styling of the UI. The Makepad runtime automatically</span></span>
<span class="line"><span style="color:#6A737D">// initializes widgets from their corresponding DSL objects. Moreover, external programs (such</span></span>
<span class="line"><span style="color:#6A737D">// as a code editor) can notify the Makepad runtime that a DSL code block has been changed, allowing</span></span>
<span class="line"><span style="color:#6A737D">// the runtime to automatically update the affected widgets.</span></span>
<span class="line"><span style="color:#B392F0">live_design!</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">   import </span><span style="color:#B392F0">makepad_widgets</span><span style="color:#F97583">::</span><span style="color:#B392F0">button</span><span style="color:#F97583">::</span><span style="color:#B392F0">Button</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">   import </span><span style="color:#B392F0">makepad_widgets</span><span style="color:#F97583">::</span><span style="color:#B392F0">label</span><span style="color:#F97583">::</span><span style="color:#B392F0">Label</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">   // The `{{App}}` syntax is used to inherit a DSL object from a Rust struct. This tells the</span></span>
<span class="line"><span style="color:#6A737D">   // Makepad runtime that our DSL object corresponds to a Rust struct named `App`. Whenever an</span></span>
<span class="line"><span style="color:#6A737D">   // instance of `App` is initialized, the Makepad runtime will obtain its initial values from</span></span>
<span class="line"><span style="color:#6A737D">   // this DSL object.</span></span>
<span class="line"><span style="color:#B392F0">   App</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> {{</span><span style="color:#B392F0">App</span><span style="color:#E1E4E8">}} {</span></span>
<span class="line"><span style="color:#6A737D">       // The `ui` field on the struct `App` defines a frame widget. Frames are used as containers</span></span>
<span class="line"><span style="color:#6A737D">       // for other widgets. Since the `ui` property on the DSL object `App` corresponds with the</span></span>
<span class="line"><span style="color:#6A737D">       // `ui` field on the Rust struct `App`, the latter will be initialized from the DSL object</span></span>
<span class="line"><span style="color:#6A737D">       // here below.</span></span>
<span class="line"><span style="color:#E1E4E8">       ui</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#6A737D">           // The `layout` property determines how child widgets are laid out within a frame. In</span></span>
<span class="line"><span style="color:#6A737D">           // this case, child widgets flow downward, with 20 pixels of spacing in between them,</span></span>
<span class="line"><span style="color:#6A737D">           // and centered horizontally with respect to the entire frame.</span></span>
<span class="line"><span style="color:#6A737D">           //</span></span>
<span class="line"><span style="color:#6A737D">           // Because the child widgets flow downward, vertical alignment works somewhat</span></span>
<span class="line"><span style="color:#6A737D">           // differently. In this case, children are centered vertically with respect to the</span></span>
<span class="line"><span style="color:#6A737D">           // remainder of the frame after the previous children have been drawn.</span></span>
<span class="line"><span style="color:#E1E4E8">           layout</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">               flow</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Down</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">               spacing</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> 20</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">               align</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">                   x</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> 0.5</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">                   y</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> 0.5</span></span>
<span class="line"><span style="color:#E1E4E8">               }</span></span>
<span class="line"><span style="color:#E1E4E8">           },</span></span>
<span class="line"><span style="color:#6A737D">           // The `walk` property determines how the frame widget itself is laid out. In this</span></span>
<span class="line"><span style="color:#6A737D">           // case, the frame widget takes up the entire window.</span></span>
<span class="line"><span style="color:#E1E4E8">           walk</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">               width</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Fill</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">               height</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Fill</span></span>
<span class="line"><span style="color:#E1E4E8">           },</span></span>
<span class="line"><span style="color:#E1E4E8">           bg</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">               shape</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Solid</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">               // The `fn pixel(self) -&gt; vec4` syntax is used to define a property named `pixel`,</span></span>
<span class="line"><span style="color:#6A737D">               // the value of which is a shader. We use our own custom DSL to define shaders. It&#39;s</span></span>
<span class="line"><span style="color:#6A737D">               // syntax is *mostly* compatible with GLSL, although there are some differences as</span></span>
<span class="line"><span style="color:#6A737D">               // well.</span></span>
<span class="line"><span style="color:#F97583">               fn</span><span style="color:#B392F0"> pixel</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">self</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-&gt;</span><span style="color:#E1E4E8"> vec4 {</span></span>
<span class="line"><span style="color:#6A737D">                   // Within a shader, the `self.geom_pos` syntax is used to access the `geom_pos`</span></span>
<span class="line"><span style="color:#6A737D">                   // attribute of the shader. In this case, the `geom_pos` attribute is built in,</span></span>
<span class="line"><span style="color:#6A737D">                   // and ranges from 0 to 1. over x and y of the rendered rectangle</span></span>
<span class="line"><span style="color:#F97583">                   return</span><span style="color:#B392F0"> mix</span><span style="color:#E1E4E8">(#</span><span style="color:#79B8FF">7</span><span style="color:#E1E4E8">, #</span><span style="color:#79B8FF">3</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">geom_pos</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">y);</span></span>
<span class="line"><span style="color:#E1E4E8">               }</span></span>
<span class="line"><span style="color:#E1E4E8">           }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">           // The `name:` syntax is used to define fields, i.e. properties for which there are</span></span>
<span class="line"><span style="color:#6A737D">           // corresponding struct fields. In contrast, the `name =` syntax is used to define</span></span>
<span class="line"><span style="color:#6A737D">           // instance properties, i.e. properties for which there are no corresponding struct</span></span>
<span class="line"><span style="color:#6A737D">           // fields. Note that fields and instance properties use different namespaces, so you</span></span>
<span class="line"><span style="color:#6A737D">           // can have both a field and an instance property with the same name.</span></span>
<span class="line"><span style="color:#6A737D">           //</span></span>
<span class="line"><span style="color:#6A737D">           // Widgets can hook into the Makepad runtime with custom code and determine for</span></span>
<span class="line"><span style="color:#6A737D">           // themselves how they want to handle instance properties. In the case of frame widgets,</span></span>
<span class="line"><span style="color:#6A737D">           // they simply iterate over their instance properties, and use them to instantiate their</span></span>
<span class="line"><span style="color:#6A737D">           // child widgets.</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">           // A button to increment the counter.</span></span>
<span class="line"><span style="color:#6A737D">           //</span></span>
<span class="line"><span style="color:#6A737D">           // The `&lt;Button&gt;` syntax is used to inherit a DSL object from another DSL object. This</span></span>
<span class="line"><span style="color:#6A737D">           // tells the Makepad runtime our DSL object has the same properties as the DSL object</span></span>
<span class="line"><span style="color:#6A737D">           // named `Button`, except for the properties defined here below, which override any</span></span>
<span class="line"><span style="color:#6A737D">           // existing values.</span></span>
<span class="line"><span style="color:#E1E4E8">           button1 </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> &lt;</span><span style="color:#B392F0">Button</span><span style="color:#E1E4E8">&gt; {</span></span>
<span class="line"><span style="color:#E1E4E8">               text</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;Click to count&quot;</span></span>
<span class="line"><span style="color:#E1E4E8">           }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">           // A label to display the counter.</span></span>
<span class="line"><span style="color:#E1E4E8">           label1 </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> &lt;</span><span style="color:#B392F0">Label</span><span style="color:#E1E4E8">&gt; {</span></span>
<span class="line"><span style="color:#E1E4E8">               label</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">                   color</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> #f</span></span>
<span class="line"><span style="color:#E1E4E8">               },</span></span>
<span class="line"><span style="color:#E1E4E8">               text</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> &quot;Counter: 0&quot;</span></span>
<span class="line"><span style="color:#E1E4E8">           }</span></span>
<span class="line"><span style="color:#E1E4E8">       }</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// This main_app macro generates the code necessary to initialize and run your application.</span></span>
<span class="line"><span style="color:#6A737D">//</span></span>
<span class="line"><span style="color:#6A737D">// This code is almost always the same between different applications, so it is convenient to use a</span></span>
<span class="line"><span style="color:#6A737D">// macro for it. The two main tasks that this code needs to carry out are: initializing both the</span></span>
<span class="line"><span style="color:#6A737D">// main application struct (`App`) and the global context object (`Cx`), and setting up event</span></span>
<span class="line"><span style="color:#6A737D">// handling. On desktop, this means creating and running our own event loop from a fn main(). On web, this means</span></span>
<span class="line"><span style="color:#6A737D">// creating an event handler function that the browser event loop can call into.</span></span>
<span class="line"><span style="color:#B392F0">main_app!</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">App</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// The main application struct.</span></span>
<span class="line"><span style="color:#6A737D">//</span></span>
<span class="line"><span style="color:#6A737D">// The #[derive(Live, LiveHook)] attribute implements a bunch of traits for this struct that enable</span></span>
<span class="line"><span style="color:#6A737D">// it to interact with the Makepad runtime. Among other things, this enables the Makepad runtime to</span></span>
<span class="line"><span style="color:#6A737D">// initialize the struct from a DSL object.</span></span>
<span class="line"><span style="color:#E1E4E8">#[derive(</span><span style="color:#B392F0">Live</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">LiveHook</span><span style="color:#E1E4E8">)]</span></span>
<span class="line"><span style="color:#F97583">pub</span><span style="color:#F97583"> struct</span><span style="color:#B392F0"> App</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#6A737D">   // A chromeless window for our application. Used to contain our frame widget.</span></span>
<span class="line"><span style="color:#E1E4E8">   window</span><span style="color:#F97583">:</span><span style="color:#B392F0"> BareWindow</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#6A737D">   // A frame widget. Used to contain our button and label.</span></span>
<span class="line"><span style="color:#E1E4E8">   ui</span><span style="color:#F97583">:</span><span style="color:#B392F0"> FrameRef</span><span style="color:#E1E4E8">,</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">   // The value for our counter.</span></span>
<span class="line"><span style="color:#6A737D">   //</span></span>
<span class="line"><span style="color:#6A737D">   // The #[rust] attribute here is used to indicate that this field should *not* be initialized</span></span>
<span class="line"><span style="color:#6A737D">   // from a DSL object, even when a corresponding property exists.</span></span>
<span class="line"><span style="color:#E1E4E8">   #[rust]</span></span>
<span class="line"><span style="color:#E1E4E8">   counter</span><span style="color:#F97583">:</span><span style="color:#B392F0"> usize</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">impl</span><span style="color:#B392F0"> App</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#6A737D">   // This function is used to register any DSL code blocks that you defined in this file. It is</span></span>
<span class="line"><span style="color:#6A737D">   // called automatically by the code we generated with the call to the macro `main_app` above.</span></span>
<span class="line"><span style="color:#6A737D">   // In this function you have to register any dependency crates live design code</span></span>
<span class="line"><span style="color:#F97583">   pub</span><span style="color:#F97583"> fn</span><span style="color:#B392F0"> live_design</span><span style="color:#E1E4E8">(cx</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;mut</span><span style="color:#B392F0"> Cx</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#B392F0">       makepad_widgets</span><span style="color:#F97583">::</span><span style="color:#B392F0">live_design</span><span style="color:#E1E4E8">(cx);</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">   // This function is used to handle any incoming events from the host system. It is called</span></span>
<span class="line"><span style="color:#6A737D">   // automatically by the code we generated with the call to the macro `main_app` above.</span></span>
<span class="line"><span style="color:#F97583">   pub</span><span style="color:#F97583"> fn</span><span style="color:#B392F0"> handle_event</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;mut</span><span style="color:#79B8FF"> self</span><span style="color:#E1E4E8">, cx</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;mut</span><span style="color:#B392F0"> Cx</span><span style="color:#E1E4E8">, event</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;</span><span style="color:#B392F0">Event</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">       if</span><span style="color:#F97583"> let</span><span style="color:#B392F0"> Event</span><span style="color:#F97583">::</span><span style="color:#B392F0">Draw</span><span style="color:#E1E4E8">(event) </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> event {</span></span>
<span class="line"><span style="color:#6A737D">           // This is a draw event, so create a draw context and use that to draw our application.</span></span>
<span class="line"><span style="color:#F97583">           let</span><span style="color:#F97583"> mut</span><span style="color:#E1E4E8"> draw_cx </span><span style="color:#F97583">=</span><span style="color:#B392F0"> Cx2d</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(cx, event);</span></span>
<span class="line"><span style="color:#F97583">           return</span><span style="color:#79B8FF"> self</span><span style="color:#F97583">.</span><span style="color:#B392F0">draw</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;mut</span><span style="color:#E1E4E8"> draw_cx);</span></span>
<span class="line"><span style="color:#E1E4E8">       }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">       // Forward the event to the window.</span></span>
<span class="line"><span style="color:#79B8FF">       self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">window</span><span style="color:#F97583">.</span><span style="color:#B392F0">handle_event</span><span style="color:#E1E4E8">(cx, event);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">       // Forward the event to the frame. In this case, handle_event returns a list of actions.</span></span>
<span class="line"><span style="color:#6A737D">       // Actions are similar to events, except that events are always forwarded downward to child</span></span>
<span class="line"><span style="color:#6A737D">       // widgets, while actions are always returned back upwards to parent widgets.</span></span>
<span class="line"><span style="color:#F97583">       let</span><span style="color:#E1E4E8"> actions </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">ui</span><span style="color:#F97583">.</span><span style="color:#B392F0">handle_event</span><span style="color:#E1E4E8">(cx, event);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">       // Get a reference to our button from the frame, and check if one of the actions returned by</span></span>
<span class="line"><span style="color:#6A737D">       // the frame was a notification that the button was clicked.</span></span>
<span class="line"><span style="color:#F97583">       if</span><span style="color:#79B8FF"> self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">ui</span><span style="color:#F97583">.</span><span style="color:#B392F0">get_button</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">id!</span><span style="color:#E1E4E8">(button1))</span><span style="color:#F97583">.</span><span style="color:#B392F0">clicked</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#E1E4E8">actions) {</span></span>
<span class="line"><span style="color:#6A737D">           // Increment the counter.</span></span>
<span class="line"><span style="color:#79B8FF">           self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">counter </span><span style="color:#F97583">+=</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">           // Get a reference to our label from the frame, update its text, and schedule a redraw</span></span>
<span class="line"><span style="color:#6A737D">           // for it.</span></span>
<span class="line"><span style="color:#F97583">           let</span><span style="color:#E1E4E8"> label </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">ui</span><span style="color:#F97583">.</span><span style="color:#B392F0">get_label</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">id!</span><span style="color:#E1E4E8">(label1));</span></span>
<span class="line"><span style="color:#E1E4E8">           label</span><span style="color:#F97583">.</span><span style="color:#B392F0">set_text</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#B392F0">format!</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;Counter: {}&quot;</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">counter));</span></span>
<span class="line"><span style="color:#E1E4E8">           label</span><span style="color:#F97583">.</span><span style="color:#B392F0">redraw</span><span style="color:#E1E4E8">(cx);</span></span>
<span class="line"><span style="color:#E1E4E8">       }</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">   // This is the immediate mode draw flow, as called above in response to the Draw event</span></span>
<span class="line"><span style="color:#F97583">   pub</span><span style="color:#F97583"> fn</span><span style="color:#B392F0"> draw</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;mut</span><span style="color:#79B8FF"> self</span><span style="color:#E1E4E8">, cx</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;mut</span><span style="color:#B392F0"> Cx2d</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#6A737D">       // Indicate that we want to begin drawing to the window.</span></span>
<span class="line"><span style="color:#F97583">       if</span><span style="color:#79B8FF"> self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">window</span><span style="color:#F97583">.</span><span style="color:#B392F0">begin</span><span style="color:#E1E4E8">(cx)</span><span style="color:#F97583">.</span><span style="color:#B392F0">not_redrawing</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">           return</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">       }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">       // Draw the frame to the window.</span></span>
<span class="line"><span style="color:#F97583">       let</span><span style="color:#E1E4E8"> _ </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">ui</span><span style="color:#F97583">.</span><span style="color:#B392F0">draw</span><span style="color:#E1E4E8">(cx);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">       // Indicate that we finished drawing to the window.</span></span>
<span class="line"><span style="color:#79B8FF">       self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">window</span><span style="color:#F97583">.</span><span style="color:#B392F0">end</span><span style="color:#E1E4E8">(cx);</span></span>
<span class="line"><span style="color:#E1E4E8">   }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<h3 id="19-rui">19. <a href="https://github.com/audulus/rui">Rui</a></h3>
<p><strong>Rui</strong> is an experimental Rust UI library inspired by SwiftUI. To date, this library is in the early days of development.</p>
<p>Rui is an immediate mode GUI library. It’s GPU rendered, updates reactively when state changes, and has richer layout options than other immediate mode UIs. The lib uses its own rendering tool vger-rs, like Druid would use Piet or Vello. One of its main goals is to <a href="https://github.com/audulus/rui#goals">“Encode UI in types to ensure stable identity.”</a>. For more info on identity and id paths, read <a href="https://raphlinus.github.io/rust/gui/2022/05/07/ui-architecture.html">Xilem’s creator UI architecture article</a>.</p>
<p>The initial purpose of Rui was that the creators wanted to move their own app (a modular music processing app) to a better platform (namely, Rust). The lib is not properly runnable on the web right now because the library’s default backend is WebGPU. However, I think it could be run on the web, albeit with some effort.</p>
<h3 id="20-silkenweb">20. <a href="https://github.com/silkenweb/silkenweb">Silkenweb</a></h3>
<p><strong>Silkenweb</strong> is a web-first library that emphasizes having no virtual DOM, no macro usage for describing DOM, and signal-based reactivity.</p>
<p>There’s their example that uses CSS and signals:</p>
<iframe src="https://shades-silkenweb.apps.loskutoff.com"></iframe>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="rust"><code><span class="line"><span style="color:#6A737D">// main.rs</span></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> silkenweb</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">{</span><span style="color:#B392F0">elements</span><span style="color:#F97583">::</span><span style="color:#B392F0">html</span><span style="color:#F97583">::*</span><span style="color:#E1E4E8">, log_panics, </span><span style="color:#B392F0">prelude</span><span style="color:#F97583">::*</span><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">silkenweb</span><span style="color:#F97583">::</span><span style="color:#B392F0">css!</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;color.css&quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">fn</span><span style="color:#B392F0"> change_color</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">    color</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;</span><span style="color:#B392F0">Mutable</span><span style="color:#E1E4E8">&lt;</span><span style="color:#F97583">&amp;</span><span style="color:#E1E4E8">&#39;</span><span style="color:#B392F0">static</span><span style="color:#B392F0"> str</span><span style="color:#E1E4E8">&gt;,</span></span>
<span class="line"><span style="color:#E1E4E8">    description</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;</span><span style="color:#B392F0">str</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    new_color</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;</span><span style="color:#E1E4E8">&#39;</span><span style="color:#B392F0">static</span><span style="color:#B392F0"> str</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">) </span><span style="color:#F97583">-&gt;</span><span style="color:#B392F0"> Button</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">    clone!</span><span style="color:#E1E4E8">(color);</span></span>
<span class="line"><span style="color:#B392F0">    button</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#F97583">        .</span><span style="color:#B392F0">text</span><span style="color:#E1E4E8">(description)</span></span>
<span class="line"><span style="color:#F97583">        .</span><span style="color:#B392F0">on_click</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">move</span><span style="color:#F97583"> |</span><span style="color:#E1E4E8">_, _</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> color</span><span style="color:#F97583">.</span><span style="color:#B392F0">set</span><span style="color:#E1E4E8">(new_color))</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">fn</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">    log_panics</span><span style="color:#E1E4E8">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    let</span><span style="color:#E1E4E8"> color </span><span style="color:#F97583">=</span><span style="color:#B392F0"> Mutable</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;green&quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">    let</span><span style="color:#E1E4E8"> app </span><span style="color:#F97583">=</span><span style="color:#B392F0"> div</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#F97583">        .</span><span style="color:#B392F0">style_property</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">var</span><span style="color:#F97583">::</span><span style="color:#79B8FF">COLOR</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Sig</span><span style="color:#E1E4E8">(color</span><span style="color:#F97583">.</span><span style="color:#B392F0">signal_cloned</span><span style="color:#E1E4E8">()))</span></span>
<span class="line"><span style="color:#F97583">        .</span><span style="color:#B392F0">child</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">change_color</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#E1E4E8">color, </span><span style="color:#9ECBFF">&quot;Red&quot;</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">&quot;red&quot;</span><span style="color:#E1E4E8">))</span></span>
<span class="line"><span style="color:#F97583">        .</span><span style="color:#B392F0">child</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">change_color</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#E1E4E8">color, </span><span style="color:#9ECBFF">&quot;Green&quot;</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">&quot;green&quot;</span><span style="color:#E1E4E8">))</span></span>
<span class="line"><span style="color:#F97583">        .</span><span style="color:#B392F0">child</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#B392F0">            div</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#F97583">                .</span><span style="color:#B392F0">class</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">class</span><span style="color:#F97583">::</span><span style="color:#79B8FF">COLOR</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">                .</span><span style="color:#B392F0">text</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;Click either the &#39;Red&#39; or &#39;Green&#39; button to set the color of this text.&quot;</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#E1E4E8">        );</span></span>
<span class="line"><span style="color:#B392F0">    mount</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;app&quot;</span><span style="color:#E1E4E8">, app);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="css"><code><span class="line"><span style="color:#B392F0">.color</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">    color</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">var</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">--color</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<h3 id="21-rust-dominator">21. <a href="https://github.com/Pauan/rust-dominator">Rust-dominator</a></h3>
<p><strong>Rust-dominator</strong> is another very fast library that uses direct DOM manipulation and leverages the Signals pattern.</p>
<p>It is describe as one of the fastest, and very scalable with O(1) cost of updates even in larger DOM.</p>
<iframe src="https://shades-rust-dominator.apps.loskutoff.com"></iframe>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="rust"><code><span class="line"><span style="color:#6A737D">// lib.rs</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> std</span><span style="color:#F97583">::</span><span style="color:#B392F0">sync</span><span style="color:#F97583">::</span><span style="color:#B392F0">Arc</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> wasm_bindgen</span><span style="color:#F97583">::</span><span style="color:#B392F0">prelude</span><span style="color:#F97583">::*</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> gloo_timers</span><span style="color:#F97583">::</span><span style="color:#B392F0">future</span><span style="color:#F97583">::</span><span style="color:#B392F0">TimeoutFuture</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> serde_derive</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">{</span><span style="color:#B392F0">Serialize</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Deserialize</span><span style="color:#E1E4E8">};</span></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> futures_signals</span><span style="color:#F97583">::</span><span style="color:#B392F0">signal</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">{</span><span style="color:#B392F0">Mutable</span><span style="color:#E1E4E8">, not};</span></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> dominator</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">{html, class, events, clone, with_node, </span><span style="color:#B392F0">Dom</span><span style="color:#E1E4E8">};</span></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> web_sys</span><span style="color:#F97583">::</span><span style="color:#B392F0">HtmlInputElement</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> once_cell</span><span style="color:#F97583">::</span><span style="color:#B392F0">sync</span><span style="color:#F97583">::</span><span style="color:#B392F0">Lazy</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> util</span><span style="color:#F97583">::*</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">mod</span><span style="color:#B392F0"> util</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">#[derive(</span><span style="color:#B392F0">Debug</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Serialize</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Deserialize</span><span style="color:#E1E4E8">)]</span></span>
<span class="line"><span style="color:#F97583">struct</span><span style="color:#B392F0"> User</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">    login</span><span style="color:#F97583">:</span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    id</span><span style="color:#F97583">:</span><span style="color:#B392F0"> u32</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    node_id</span><span style="color:#F97583">:</span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    avatar_url</span><span style="color:#F97583">:</span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    gravatar_id</span><span style="color:#F97583">:</span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    url</span><span style="color:#F97583">:</span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    html_url</span><span style="color:#F97583">:</span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    followers_url</span><span style="color:#F97583">:</span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    following_url</span><span style="color:#F97583">:</span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    gists_url</span><span style="color:#F97583">:</span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    starred_url</span><span style="color:#F97583">:</span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    subscriptions_url</span><span style="color:#F97583">:</span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    repos_url</span><span style="color:#F97583">:</span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    events_url</span><span style="color:#F97583">:</span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    received_events_url</span><span style="color:#F97583">:</span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    #[serde(rename </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> &quot;type&quot;</span><span style="color:#E1E4E8">)]</span></span>
<span class="line"><span style="color:#E1E4E8">    type_</span><span style="color:#F97583">:</span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    site_admin</span><span style="color:#F97583">:</span><span style="color:#B392F0"> bool</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    name</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Option</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">String</span><span style="color:#E1E4E8">&gt;,</span></span>
<span class="line"><span style="color:#E1E4E8">    company</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Option</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">String</span><span style="color:#E1E4E8">&gt;,</span></span>
<span class="line"><span style="color:#E1E4E8">    blog</span><span style="color:#F97583">:</span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    location</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Option</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">String</span><span style="color:#E1E4E8">&gt;,</span></span>
<span class="line"><span style="color:#E1E4E8">    email</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Option</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">String</span><span style="color:#E1E4E8">&gt;,</span></span>
<span class="line"><span style="color:#E1E4E8">    hireable</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Option</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">bool</span><span style="color:#E1E4E8">&gt;,</span></span>
<span class="line"><span style="color:#E1E4E8">    bio</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Option</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">String</span><span style="color:#E1E4E8">&gt;,</span></span>
<span class="line"><span style="color:#E1E4E8">    public_repos</span><span style="color:#F97583">:</span><span style="color:#B392F0"> u32</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    public_gists</span><span style="color:#F97583">:</span><span style="color:#B392F0"> u32</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    followers</span><span style="color:#F97583">:</span><span style="color:#B392F0"> u32</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    following</span><span style="color:#F97583">:</span><span style="color:#B392F0"> u32</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    created_at</span><span style="color:#F97583">:</span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    updated_at</span><span style="color:#F97583">:</span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">impl</span><span style="color:#B392F0"> User</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    async</span><span style="color:#F97583"> fn</span><span style="color:#B392F0"> fetch</span><span style="color:#E1E4E8">(user</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;</span><span style="color:#B392F0">str</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-&gt;</span><span style="color:#B392F0"> Result</span><span style="color:#E1E4E8">&lt;</span><span style="color:#79B8FF">Self</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">JsValue</span><span style="color:#E1E4E8">&gt; {</span></span>
<span class="line"><span style="color:#F97583">        let</span><span style="color:#E1E4E8"> user </span><span style="color:#F97583">=</span><span style="color:#B392F0"> fetch_github</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#B392F0">format!</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;https://api.github.com/users/{}&quot;</span><span style="color:#E1E4E8">, user))</span><span style="color:#F97583">.await?</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#B392F0">        Ok</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">serde_json</span><span style="color:#F97583">::</span><span style="color:#B392F0">from_str</span><span style="color:#F97583">::</span><span style="color:#E1E4E8">&lt;</span><span style="color:#79B8FF">Self</span><span style="color:#E1E4E8">&gt;(</span><span style="color:#F97583">&amp;</span><span style="color:#E1E4E8">user)</span><span style="color:#F97583">.</span><span style="color:#B392F0">unwrap</span><span style="color:#E1E4E8">())</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">struct</span><span style="color:#B392F0"> App</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">    user</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Mutable</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">Option</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">User</span><span style="color:#E1E4E8">&gt;&gt;,</span></span>
<span class="line"><span style="color:#E1E4E8">    input</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Mutable</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">String</span><span style="color:#E1E4E8">&gt;,</span></span>
<span class="line"><span style="color:#E1E4E8">    loader</span><span style="color:#F97583">:</span><span style="color:#B392F0"> AsyncLoader</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">impl</span><span style="color:#B392F0"> App</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    fn</span><span style="color:#B392F0"> new</span><span style="color:#E1E4E8">(name</span><span style="color:#F97583">:</span><span style="color:#F97583"> &amp;</span><span style="color:#B392F0">str</span><span style="color:#E1E4E8">, user</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Option</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">User</span><span style="color:#E1E4E8">&gt;) </span><span style="color:#F97583">-&gt;</span><span style="color:#B392F0"> Arc</span><span style="color:#E1E4E8">&lt;</span><span style="color:#79B8FF">Self</span><span style="color:#E1E4E8">&gt; {</span></span>
<span class="line"><span style="color:#B392F0">        Arc</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">Self</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">            user</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Mutable</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(user),</span></span>
<span class="line"><span style="color:#E1E4E8">            input</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Mutable</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(name</span><span style="color:#F97583">.</span><span style="color:#B392F0">to_string</span><span style="color:#E1E4E8">()),</span></span>
<span class="line"><span style="color:#E1E4E8">            loader</span><span style="color:#F97583">:</span><span style="color:#B392F0"> AsyncLoader</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">        })</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    fn</span><span style="color:#B392F0"> render</span><span style="color:#E1E4E8">(app</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Arc</span><span style="color:#E1E4E8">&lt;</span><span style="color:#79B8FF">Self</span><span style="color:#E1E4E8">&gt;) </span><span style="color:#F97583">-&gt;</span><span style="color:#B392F0"> Dom</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">        static</span><span style="color:#79B8FF"> APP</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Lazy</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">String</span><span style="color:#E1E4E8">&gt; </span><span style="color:#F97583">=</span><span style="color:#B392F0"> Lazy</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">||</span><span style="color:#B392F0"> class!</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">            .</span><span style="color:#B392F0">style</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;white-space&quot;</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">&quot;pre&quot;</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">        });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">        html!</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;div&quot;</span><span style="color:#E1E4E8">, {</span></span>
<span class="line"><span style="color:#F97583">            .</span><span style="color:#B392F0">class</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;*</span><span style="color:#79B8FF">APP</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">            .</span><span style="color:#B392F0">children</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;mut</span><span style="color:#E1E4E8"> [</span></span>
<span class="line"><span style="color:#B392F0">                html!</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;input&quot;</span><span style="color:#F97583"> =&gt;</span><span style="color:#B392F0"> HtmlInputElement</span><span style="color:#E1E4E8">, {</span></span>
<span class="line"><span style="color:#F97583">                    .</span><span style="color:#B392F0">prop_signal</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;value&quot;</span><span style="color:#E1E4E8">, app</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">input</span><span style="color:#F97583">.</span><span style="color:#B392F0">signal_cloned</span><span style="color:#E1E4E8">())</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">                    .</span><span style="color:#B392F0">with_node!</span><span style="color:#E1E4E8">(element </span><span style="color:#F97583">=&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">                        .</span><span style="color:#B392F0">event</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">clone!</span><span style="color:#E1E4E8">(app </span><span style="color:#F97583">=&gt;</span><span style="color:#F97583"> move</span><span style="color:#F97583"> |</span><span style="color:#E1E4E8">_</span><span style="color:#F97583">:</span><span style="color:#B392F0"> events</span><span style="color:#F97583">::</span><span style="color:#B392F0">Input</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">                            app</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">input</span><span style="color:#F97583">.</span><span style="color:#B392F0">set</span><span style="color:#E1E4E8">(element</span><span style="color:#F97583">.</span><span style="color:#B392F0">value</span><span style="color:#E1E4E8">());</span></span>
<span class="line"><span style="color:#E1E4E8">                        }))</span></span>
<span class="line"><span style="color:#E1E4E8">                    })</span></span>
<span class="line"><span style="color:#E1E4E8">                }),</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">                html!</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;button&quot;</span><span style="color:#E1E4E8">, {</span></span>
<span class="line"><span style="color:#F97583">                    .</span><span style="color:#B392F0">text</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;Lookup user&quot;</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">                    .</span><span style="color:#B392F0">event</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">clone!</span><span style="color:#E1E4E8">(app </span><span style="color:#F97583">=&gt;</span><span style="color:#F97583"> move</span><span style="color:#F97583"> |</span><span style="color:#E1E4E8">_</span><span style="color:#F97583">:</span><span style="color:#B392F0"> events</span><span style="color:#F97583">::</span><span style="color:#B392F0">Click</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">                        let</span><span style="color:#E1E4E8"> input </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> app</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">input</span><span style="color:#F97583">.</span><span style="color:#B392F0">lock_ref</span><span style="color:#E1E4E8">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">                        if</span><span style="color:#F97583"> *</span><span style="color:#E1E4E8">input </span><span style="color:#F97583">==</span><span style="color:#9ECBFF"> &quot;&quot;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">                            app</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">user</span><span style="color:#F97583">.</span><span style="color:#B392F0">set</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">None</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">                        } </span><span style="color:#F97583">else</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">                            let</span><span style="color:#E1E4E8"> input </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> input</span><span style="color:#F97583">.</span><span style="color:#B392F0">to_string</span><span style="color:#E1E4E8">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">                            app</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">loader</span><span style="color:#F97583">.</span><span style="color:#B392F0">load</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">clone!</span><span style="color:#E1E4E8">(app </span><span style="color:#F97583">=&gt;</span><span style="color:#F97583"> async</span><span style="color:#F97583"> move</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#6A737D">                                // Simulate a slow network</span></span>
<span class="line"><span style="color:#B392F0">                                TimeoutFuture</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">5_000</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">.await</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">                                let</span><span style="color:#E1E4E8"> user </span><span style="color:#F97583">=</span><span style="color:#B392F0"> User</span><span style="color:#F97583">::</span><span style="color:#B392F0">fetch</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#E1E4E8">input)</span><span style="color:#F97583">.await.</span><span style="color:#B392F0">ok</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">                                app</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">user</span><span style="color:#F97583">.</span><span style="color:#B392F0">set</span><span style="color:#E1E4E8">(user);</span></span>
<span class="line"><span style="color:#E1E4E8">                            }));</span></span>
<span class="line"><span style="color:#E1E4E8">                        }</span></span>
<span class="line"><span style="color:#E1E4E8">                    }))</span></span>
<span class="line"><span style="color:#E1E4E8">                }),</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">                html!</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;button&quot;</span><span style="color:#E1E4E8">, {</span></span>
<span class="line"><span style="color:#F97583">                    .</span><span style="color:#B392F0">text</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;Cancel&quot;</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">                    .</span><span style="color:#B392F0">event</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">clone!</span><span style="color:#E1E4E8">(app </span><span style="color:#F97583">=&gt;</span><span style="color:#F97583"> move</span><span style="color:#F97583"> |</span><span style="color:#E1E4E8">_</span><span style="color:#F97583">:</span><span style="color:#B392F0"> events</span><span style="color:#F97583">::</span><span style="color:#B392F0">Click</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">                        app</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">loader</span><span style="color:#F97583">.</span><span style="color:#B392F0">cancel</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">                    }))</span></span>
<span class="line"><span style="color:#E1E4E8">                }),</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">                html!</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;div&quot;</span><span style="color:#E1E4E8">, {</span></span>
<span class="line"><span style="color:#F97583">                    .</span><span style="color:#B392F0">visible_signal</span><span style="color:#E1E4E8">(app</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">loader</span><span style="color:#F97583">.</span><span style="color:#B392F0">is_loading</span><span style="color:#E1E4E8">())</span></span>
<span class="line"><span style="color:#F97583">                    .</span><span style="color:#B392F0">text</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;LOADING&quot;</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">                }),</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">                html!</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;div&quot;</span><span style="color:#E1E4E8">, {</span></span>
<span class="line"><span style="color:#F97583">                    .</span><span style="color:#B392F0">visible_signal</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">not</span><span style="color:#E1E4E8">(app</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">loader</span><span style="color:#F97583">.</span><span style="color:#B392F0">is_loading</span><span style="color:#E1E4E8">()))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">                    .</span><span style="color:#B392F0">text_signal</span><span style="color:#E1E4E8">(app</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">user</span><span style="color:#F97583">.</span><span style="color:#B392F0">signal_ref</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">|</span><span style="color:#E1E4E8">user</span><span style="color:#F97583">|</span><span style="color:#B392F0"> format!</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;{:#?}&quot;</span><span style="color:#E1E4E8">, user)))</span></span>
<span class="line"><span style="color:#E1E4E8">                }),</span></span>
<span class="line"><span style="color:#E1E4E8">            ])</span></span>
<span class="line"><span style="color:#E1E4E8">        })</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">#[wasm_bindgen(start)]</span></span>
<span class="line"><span style="color:#F97583">pub</span><span style="color:#F97583"> async</span><span style="color:#F97583"> fn</span><span style="color:#B392F0"> main_js</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">-&gt;</span><span style="color:#B392F0"> Result</span><span style="color:#E1E4E8">&lt;(), </span><span style="color:#B392F0">JsValue</span><span style="color:#E1E4E8">&gt; {</span></span>
<span class="line"><span style="color:#B392F0">    console_error_panic_hook</span><span style="color:#F97583">::</span><span style="color:#B392F0">set_once</span><span style="color:#E1E4E8">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    let</span><span style="color:#E1E4E8"> user </span><span style="color:#F97583">=</span><span style="color:#B392F0"> User</span><span style="color:#F97583">::</span><span style="color:#B392F0">fetch</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;Pauan&quot;</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">.await.</span><span style="color:#B392F0">ok</span><span style="color:#E1E4E8">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    let</span><span style="color:#E1E4E8"> app </span><span style="color:#F97583">=</span><span style="color:#B392F0"> App</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;Pauan&quot;</span><span style="color:#E1E4E8">, user);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">    dominator</span><span style="color:#F97583">::</span><span style="color:#B392F0">append_dom</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&amp;</span><span style="color:#B392F0">dominator</span><span style="color:#F97583">::</span><span style="color:#B392F0">body</span><span style="color:#E1E4E8">(), </span><span style="color:#B392F0">App</span><span style="color:#F97583">::</span><span style="color:#B392F0">render</span><span style="color:#E1E4E8">(app));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">    Ok</span><span style="color:#E1E4E8">(())</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<h2 id="six-tips-for-building-webassembly-bundles">Six tips for building WebAssembly bundles</h2>
<p>Now that we’ve established the contemporary toolkit, I’d like to share how I built WebAssembly bundles using these libraries.</p>
<p>First, <a href="https://github.com/thedodd/trunk">Trunk</a> is a nice tool to build Wasm and roll out a dev web server for live updates. In some cases, just running <code>trunk serve</code> was enough for me. In other cases, you have to build the classy way (<code>cargo build --release --target wasm32-unknown-unknown</code> and <code>wasm-bindgen</code>), and serve with any static server, for example,  <code>python3 -m http.server</code>.</p>
<p>Second, the <a href="https://github.com/rust-random/getrandom">getrandom</a> lib used in the dependency tree was often an issue, but it can be resolved if we just add it to the project with the “js” feature enabled.</p>
<p>Third, any asynchronous features have issues with Wasm builds. This is currently mitigated by the lib <a href="https://docs.rs/gloo-timers/latest/gloo_timers/">gloo-timers</a>. Other ways to cope with these issues are addressed in my blog post How to set up a Wasm API for a CHIP-8 emulator.</p>
<p>Fourth, some libs/framework ship their own futures, like Sycamore: <code>features=[“suspense”]</code>.</p>
<p>Fifth, I had to run most examples from the latest master branches (the published lib APIs were already outdated there) because the libraries are so volatile at this point.</p>
<p>Sixth, although the standard is called WebGPU, the apps written as backend with WebGPU actually work better on Desktop. However, this will change soon when WebGPU gets better support in browsers.</p>
<h2 id="pet-sematary">Pet Sematary</h2>
<p>It’s also worth mentioning tools that are currently discontinued or no longer actively maintained. Most of these tools were the foundation and inspiration of the currently maintained libraries I’ve mentioned above. Since Rust UI is extremely turbulent, I’ll include the repositories that haven’t been updated in a year.</p>
<ol>
<li><a href="https://github.com/linebender/druid">Druid</a></li>
</ol>
<p>Druid has been discontinued by the core development team who moved their efforts to <a href="https://github.com/linebender/xilem">xilem</a>. However, some support and updates have been done, like the recent <a href="https://www.reddit.com/r/rust/comments/10n0t7l/druid_a_rustnative_ui_toolkit_released_v08_after/">0.8v release</a>.</p>
<ol start="2">
<li><a href="https://github.com/anp/moxie">Moxie</a></li>
</ol>
<p>Moxie is either dead or in a very deep sleep.</p>
<ol start="3">
<li><a href="https://github.com/seed-rs/seed">Seed</a></li>
</ol>
<p>Seed has an Elm-like architecture and <a href="https://github.com/seed-rs/seed#why-not-seed">is not maintained at the moment</a>.</p>
<ol start="4">
<li><a href="https://github.com/pistondevelopers/conrod">Conrod</a></li>
</ol>
<p>Conrod is no longer maintained.</p>
<ol start="5">
<li><a href="https://github.com/redox-os/orbtk">Orbtk</a></li>
</ol>
<p>Orbtk has experienced its sunset.</p>
<h2 id="conclusions">Conclusions</h2>
<p>Overall, the current state of Rust GUI tools is precarious, so the tools you choose today can deprecate by tomorrow.  These tools move so fast that they’re even ahead of browsers (WebGPU–I’m talking about you). And that’s not a bad thing.</p>
<p>There’s a lot of momentum in development right now, which will lead to both new and better ways to deal with GUI as devs improve on the techniques that were established in the (shockingly) recent past.</p>
<p>If it exists at all, the Holy Grail of Rust GUI architecture is yet to be found, as GUI has its own set of complex problems. However, the community is searching for the best solutions right now, which means some tools will inevitably be abandoned. And soon, this post will become obsolete and retire to the Pet Sematary as well. When this inevitably happens, I’ll publish a new post. You should also expect to discover new tools popping up from time to time as you explore on your own. For better or for worse, it’s an interesting time to be alive as we discover the capacities of Rust GUI tools, new and old!</p>
<h2 id="references">References</h2>
<p>Although I used multiple different articles to feed and validate this work, the two that impressed me the most were Raph Levien’s blog, Xilem: an architecture for UI in Rust and Diggory Hardy’s blog, State of GUI 2022.</p>
<p>Each blog provides an in-depth, educated look into the problems and solutions of GUI, specifically in Rust. Fittingly, both blogs are written by real library creators. The former comes from the creator of Druid/Xilem, and the latter from the creator of Kas. They both know their trade indeed.</p>
<p>Also, <a href="https://github.com/dearlordylord/shades-of-rust">here is my Github repository</a> with complete code examples for most of the tools presented in the article.</p> <script src="https://utteranc.es/client.js" repo="dearlordylord/blog" issue-term="pathname" theme="github-dark" crossorigin="anonymous" async>
    </script>  </div> </article>  </div> </main> </body></html>